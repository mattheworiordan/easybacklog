(function(){var s=this;var q=s._;var b={};var i=Array.prototype,B=Object.prototype;var r=i.slice,v=i.unshift,u=B.toString,n=B.hasOwnProperty;var l=i.forEach,h=i.map,z=i.reduce,e=i.reduceRight,k=i.filter,a=i.every,y=i.some,t=i.indexOf,f=i.lastIndexOf,c=Array.isArray,A=Object.keys;var C=function(D){return new g(D)};if(typeof module!=="undefined"&&module.exports){module.exports=C;C._=C}else{s._=C}C.VERSION="1.1.4";var d=C.each=C.forEach=function(J,H,G){var I;if(J==null){return}if(l&&J.forEach===l){J.forEach(H,G)}else{if(C.isNumber(J.length)){for(var F=0,D=J.length;F<D;F++){if(H.call(G,J[F],F,J)===b){return}}}else{for(var E in J){if(n.call(J,E)){if(H.call(G,J[E],E,J)===b){return}}}}}};C.map=function(G,F,E){var D=[];if(G==null){return D}if(h&&G.map===h){return G.map(F,E)}d(G,function(J,H,I){D[D.length]=F.call(E,J,H,I)});return D};C.reduce=C.foldl=C.inject=function(H,G,D,F){var E=D!==void 0;if(H==null){H=[]}if(z&&H.reduce===z){if(F){G=C.bind(G,F)}return E?H.reduce(G,D):H.reduce(G)}d(H,function(K,I,J){if(!E&&I===0){D=K;E=true}else{D=G.call(F,D,K,I,J)}});if(!E){throw new TypeError("Reduce of empty array with no initial value")}return D};C.reduceRight=C.foldr=function(G,F,D,E){if(G==null){G=[]}if(e&&G.reduceRight===e){if(E){F=C.bind(F,E)}return D!==void 0?G.reduceRight(F,D):G.reduceRight(F)}var H=(C.isArray(G)?G.slice():C.toArray(G)).reverse();return C.reduce(H,F,D,E)};C.find=C.detect=function(G,F,E){var D;o(G,function(J,H,I){if(F.call(E,J,H,I)){D=J;return true}});return D};C.filter=C.select=function(G,F,E){var D=[];if(G==null){return D}if(k&&G.filter===k){return G.filter(F,E)}d(G,function(J,H,I){if(F.call(E,J,H,I)){D[D.length]=J}});return D};C.reject=function(G,F,E){var D=[];if(G==null){return D}d(G,function(J,H,I){if(!F.call(E,J,H,I)){D[D.length]=J}});return D};C.every=C.all=function(G,F,E){F=F||C.identity;var D=true;if(G==null){return D}if(a&&G.every===a){return G.every(F,E)}d(G,function(J,H,I){if(!(D=D&&F.call(E,J,H,I))){return b}});return D};var o=C.some=C.any=function(G,F,E){F=F||C.identity;var D=false;if(G==null){return D}if(y&&G.some===y){return G.some(F,E)}d(G,function(J,H,I){if(D=F.call(E,J,H,I)){return b}});return D};C.include=C.contains=function(F,E){var D=false;if(F==null){return D}if(t&&F.indexOf===t){return F.indexOf(E)!=-1}o(F,function(G){if(D=G===E){return true}});return D};C.invoke=function(E,F){var D=r.call(arguments,2);return C.map(E,function(G){return(F?G[F]:G).apply(G,D)})};C.pluck=function(E,D){return C.map(E,function(F){return F[D]})};C.max=function(G,F,E){if(!F&&C.isArray(G)){return Math.max.apply(Math,G)}var D={computed:-Infinity};d(G,function(K,H,J){var I=F?F.call(E,K,H,J):K;I>=D.computed&&(D={value:K,computed:I})});return D.value};C.min=function(G,F,E){if(!F&&C.isArray(G)){return Math.min.apply(Math,G)}var D={computed:Infinity};d(G,function(K,H,J){var I=F?F.call(E,K,H,J):K;I<D.computed&&(D={value:K,computed:I})});return D.value};C.sortBy=function(F,E,D){return C.pluck(C.map(F,function(I,G,H){return{value:I,criteria:E.call(D,I,G,H)}}).sort(function(J,I){var H=J.criteria,G=I.criteria;return H<G?-1:H>G?1:0}),"value")};C.sortedIndex=function(I,H,F){F=F||C.identity;var D=0,G=I.length;while(D<G){var E=(D+G)>>1;F(I[E])<F(H)?D=E+1:G=E}return D};C.toArray=function(D){if(!D){return[]}if(D.toArray){return D.toArray()}if(C.isArray(D)){return D}if(C.isArguments(D)){return r.call(D)}return C.values(D)};C.size=function(D){return C.toArray(D).length};C.first=C.head=function(F,E,D){return E&&!D?r.call(F,0,E):F[0]};C.rest=C.tail=function(F,D,E){return r.call(F,C.isUndefined(D)||E?1:D)};C.last=function(D){return D[D.length-1]};C.compact=function(D){return C.filter(D,function(E){return !!E})};C.flatten=function(D){return C.reduce(D,function(E,F){if(C.isArray(F)){return E.concat(C.flatten(F))}E[E.length]=F;return E},[])};C.without=function(E){var D=r.call(arguments,1);return C.filter(E,function(F){return !C.include(D,F)})};C.uniq=C.unique=function(E,D){return C.reduce(E,function(F,H,G){if(0==G||(D===true?C.last(F)!=H:!C.include(F,H))){F[F.length]=H}return F},[])};C.intersect=function(E){var D=r.call(arguments,1);return C.filter(C.uniq(E),function(F){return C.every(D,function(G){return C.indexOf(G,F)>=0})})};C.zip=function(){var D=r.call(arguments);var G=C.max(C.pluck(D,"length"));var F=new Array(G);for(var E=0;E<G;E++){F[E]=C.pluck(D,""+E)}return F};C.indexOf=function(H,F,G){if(H==null){return -1}if(G){var E=C.sortedIndex(H,F);return H[E]===F?E:-1}if(t&&H.indexOf===t){return H.indexOf(F)}for(var E=0,D=H.length;E<D;E++){if(H[E]===F){return E}}return -1};C.lastIndexOf=function(F,E){if(F==null){return -1}if(f&&F.lastIndexOf===f){return F.lastIndexOf(E)}var D=F.length;while(D--){if(F[D]===E){return D}}return -1};C.range=function(K,H,I){var G=r.call(arguments),J=G.length<=1,K=J?0:G[0],H=J?G[0]:G[1],I=G[2]||1,E=Math.max(Math.ceil((H-K)/I),0),D=0,F=new Array(E);while(D<E){F[D++]=K;K+=I}return F};C.bind=function(E,F){var D=r.call(arguments,2);return function(){return E.apply(F||{},D.concat(r.call(arguments)))}};C.bindAll=function(E){var D=r.call(arguments,1);if(D.length==0){D=C.functions(E)}d(D,function(F){E[F]=C.bind(E[F],E)});return E};C.memoize=function(F,E){var D={};E=E||C.identity;return function(){var G=E.apply(this,arguments);return G in D?D[G]:(D[G]=F.apply(this,arguments))}};C.delay=function(E,F){var D=r.call(arguments,2);return setTimeout(function(){return E.apply(E,D)},F)};C.defer=function(D){return C.delay.apply(C,[D,1].concat(r.call(arguments,1)))};var w=function(E,G,D){var F;return function(){var I=this,H=arguments;var J=function(){F=null;E.apply(I,H)};if(D){clearTimeout(F)}if(D||!F){F=setTimeout(J,G)}}};C.throttle=function(D,E){return w(D,E,false)};C.debounce=function(D,E){return w(D,E,true)};C.wrap=function(D,E){return function(){var F=[D].concat(r.call(arguments));return E.apply(this,F)}};C.compose=function(){var D=r.call(arguments);return function(){var E=r.call(arguments);for(var F=D.length-1;F>=0;F--){E=[D[F].apply(this,E)]}return E[0]}};C.keys=A||function(F){if(C.isArray(F)){return C.range(0,F.length)}var E=[];for(var D in F){if(n.call(F,D)){E[E.length]=D}}return E};C.values=function(D){return C.map(D,C.identity)};C.functions=C.methods=function(D){return C.filter(C.keys(D),function(E){return C.isFunction(D[E])}).sort()};C.extend=function(D){d(r.call(arguments,1),function(E){for(var F in E){D[F]=E[F]}});return D};C.clone=function(D){return C.isArray(D)?D.slice():C.extend({},D)};C.tap=function(E,D){D(E);return E};C.isEqual=function(E,D){if(E===D){return true}var H=typeof(E),J=typeof(D);if(H!=J){return false}if(E==D){return true}if((!E&&D)||(E&&!D)){return false}if(E._chain){E=E._wrapped}if(D._chain){D=D._wrapped}if(E.isEqual){return E.isEqual(D)}if(C.isDate(E)&&C.isDate(D)){return E.getTime()===D.getTime()}if(C.isNaN(E)&&C.isNaN(D)){return false}if(C.isRegExp(E)&&C.isRegExp(D)){return E.source===D.source&&E.global===D.global&&E.ignoreCase===D.ignoreCase&&E.multiline===D.multiline}if(H!=="object"){return false}if(E.length&&(E.length!==D.length)){return false}var F=C.keys(E),I=C.keys(D);if(F.length!=I.length){return false}for(var G in E){if(!(G in D)||!C.isEqual(E[G],D[G])){return false}}return true};C.isEmpty=function(E){if(C.isArray(E)||C.isString(E)){return E.length===0}for(var D in E){if(n.call(E,D)){return false}}return true};C.isElement=function(D){return !!(D&&D.nodeType==1)};C.isArray=c||function(D){return u.call(D)==="[object Array]"};C.isArguments=function(D){return !!(D&&n.call(D,"callee"))};C.isFunction=function(D){return !!(D&&D.constructor&&D.call&&D.apply)};C.isString=function(D){return !!(D===""||(D&&D.charCodeAt&&D.substr))};C.isNumber=function(D){return !!(D===0||(D&&D.toExponential&&D.toFixed))};C.isNaN=function(D){return D!==D};C.isBoolean=function(D){return D===true||D===false};C.isDate=function(D){return !!(D&&D.getTimezoneOffset&&D.setUTCFullYear)};C.isRegExp=function(D){return !!(D&&D.test&&D.exec&&(D.ignoreCase||D.ignoreCase===false))};C.isNull=function(D){return D===null};C.isUndefined=function(D){return D===void 0};C.noConflict=function(){s._=q;return this};C.identity=function(D){return D};C.times=function(G,F,E){for(var D=0;D<G;D++){F.call(E,D)}};C.mixin=function(D){d(C.functions(D),function(E){p(E,C[E]=D[E])})};var j=0;C.uniqueId=function(D){var E=j++;return D?D+E:E};C.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g};C.template=function(G,F){var H=C.templateSettings;var D="var __p=[],print=function(){__p.push.apply(__p,arguments);};with(obj||{}){__p.push('"+G.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(H.interpolate,function(I,J){return"',"+J.replace(/\\'/g,"'")+",'"}).replace(H.evaluate||null,function(I,J){return"');"+J.replace(/\\'/g,"'").replace(/[\r\n\t]/g," ")+"__p.push('"}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+"');}return __p.join('');";var E=new Function("obj",D);return F?E(F):E};var g=function(D){this._wrapped=D};C.prototype=g.prototype;var m=function(E,D){return D?C(E).chain():E};var p=function(D,E){g.prototype[D]=function(){var F=r.call(arguments);v.call(F,this._wrapped);return m(E.apply(C,F),this._chain)}};C.mixin(C);d(["pop","push","reverse","shift","sort","splice","unshift"],function(D){var E=i[D];g.prototype[D]=function(){E.apply(this._wrapped,arguments);return m(this._wrapped,this._chain)}});d(["concat","join","slice"],function(D){var E=i[D];g.prototype[D]=function(){return m(E.apply(this._wrapped,arguments),this._chain)}});g.prototype.chain=function(){this._chain=true;return this};g.prototype.value=function(){return this._wrapped}})();
/*!
 * jQuery JavaScript Library v1.5
 * http://jquery.com/
 *
 * Copyright 2011, John Resig
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 * Copyright 2011, The Dojo Foundation
 * Released under the MIT, BSD, and GPL Licenses.
 *
 * Date: Mon Jan 31 08:31:29 2011 -0500
 */
(function(aQ,F){var af=aQ.document;var a=(function(){var bg=function(bB,bC){return new bg.fn.init(bB,bC,be)},bw=aQ.jQuery,bi=aQ.$,be,bA=/^(?:[^<]*(<[\w\W]+>)[^>]*$|#([\w\-]+)$)/,bo=/\S/,bk=/^\s+/,bf=/\s+$/,bj=/\d/,bc=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,bp=/^[\],:{}\s]*$/,by=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,br=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,bl=/(?:^|:|,)(?:\s*\[)+/g,ba=/(webkit)[ \/]([\w.]+)/,bt=/(opera)(?:.*version)?[ \/]([\w.]+)/,bs=/(msie) ([\w.]+)/,bu=/(mozilla)(?:.*? rv:([\w.]+))?/,bz=navigator.userAgent,bx,bv=false,bd,a5="then done fail isResolved isRejected promise".split(" "),a6,bn=Object.prototype.toString,bh=Object.prototype.hasOwnProperty,bb=Array.prototype.push,bm=Array.prototype.slice,bq=String.prototype.trim,a7=Array.prototype.indexOf,a9={};bg.fn=bg.prototype={constructor:bg,init:function(bB,bF,bE){var bD,bG,bC,bH;if(!bB){return this}if(bB.nodeType){this.context=this[0]=bB;this.length=1;return this}if(bB==="body"&&!bF&&af.body){this.context=af;this[0]=af.body;this.selector="body";this.length=1;return this}if(typeof bB==="string"){bD=bA.exec(bB);if(bD&&(bD[1]||!bF)){if(bD[1]){bF=bF instanceof bg?bF[0]:bF;bH=(bF?bF.ownerDocument||bF:af);bC=bc.exec(bB);if(bC){if(bg.isPlainObject(bF)){bB=[af.createElement(bC[1])];bg.fn.attr.call(bB,bF,true)}else{bB=[bH.createElement(bC[1])]}}else{bC=bg.buildFragment([bD[1]],[bH]);bB=(bC.cacheable?bg.clone(bC.fragment):bC.fragment).childNodes}return bg.merge(this,bB)}else{bG=af.getElementById(bD[2]);if(bG&&bG.parentNode){if(bG.id!==bD[2]){return bE.find(bB)}this.length=1;this[0]=bG}this.context=af;this.selector=bB;return this}}else{if(!bF||bF.jquery){return(bF||bE).find(bB)}else{return this.constructor(bF).find(bB)}}}else{if(bg.isFunction(bB)){return bE.ready(bB)}}if(bB.selector!==F){this.selector=bB.selector;this.context=bB.context}return bg.makeArray(bB,this)},selector:"",jquery:"1.5",length:0,size:function(){return this.length},toArray:function(){return bm.call(this,0)},get:function(bB){return bB==null?this.toArray():(bB<0?this[this.length+bB]:this[bB])},pushStack:function(bC,bE,bB){var bD=this.constructor();if(bg.isArray(bC)){bb.apply(bD,bC)}else{bg.merge(bD,bC)}bD.prevObject=this;bD.context=this.context;if(bE==="find"){bD.selector=this.selector+(this.selector?" ":"")+bB}else{if(bE){bD.selector=this.selector+"."+bE+"("+bB+")"}}return bD},each:function(bC,bB){return bg.each(this,bC,bB)},ready:function(bB){bg.bindReady();bd.done(bB);return this},eq:function(bB){return bB===-1?this.slice(bB):this.slice(bB,+bB+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(bm.apply(this,arguments),"slice",bm.call(arguments).join(","))},map:function(bB){return this.pushStack(bg.map(this,function(bD,bC){return bB.call(bD,bC,bD)}))},end:function(){return this.prevObject||this.constructor(null)},push:bb,sort:[].sort,splice:[].splice};bg.fn.init.prototype=bg.fn;bg.extend=bg.fn.extend=function(){var bK,bD,bB,bC,bH,bI,bG=arguments[0]||{},bF=1,bE=arguments.length,bJ=false;if(typeof bG==="boolean"){bJ=bG;bG=arguments[1]||{};bF=2}if(typeof bG!=="object"&&!bg.isFunction(bG)){bG={}}if(bE===bF){bG=this;--bF}for(;bF<bE;bF++){if((bK=arguments[bF])!=null){for(bD in bK){bB=bG[bD];bC=bK[bD];if(bG===bC){continue}if(bJ&&bC&&(bg.isPlainObject(bC)||(bH=bg.isArray(bC)))){if(bH){bH=false;bI=bB&&bg.isArray(bB)?bB:[]}else{bI=bB&&bg.isPlainObject(bB)?bB:{}}bG[bD]=bg.extend(bJ,bI,bC)}else{if(bC!==F){bG[bD]=bC}}}}}return bG};bg.extend({noConflict:function(bB){aQ.$=bi;if(bB){aQ.jQuery=bw}return bg},isReady:false,readyWait:1,ready:function(bB){if(bB===true){bg.readyWait--}if(!bg.readyWait||(bB!==true&&!bg.isReady)){if(!af.body){return setTimeout(bg.ready,1)}bg.isReady=true;if(bB!==true&&--bg.readyWait>0){return}bd.resolveWith(af,[bg]);if(bg.fn.trigger){bg(af).trigger("ready").unbind("ready")}}},bindReady:function(){if(bv){return}bv=true;if(af.readyState==="complete"){return setTimeout(bg.ready,1)}if(af.addEventListener){af.addEventListener("DOMContentLoaded",a6,false);aQ.addEventListener("load",bg.ready,false)}else{if(af.attachEvent){af.attachEvent("onreadystatechange",a6);aQ.attachEvent("onload",bg.ready);var bB=false;try{bB=aQ.frameElement==null}catch(bC){}if(af.documentElement.doScroll&&bB){a8()}}}},isFunction:function(bB){return bg.type(bB)==="function"},isArray:Array.isArray||function(bB){return bg.type(bB)==="array"},isWindow:function(bB){return bB&&typeof bB==="object"&&"setInterval" in bB},isNaN:function(bB){return bB==null||!bj.test(bB)||isNaN(bB)},type:function(bB){return bB==null?String(bB):a9[bn.call(bB)]||"object"},isPlainObject:function(bC){if(!bC||bg.type(bC)!=="object"||bC.nodeType||bg.isWindow(bC)){return false}if(bC.constructor&&!bh.call(bC,"constructor")&&!bh.call(bC.constructor.prototype,"isPrototypeOf")){return false}var bB;for(bB in bC){}return bB===F||bh.call(bC,bB)},isEmptyObject:function(bC){for(var bB in bC){return false}return true},error:function(bB){throw bB},parseJSON:function(bB){if(typeof bB!=="string"||!bB){return null}bB=bg.trim(bB);if(bp.test(bB.replace(by,"@").replace(br,"]").replace(bl,""))){return aQ.JSON&&aQ.JSON.parse?aQ.JSON.parse(bB):(new Function("return "+bB))()}else{bg.error("Invalid JSON: "+bB)}},parseXML:function(bD,bB,bC){if(aQ.DOMParser){bC=new DOMParser();bB=bC.parseFromString(bD,"text/xml")}else{bB=new ActiveXObject("Microsoft.XMLDOM");bB.async="false";bB.loadXML(bD)}bC=bB.documentElement;if(!bC||!bC.nodeName||bC.nodeName==="parsererror"){bg.error("Invalid XML: "+bD)}return bB},noop:function(){},globalEval:function(bD){if(bD&&bo.test(bD)){var bC=af.getElementsByTagName("head")[0]||af.documentElement,bB=af.createElement("script");bB.type="text/javascript";if(bg.support.scriptEval()){bB.appendChild(af.createTextNode(bD))}else{bB.text=bD}bC.insertBefore(bB,bC.firstChild);bC.removeChild(bB)}},nodeName:function(bC,bB){return bC.nodeName&&bC.nodeName.toUpperCase()===bB.toUpperCase()},each:function(bE,bI,bD){var bC,bF=0,bG=bE.length,bB=bG===F||bg.isFunction(bE);if(bD){if(bB){for(bC in bE){if(bI.apply(bE[bC],bD)===false){break}}}else{for(;bF<bG;){if(bI.apply(bE[bF++],bD)===false){break}}}}else{if(bB){for(bC in bE){if(bI.call(bE[bC],bC,bE[bC])===false){break}}}else{for(var bH=bE[0];bF<bG&&bI.call(bH,bF,bH)!==false;bH=bE[++bF]){}}}return bE},trim:bq?function(bB){return bB==null?"":bq.call(bB)}:function(bB){return bB==null?"":bB.toString().replace(bk,"").replace(bf,"")},makeArray:function(bE,bC){var bB=bC||[];if(bE!=null){var bD=bg.type(bE);if(bE.length==null||bD==="string"||bD==="function"||bD==="regexp"||bg.isWindow(bE)){bb.call(bB,bE)}else{bg.merge(bB,bE)}}return bB},inArray:function(bD,bE){if(bE.indexOf){return bE.indexOf(bD)}for(var bB=0,bC=bE.length;bB<bC;bB++){if(bE[bB]===bD){return bB}}return -1},merge:function(bF,bD){var bE=bF.length,bC=0;if(typeof bD.length==="number"){for(var bB=bD.length;bC<bB;bC++){bF[bE++]=bD[bC]}}else{while(bD[bC]!==F){bF[bE++]=bD[bC++]}}bF.length=bE;return bF},grep:function(bC,bH,bB){var bD=[],bG;bB=!!bB;for(var bE=0,bF=bC.length;bE<bF;bE++){bG=!!bH(bC[bE],bE);if(bB!==bG){bD.push(bC[bE])}}return bD},map:function(bC,bH,bB){var bD=[],bG;for(var bE=0,bF=bC.length;bE<bF;bE++){bG=bH(bC[bE],bE,bB);if(bG!=null){bD[bD.length]=bG}}return bD.concat.apply([],bD)},guid:1,proxy:function(bD,bC,bB){if(arguments.length===2){if(typeof bC==="string"){bB=bD;bD=bB[bC];bC=F}else{if(bC&&!bg.isFunction(bC)){bB=bC;bC=F}}}if(!bC&&bD){bC=function(){return bD.apply(bB||this,arguments)}}if(bD){bC.guid=bD.guid=bD.guid||bC.guid||bg.guid++}return bC},access:function(bB,bJ,bH,bD,bG,bI){var bC=bB.length;if(typeof bJ==="object"){for(var bE in bJ){bg.access(bB,bE,bJ[bE],bD,bG,bH)}return bB}if(bH!==F){bD=!bI&&bD&&bg.isFunction(bH);for(var bF=0;bF<bC;bF++){bG(bB[bF],bJ,bD?bH.call(bB[bF],bF,bG(bB[bF],bJ)):bH,bI)}return bB}return bC?bG(bB[0],bJ):F},now:function(){return(new Date()).getTime()},_Deferred:function(){var bE=[],bF,bC,bD,bB={done:function(){if(!bD){var bH=arguments,bI,bL,bK,bJ,bG;if(bF){bG=bF;bF=0}for(bI=0,bL=bH.length;bI<bL;bI++){bK=bH[bI];bJ=bg.type(bK);if(bJ==="array"){bB.done.apply(bB,bK)}else{if(bJ==="function"){bE.push(bK)}}}if(bG){bB.resolveWith(bG[0],bG[1])}}return this},resolveWith:function(bH,bG){if(!bD&&!bF&&!bC){bC=1;try{while(bE[0]){bE.shift().apply(bH,bG)}}finally{bF=[bH,bG];bC=0}}return this},resolve:function(){bB.resolveWith(bg.isFunction(this.promise)?this.promise():this,arguments);return this},isResolved:function(){return !!(bC||bF)},cancel:function(){bD=1;bE=[];return this}};return bB},Deferred:function(bC){var bB=bg._Deferred(),bE=bg._Deferred(),bD;bg.extend(bB,{then:function(bG,bF){bB.done(bG).fail(bF);return this},fail:bE.done,rejectWith:bE.resolveWith,reject:bE.resolve,isRejected:bE.isResolved,promise:function(bG,bF){if(bG==null){if(bD){return bD}bD=bG={}}bF=a5.length;while(bF--){bG[a5[bF]]=bB[a5[bF]]}return bG}});bB.then(bE.cancel,bB.cancel);delete bB.cancel;if(bC){bC.call(bB,bB)}return bB},when:function(bE){var bD=arguments,bF=bD.length,bC=bF<=1&&bE&&bg.isFunction(bE.promise)?bE:bg.Deferred(),bG=bC.promise(),bB;if(bF>1){bB=new Array(bF);bg.each(bD,function(bH,bI){bg.when(bI).then(function(bJ){bB[bH]=arguments.length>1?bm.call(arguments,0):bJ;if(!--bF){bC.resolveWith(bG,bB)}},bC.reject)})}else{if(bC!==bE){bC.resolve(bE)}}return bG},uaMatch:function(bC){bC=bC.toLowerCase();var bB=ba.exec(bC)||bt.exec(bC)||bs.exec(bC)||bC.indexOf("compatible")<0&&bu.exec(bC)||[];return{browser:bB[1]||"",version:bB[2]||"0"}},sub:function(){function bC(bE,bF){return new bC.fn.init(bE,bF)}bg.extend(true,bC,this);bC.superclass=this;bC.fn=bC.prototype=this();bC.fn.constructor=bC;bC.subclass=this.subclass;bC.fn.init=function bD(bE,bF){if(bF&&bF instanceof bg&&!(bF instanceof bC)){bF=bC(bF)}return bg.fn.init.call(this,bE,bF,bB)};bC.fn.init.prototype=bC.fn;var bB=bC(af);return bC},browser:{}});bd=bg._Deferred();bg.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(bC,bB){a9["[object "+bB+"]"]=bB.toLowerCase()});bx=bg.uaMatch(bz);if(bx.browser){bg.browser[bx.browser]=true;bg.browser.version=bx.version}if(bg.browser.webkit){bg.browser.safari=true}if(a7){bg.inArray=function(bB,bC){return a7.call(bC,bB)}}if(bo.test("\xA0")){bk=/^[\s\xA0]+/;bf=/[\s\xA0]+$/}be=bg(af);if(af.addEventListener){a6=function(){af.removeEventListener("DOMContentLoaded",a6,false);bg.ready()}}else{if(af.attachEvent){a6=function(){if(af.readyState==="complete"){af.detachEvent("onreadystatechange",a6);bg.ready()}}}}function a8(){if(bg.isReady){return}try{af.documentElement.doScroll("left")}catch(bB){setTimeout(a8,1);return}bg.ready()}return(aQ.jQuery=aQ.$=bg)})();(function(){a.support={};var a5=af.createElement("div");a5.style.display="none";a5.innerHTML="   <link/><table></table><a href='/a' style='color:red;float:left;opacity:.55;'>a</a><input type='checkbox'/>";var bc=a5.getElementsByTagName("*"),ba=a5.getElementsByTagName("a")[0],bb=af.createElement("select"),a6=bb.appendChild(af.createElement("option"));if(!bc||!bc.length||!ba){return}a.support={leadingWhitespace:a5.firstChild.nodeType===3,tbody:!a5.getElementsByTagName("tbody").length,htmlSerialize:!!a5.getElementsByTagName("link").length,style:/red/.test(ba.getAttribute("style")),hrefNormalized:ba.getAttribute("href")==="/a",opacity:/^0.55$/.test(ba.style.opacity),cssFloat:!!ba.style.cssFloat,checkOn:a5.getElementsByTagName("input")[0].value==="on",optSelected:a6.selected,deleteExpando:true,optDisabled:false,checkClone:false,_scriptEval:null,noCloneEvent:true,boxModel:null,inlineBlockNeedsLayout:false,shrinkWrapBlocks:false,reliableHiddenOffsets:true};bb.disabled=true;a.support.optDisabled=!a6.disabled;a.support.scriptEval=function(){if(a.support._scriptEval===null){var be=af.documentElement,bf=af.createElement("script"),bh="script"+a.now();bf.type="text/javascript";try{bf.appendChild(af.createTextNode("window."+bh+"=1;"))}catch(bg){}be.insertBefore(bf,be.firstChild);if(aQ[bh]){a.support._scriptEval=true;delete aQ[bh]}else{a.support._scriptEval=false}be.removeChild(bf);be=bf=bh=null}return a.support._scriptEval};try{delete a5.test}catch(a7){a.support.deleteExpando=false}if(a5.attachEvent&&a5.fireEvent){a5.attachEvent("onclick",function bd(){a.support.noCloneEvent=false;a5.detachEvent("onclick",bd)});a5.cloneNode(true).fireEvent("onclick")}a5=af.createElement("div");a5.innerHTML="<input type='radio' name='radiotest' checked='checked'/>";var a8=af.createDocumentFragment();a8.appendChild(a5.firstChild);a.support.checkClone=a8.cloneNode(true).cloneNode(true).lastChild.checked;a(function(){var bg=af.createElement("div"),be=af.getElementsByTagName("body")[0];if(!be){return}bg.style.width=bg.style.paddingLeft="1px";be.appendChild(bg);a.boxModel=a.support.boxModel=bg.offsetWidth===2;if("zoom" in bg.style){bg.style.display="inline";bg.style.zoom=1;a.support.inlineBlockNeedsLayout=bg.offsetWidth===2;bg.style.display="";bg.innerHTML="<div style='width:4px;'></div>";a.support.shrinkWrapBlocks=bg.offsetWidth!==2}bg.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>";var bf=bg.getElementsByTagName("td");a.support.reliableHiddenOffsets=bf[0].offsetHeight===0;bf[0].style.display="";bf[1].style.display="none";a.support.reliableHiddenOffsets=a.support.reliableHiddenOffsets&&bf[0].offsetHeight===0;bg.innerHTML="";be.removeChild(bg).style.display="none";bg=bf=null});var a9=function(be){var bg=af.createElement("div");be="on"+be;if(!bg.attachEvent){return true}var bf=(be in bg);if(!bf){bg.setAttribute(be,"return;");bf=typeof bg[be]==="function"}bg=null;return bf};a.support.submitBubbles=a9("submit");a.support.changeBubbles=a9("change");a5=bc=ba=null})();var au=/^(?:\{.*\}|\[.*\])$/;a.extend({cache:{},uuid:0,expando:"jQuery"+(a.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:true,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:true},hasData:function(a5){a5=a5.nodeType?a.cache[a5[a.expando]]:a5[a.expando];return !!a5&&!a.isEmptyObject(a5)},data:function(a8,a6,ba,a9){if(!a.acceptData(a8)){return}var bd=a.expando,bc=typeof a6==="string",bb,be=a8.nodeType,a5=be?a.cache:a8,a7=be?a8[a.expando]:a8[a.expando]&&a.expando;if((!a7||(a9&&a7&&!a5[a7][bd]))&&bc&&ba===F){return}if(!a7){if(be){a8[a.expando]=a7=++a.uuid}else{a7=a.expando}}if(!a5[a7]){a5[a7]={}}if(typeof a6==="object"){if(a9){a5[a7][bd]=a.extend(a5[a7][bd],a6)}else{a5[a7]=a.extend(a5[a7],a6)}}bb=a5[a7];if(a9){if(!bb[bd]){bb[bd]={}}bb=bb[bd]}if(ba!==F){bb[a6]=ba}if(a6==="events"&&!bb[a6]){return bb[bd]&&bb[bd].events}return bc?bb[a6]:bb},removeData:function(a9,a7,ba){if(!a.acceptData(a9)){return}var bc=a.expando,bd=a9.nodeType,a6=bd?a.cache:a9,a8=bd?a9[a.expando]:a.expando;if(!a6[a8]){return}if(a7){var bb=ba?a6[a8][bc]:a6[a8];if(bb){delete bb[a7];if(!a.isEmptyObject(bb)){return}}}if(ba){delete a6[a8][bc];if(!a.isEmptyObject(a6[a8])){return}}var a5=a6[a8][bc];if(a.support.deleteExpando||a6!=aQ){delete a6[a8]}else{a6[a8]=null}if(a5){a6[a8]={};a6[a8][bc]=a5}else{if(bd){if(a.support.deleteExpando){delete a9[a.expando]}else{if(a9.removeAttribute){a9.removeAttribute(a.expando)}else{a9[a.expando]=null}}}}},_data:function(a6,a5,a7){return a.data(a6,a5,a7,true)},acceptData:function(a6){if(a6.nodeName){var a5=a.noData[a6.nodeName.toLowerCase()];if(a5){return !(a5===true||a6.getAttribute("classid")!==a5)}}return true}});a.fn.extend({data:function(a9,bb){var ba=null;if(typeof a9==="undefined"){if(this.length){ba=a.data(this[0]);if(this[0].nodeType===1){var a5=this[0].attributes,a7;for(var a8=0,a6=a5.length;a8<a6;a8++){a7=a5[a8].name;if(a7.indexOf("data-")===0){a7=a7.substr(5);aL(this[0],a7,ba[a7])}}}}return ba}else{if(typeof a9==="object"){return this.each(function(){a.data(this,a9)})}}var bc=a9.split(".");bc[1]=bc[1]?"."+bc[1]:"";if(bb===F){ba=this.triggerHandler("getData"+bc[1]+"!",[bc[0]]);if(ba===F&&this.length){ba=a.data(this[0],a9);ba=aL(this[0],a9,ba)}return ba===F&&bc[1]?this.data(bc[0]):ba}else{return this.each(function(){var be=a(this),bd=[bc[0],bb];be.triggerHandler("setData"+bc[1]+"!",bd);a.data(this,a9,bb);be.triggerHandler("changeData"+bc[1]+"!",bd)})}},removeData:function(a5){return this.each(function(){a.removeData(this,a5)})}});function aL(a6,a5,a7){if(a7===F&&a6.nodeType===1){a7=a6.getAttribute("data-"+a5);if(typeof a7==="string"){try{a7=a7==="true"?true:a7==="false"?false:a7==="null"?null:!a.isNaN(a7)?parseFloat(a7):au.test(a7)?a.parseJSON(a7):a7}catch(a8){}a.data(a6,a5,a7)}else{a7=F}}return a7}a.extend({queue:function(a6,a5,a8){if(!a6){return}a5=(a5||"fx")+"queue";var a7=a._data(a6,a5);if(!a8){return a7||[]}if(!a7||a.isArray(a8)){a7=a._data(a6,a5,a.makeArray(a8))}else{a7.push(a8)}return a7},dequeue:function(a8,a7){a7=a7||"fx";var a5=a.queue(a8,a7),a6=a5.shift();if(a6==="inprogress"){a6=a5.shift()}if(a6){if(a7==="fx"){a5.unshift("inprogress")}a6.call(a8,function(){a.dequeue(a8,a7)})}if(!a5.length){a.removeData(a8,a7+"queue",true)}}});a.fn.extend({queue:function(a5,a6){if(typeof a5!=="string"){a6=a5;a5="fx"}if(a6===F){return a.queue(this[0],a5)}return this.each(function(a8){var a7=a.queue(this,a5,a6);if(a5==="fx"&&a7[0]!=="inprogress"){a.dequeue(this,a5)}})},dequeue:function(a5){return this.each(function(){a.dequeue(this,a5)})},delay:function(a6,a5){a6=a.fx?a.fx.speeds[a6]||a6:a6;a5=a5||"fx";return this.queue(a5,function(){var a7=this;setTimeout(function(){a.dequeue(a7,a5)},a6)})},clearQueue:function(a5){return this.queue(a5||"fx",[])}});var ar=/[\n\t\r]/g,aU=/\s+/,aw=/\r/g,aT=/^(?:href|src|style)$/,e=/^(?:button|input)$/i,A=/^(?:button|input|object|select|textarea)$/i,j=/^a(?:rea)?$/i,M=/^(?:radio|checkbox)$/i;a.props={"for":"htmlFor","class":"className",readonly:"readOnly",maxlength:"maxLength",cellspacing:"cellSpacing",rowspan:"rowSpan",colspan:"colSpan",tabindex:"tabIndex",usemap:"useMap",frameborder:"frameBorder"};a.fn.extend({attr:function(a5,a6){return a.access(this,a5,a6,true,a.attr)},removeAttr:function(a5,a6){return this.each(function(){a.attr(this,a5,"");if(this.nodeType===1){this.removeAttribute(a5)}})},addClass:function(bc){if(a.isFunction(bc)){return this.each(function(bf){var be=a(this);be.addClass(bc.call(this,bf,be.attr("class")))})}if(bc&&typeof bc==="string"){var a5=(bc||"").split(aU);for(var a8=0,a7=this.length;a8<a7;a8++){var a6=this[a8];if(a6.nodeType===1){if(!a6.className){a6.className=bc}else{var a9=" "+a6.className+" ",bb=a6.className;for(var ba=0,bd=a5.length;ba<bd;ba++){if(a9.indexOf(" "+a5[ba]+" ")<0){bb+=" "+a5[ba]}}a6.className=a.trim(bb)}}}}return this},removeClass:function(ba){if(a.isFunction(ba)){return this.each(function(be){var bd=a(this);bd.removeClass(ba.call(this,be,bd.attr("class")))})}if((ba&&typeof ba==="string")||ba===F){var bb=(ba||"").split(aU);for(var a7=0,a6=this.length;a7<a6;a7++){var a9=this[a7];if(a9.nodeType===1&&a9.className){if(ba){var a8=(" "+a9.className+" ").replace(ar," ");for(var bc=0,a5=bb.length;bc<a5;bc++){a8=a8.replace(" "+bb[bc]+" "," ")}a9.className=a.trim(a8)}else{a9.className=""}}}}return this},toggleClass:function(a8,a6){var a7=typeof a8,a5=typeof a6==="boolean";if(a.isFunction(a8)){return this.each(function(ba){var a9=a(this);a9.toggleClass(a8.call(this,ba,a9.attr("class"),a6),a6)})}return this.each(function(){if(a7==="string"){var bb,ba=0,a9=a(this),bc=a6,bd=a8.split(aU);while((bb=bd[ba++])){bc=a5?bc:!a9.hasClass(bb);a9[bc?"addClass":"removeClass"](bb)}}else{if(a7==="undefined"||a7==="boolean"){if(this.className){a._data(this,"__className__",this.className)}this.className=this.className||a8===false?"":a._data(this,"__className__")||""}}})},hasClass:function(a5){var a8=" "+a5+" ";for(var a7=0,a6=this.length;a7<a6;a7++){if((" "+this[a7].className+" ").replace(ar," ").indexOf(a8)>-1){return true}}return false},val:function(bd){if(!arguments.length){var a7=this[0];if(a7){if(a.nodeName(a7,"option")){var a6=a7.attributes.value;return !a6||a6.specified?a7.value:a7.text}if(a.nodeName(a7,"select")){var bb=a7.selectedIndex,be=[],bf=a7.options,ba=a7.type==="select-one";if(bb<0){return null}for(var a8=ba?bb:0,bc=ba?bb+1:bf.length;a8<bc;a8++){var a9=bf[a8];if(a9.selected&&(a.support.optDisabled?!a9.disabled:a9.getAttribute("disabled")===null)&&(!a9.parentNode.disabled||!a.nodeName(a9.parentNode,"optgroup"))){bd=a(a9).val();if(ba){return bd}be.push(bd)}}return be}if(M.test(a7.type)&&!a.support.checkOn){return a7.getAttribute("value")===null?"on":a7.value}return(a7.value||"").replace(aw,"")}return F}var a5=a.isFunction(bd);return this.each(function(bi){var bh=a(this),bj=bd;if(this.nodeType!==1){return}if(a5){bj=bd.call(this,bi,bh.val())}if(bj==null){bj=""}else{if(typeof bj==="number"){bj+=""}else{if(a.isArray(bj)){bj=a.map(bj,function(bk){return bk==null?"":bk+""})}}}if(a.isArray(bj)&&M.test(this.type)){this.checked=a.inArray(bh.val(),bj)>=0}else{if(a.nodeName(this,"select")){var bg=a.makeArray(bj);a("option",this).each(function(){this.selected=a.inArray(a(this).val(),bg)>=0});if(!bg.length){this.selectedIndex=-1}}else{this.value=bj}}})}});a.extend({attrFn:{val:true,css:true,html:true,text:true,data:true,width:true,height:true,offset:true},attr:function(a6,a5,bb,be){if(!a6||a6.nodeType===3||a6.nodeType===8||a6.nodeType===2){return F}if(be&&a5 in a.attrFn){return a(a6)[a5](bb)}var a7=a6.nodeType!==1||!a.isXMLDoc(a6),ba=bb!==F;a5=a7&&a.props[a5]||a5;if(a6.nodeType===1){var a9=aT.test(a5);if(a5==="selected"&&!a.support.optSelected){var bc=a6.parentNode;if(bc){bc.selectedIndex;if(bc.parentNode){bc.parentNode.selectedIndex}}}if((a5 in a6||a6[a5]!==F)&&a7&&!a9){if(ba){if(a5==="type"&&e.test(a6.nodeName)&&a6.parentNode){a.error("type property can't be changed")}if(bb===null){if(a6.nodeType===1){a6.removeAttribute(a5)}}else{a6[a5]=bb}}if(a.nodeName(a6,"form")&&a6.getAttributeNode(a5)){return a6.getAttributeNode(a5).nodeValue}if(a5==="tabIndex"){var bd=a6.getAttributeNode("tabIndex");return bd&&bd.specified?bd.value:A.test(a6.nodeName)||j.test(a6.nodeName)&&a6.href?0:F}return a6[a5]}if(!a.support.style&&a7&&a5==="style"){if(ba){a6.style.cssText=""+bb}return a6.style.cssText}if(ba){a6.setAttribute(a5,""+bb)}if(!a6.attributes[a5]&&(a6.hasAttribute&&!a6.hasAttribute(a5))){return F}var a8=!a.support.hrefNormalized&&a7&&a9?a6.getAttribute(a5,2):a6.getAttribute(a5);return a8===null?F:a8}if(ba){a6[a5]=bb}return a6[a5]}});var aH=/\.(.*)$/,aS=/^(?:textarea|input|select)$/i,H=/\./g,V=/ /g,an=/[^\w\s.|`]/g,C=function(a5){return a5.replace(an,"\\$&")},az="events";a.event={add:function(a8,bc,bh,ba){if(a8.nodeType===3||a8.nodeType===8){return}if(a.isWindow(a8)&&(a8!==aQ&&!a8.frameElement)){a8=aQ}if(bh===false){bh=aW}else{if(!bh){return}}var a6,bg;if(bh.handler){a6=bh;bh=a6.handler}if(!bh.guid){bh.guid=a.guid++}var bd=a._data(a8);if(!bd){return}var bi=bd[az],bb=bd.handle;if(typeof bi==="function"){bb=bi.handle;bi=bi.events}else{if(!bi){if(!a8.nodeType){bd[az]=bd=function(){}}bd.events=bi={}}}if(!bb){bd.handle=bb=function(){return typeof a!=="undefined"&&!a.event.triggered?a.event.handle.apply(bb.elem,arguments):F}}bb.elem=a8;bc=bc.split(" ");var bf,a9=0,a5;while((bf=bc[a9++])){bg=a6?a.extend({},a6):{handler:bh,data:ba};if(bf.indexOf(".")>-1){a5=bf.split(".");bf=a5.shift();bg.namespace=a5.slice(0).sort().join(".")}else{a5=[];bg.namespace=""}bg.type=bf;if(!bg.guid){bg.guid=bh.guid}var a7=bi[bf],be=a.event.special[bf]||{};if(!a7){a7=bi[bf]=[];if(!be.setup||be.setup.call(a8,ba,a5,bb)===false){if(a8.addEventListener){a8.addEventListener(bf,bb,false)}else{if(a8.attachEvent){a8.attachEvent("on"+bf,bb)}}}}if(be.add){be.add.call(a8,bg);if(!bg.handler.guid){bg.handler.guid=bh.guid}}a7.push(bg);a.event.global[bf]=true}a8=null},global:{},remove:function(bk,bf,a7,bb){if(bk.nodeType===3||bk.nodeType===8){return}if(a7===false){a7=aW}var bn,ba,bc,bh,bi=0,a8,bd,bg,a9,be,a5,bm,bj=a.hasData(bk)&&a._data(bk),a6=bj&&bj[az];if(!bj||!a6){return}if(typeof a6==="function"){bj=a6;a6=a6.events}if(bf&&bf.type){a7=bf.handler;bf=bf.type}if(!bf||typeof bf==="string"&&bf.charAt(0)==="."){bf=bf||"";for(ba in a6){a.event.remove(bk,ba+bf)}return}bf=bf.split(" ");while((ba=bf[bi++])){bm=ba;a5=null;a8=ba.indexOf(".")<0;bd=[];if(!a8){bd=ba.split(".");ba=bd.shift();bg=new RegExp("(^|\\.)"+a.map(bd.slice(0).sort(),C).join("\\.(?:.*\\.)?")+"(\\.|$)")}be=a6[ba];if(!be){continue}if(!a7){for(bh=0;bh<be.length;bh++){a5=be[bh];if(a8||bg.test(a5.namespace)){a.event.remove(bk,bm,a5.handler,bh);be.splice(bh--,1)}}continue}a9=a.event.special[ba]||{};for(bh=bb||0;bh<be.length;bh++){a5=be[bh];if(a7.guid===a5.guid){if(a8||bg.test(a5.namespace)){if(bb==null){be.splice(bh--,1)}if(a9.remove){a9.remove.call(bk,a5)}}if(bb!=null){break}}}if(be.length===0||bb!=null&&be.length===1){if(!a9.teardown||a9.teardown.call(bk,bd)===false){a.removeEvent(bk,ba,bj.handle)}bn=null;delete a6[ba]}}if(a.isEmptyObject(a6)){var bl=bj.handle;if(bl){bl.elem=null}delete bj.events;delete bj.handle;if(typeof bj==="function"){a.removeData(bk,az,true)}else{if(a.isEmptyObject(bj)){a.removeData(bk,F,true)}}}},trigger:function(a6,bb,a8){var bf=a6.type||a6,ba=arguments[3];if(!ba){a6=typeof a6==="object"?a6[a.expando]?a6:a.extend(a.Event(bf),a6):a.Event(bf);if(bf.indexOf("!")>=0){a6.type=bf=bf.slice(0,-1);a6.exclusive=true}if(!a8){a6.stopPropagation();if(a.event.global[bf]){a.each(a.cache,function(){var bk=a.expando,bj=this[bk];if(bj&&bj.events&&bj.events[bf]){a.event.trigger(a6,bb,bj.handle.elem)}})}}if(!a8||a8.nodeType===3||a8.nodeType===8){return F}a6.result=F;a6.target=a8;bb=a.makeArray(bb);bb.unshift(a6)}a6.currentTarget=a8;var bc=a8.nodeType?a._data(a8,"handle"):(a._data(a8,az)||{}).handle;if(bc){bc.apply(a8,bb)}var bh=a8.parentNode||a8.ownerDocument;try{if(!(a8&&a8.nodeName&&a.noData[a8.nodeName.toLowerCase()])){if(a8["on"+bf]&&a8["on"+bf].apply(a8,bb)===false){a6.result=false;a6.preventDefault()}}}catch(bg){}if(!a6.isPropagationStopped()&&bh){a.event.trigger(a6,bb,bh,true)}else{if(!a6.isDefaultPrevented()){var a7,bd=a6.target,a5=bf.replace(aH,""),bi=a.nodeName(bd,"a")&&a5==="click",be=a.event.special[a5]||{};if((!be._default||be._default.call(a8,a6)===false)&&!bi&&!(bd&&bd.nodeName&&a.noData[bd.nodeName.toLowerCase()])){try{if(bd[a5]){a7=bd["on"+a5];if(a7){bd["on"+a5]=null}a.event.triggered=true;bd[a5]()}}catch(a9){}if(a7){bd["on"+a5]=a7}a.event.triggered=false}}}},handle:function(a5){var be,a7,a6,bg,bf,ba=[],bc=a.makeArray(arguments);a5=bc[0]=a.event.fix(a5||aQ.event);a5.currentTarget=this;be=a5.type.indexOf(".")<0&&!a5.exclusive;if(!be){a6=a5.type.split(".");a5.type=a6.shift();ba=a6.slice(0).sort();bg=new RegExp("(^|\\.)"+ba.join("\\.(?:.*\\.)?")+"(\\.|$)")}a5.namespace=a5.namespace||ba.join(".");bf=a._data(this,az);if(typeof bf==="function"){bf=bf.events}a7=(bf||{})[a5.type];if(bf&&a7){a7=a7.slice(0);for(var a9=0,a8=a7.length;a9<a8;a9++){var bd=a7[a9];if(be||bg.test(bd.namespace)){a5.handler=bd.handler;a5.data=bd.data;a5.handleObj=bd;var bb=bd.handler.apply(this,bc);if(bb!==F){a5.result=bb;if(bb===false){a5.preventDefault();a5.stopPropagation()}}if(a5.isImmediatePropagationStopped()){break}}}}return a5.result},props:"altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" "),fix:function(a8){if(a8[a.expando]){return a8}var a6=a8;a8=a.Event(a6);for(var a7=this.props.length,ba;a7;){ba=this.props[--a7];a8[ba]=a6[ba]}if(!a8.target){a8.target=a8.srcElement||af}if(a8.target.nodeType===3){a8.target=a8.target.parentNode}if(!a8.relatedTarget&&a8.fromElement){a8.relatedTarget=a8.fromElement===a8.target?a8.toElement:a8.fromElement}if(a8.pageX==null&&a8.clientX!=null){var a9=af.documentElement,a5=af.body;a8.pageX=a8.clientX+(a9&&a9.scrollLeft||a5&&a5.scrollLeft||0)-(a9&&a9.clientLeft||a5&&a5.clientLeft||0);a8.pageY=a8.clientY+(a9&&a9.scrollTop||a5&&a5.scrollTop||0)-(a9&&a9.clientTop||a5&&a5.clientTop||0)}if(a8.which==null&&(a8.charCode!=null||a8.keyCode!=null)){a8.which=a8.charCode!=null?a8.charCode:a8.keyCode}if(!a8.metaKey&&a8.ctrlKey){a8.metaKey=a8.ctrlKey}if(!a8.which&&a8.button!==F){a8.which=(a8.button&1?1:(a8.button&2?3:(a8.button&4?2:0)))}return a8},guid:100000000,proxy:a.proxy,special:{ready:{setup:a.bindReady,teardown:a.noop},live:{add:function(a5){a.event.add(this,m(a5.origType,a5.selector),a.extend({},a5,{handler:Z,guid:a5.handler.guid}))},remove:function(a5){a.event.remove(this,m(a5.origType,a5.selector),a5)}},beforeunload:{setup:function(a7,a6,a5){if(a.isWindow(this)){this.onbeforeunload=a5}},teardown:function(a6,a5){if(this.onbeforeunload===a5){this.onbeforeunload=null}}}}};a.removeEvent=af.removeEventListener?function(a6,a5,a7){if(a6.removeEventListener){a6.removeEventListener(a5,a7,false)}}:function(a6,a5,a7){if(a6.detachEvent){a6.detachEvent("on"+a5,a7)}};a.Event=function(a5){if(!this.preventDefault){return new a.Event(a5)}if(a5&&a5.type){this.originalEvent=a5;this.type=a5.type;this.isDefaultPrevented=(a5.defaultPrevented||a5.returnValue===false||a5.getPreventDefault&&a5.getPreventDefault())?g:aW}else{this.type=a5}this.timeStamp=a.now();this[a.expando]=true};function aW(){return false}function g(){return true}a.Event.prototype={preventDefault:function(){this.isDefaultPrevented=g;var a5=this.originalEvent;if(!a5){return}if(a5.preventDefault){a5.preventDefault()}else{a5.returnValue=false}},stopPropagation:function(){this.isPropagationStopped=g;var a5=this.originalEvent;if(!a5){return}if(a5.stopPropagation){a5.stopPropagation()}a5.cancelBubble=true},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=g;this.stopPropagation()},isDefaultPrevented:aW,isPropagationStopped:aW,isImmediatePropagationStopped:aW};var U=function(a6){var a5=a6.relatedTarget;try{while(a5&&a5!==this){a5=a5.parentNode}if(a5!==this){a6.type=a6.data;a.event.handle.apply(this,arguments)}}catch(a7){}},aA=function(a5){a5.type=a5.data;a.event.handle.apply(this,arguments)};a.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a6,a5){a.event.special[a6]={setup:function(a7){a.event.add(this,a5,a7&&a7.selector?aA:U,a6)},teardown:function(a7){a.event.remove(this,a5,a7&&a7.selector?aA:U)}}});if(!a.support.submitBubbles){a.event.special.submit={setup:function(a6,a5){if(this.nodeName&&this.nodeName.toLowerCase()!=="form"){a.event.add(this,"click.specialSubmit",function(a9){var a8=a9.target,a7=a8.type;if((a7==="submit"||a7==="image")&&a(a8).closest("form").length){a9.liveFired=F;return aE("submit",this,arguments)}});a.event.add(this,"keypress.specialSubmit",function(a9){var a8=a9.target,a7=a8.type;if((a7==="text"||a7==="password")&&a(a8).closest("form").length&&a9.keyCode===13){a9.liveFired=F;return aE("submit",this,arguments)}})}else{return false}},teardown:function(a5){a.event.remove(this,".specialSubmit")}}}if(!a.support.changeBubbles){var aX,i=function(a6){var a5=a6.type,a7=a6.value;if(a5==="radio"||a5==="checkbox"){a7=a6.checked}else{if(a5==="select-multiple"){a7=a6.selectedIndex>-1?a.map(a6.options,function(a8){return a8.selected}).join("-"):""}else{if(a6.nodeName.toLowerCase()==="select"){a7=a6.selectedIndex}}}return a7},S=function S(a7){var a5=a7.target,a6,a8;if(!aS.test(a5.nodeName)||a5.readOnly){return}a6=a._data(a5,"_change_data");a8=i(a5);if(a7.type!=="focusout"||a5.type!=="radio"){a._data(a5,"_change_data",a8)}if(a6===F||a8===a6){return}if(a6!=null||a8){a7.type="change";a7.liveFired=F;return a.event.trigger(a7,arguments[1],a5)}};a.event.special.change={filters:{focusout:S,beforedeactivate:S,click:function(a7){var a6=a7.target,a5=a6.type;if(a5==="radio"||a5==="checkbox"||a6.nodeName.toLowerCase()==="select"){return S.call(this,a7)}},keydown:function(a7){var a6=a7.target,a5=a6.type;if((a7.keyCode===13&&a6.nodeName.toLowerCase()!=="textarea")||(a7.keyCode===32&&(a5==="checkbox"||a5==="radio"))||a5==="select-multiple"){return S.call(this,a7)}},beforeactivate:function(a6){var a5=a6.target;a._data(a5,"_change_data",i(a5))}},setup:function(a7,a6){if(this.type==="file"){return false}for(var a5 in aX){a.event.add(this,a5+".specialChange",aX[a5])}return aS.test(this.nodeName)},teardown:function(a5){a.event.remove(this,".specialChange");return aS.test(this.nodeName)}};aX=a.event.special.change.filters;aX.focus=aX.beforeactivate}function aE(a6,a7,a5){a5[0].type=a6;return a.event.handle.apply(a7,a5)}if(af.addEventListener){a.each({focus:"focusin",blur:"focusout"},function(a7,a5){a.event.special[a5]={setup:function(){this.addEventListener(a7,a6,true)},teardown:function(){this.removeEventListener(a7,a6,true)}};function a6(a8){a8=a.event.fix(a8);a8.type=a5;return a.event.handle.call(this,a8)}})}a.each(["bind","one"],function(a6,a5){a.fn[a5]=function(bc,bd,bb){if(typeof bc==="object"){for(var a9 in bc){this[a5](a9,bd,bc[a9],bb)}return this}if(a.isFunction(bd)||bd===false){bb=bd;bd=F}var ba=a5==="one"?a.proxy(bb,function(be){a(this).unbind(be,ba);return bb.apply(this,arguments)}):bb;if(bc==="unload"&&a5!=="one"){this.one(bc,bd,bb)}else{for(var a8=0,a7=this.length;a8<a7;a8++){a.event.add(this[a8],bc,ba,bd)}}return this}});a.fn.extend({unbind:function(a9,a8){if(typeof a9==="object"&&!a9.preventDefault){for(var a7 in a9){this.unbind(a7,a9[a7])}}else{for(var a6=0,a5=this.length;a6<a5;a6++){a.event.remove(this[a6],a9,a8)}}return this},delegate:function(a5,a6,a8,a7){return this.live(a6,a8,a7,a5)},undelegate:function(a5,a6,a7){if(arguments.length===0){return this.unbind("live")}else{return this.die(a6,null,a7,a5)}},trigger:function(a5,a6){return this.each(function(){a.event.trigger(a5,a6,this)})},triggerHandler:function(a5,a7){if(this[0]){var a6=a.Event(a5);a6.preventDefault();a6.stopPropagation();a.event.trigger(a6,a7,this[0]);return a6.result}},toggle:function(a7){var a5=arguments,a6=1;while(a6<a5.length){a.proxy(a7,a5[a6++])}return this.click(a.proxy(a7,function(a8){var a9=(a._data(this,"lastToggle"+a7.guid)||0)%a6;a._data(this,"lastToggle"+a7.guid,a9+1);a8.preventDefault();return a5[a9].apply(this,arguments)||false}))},hover:function(a5,a6){return this.mouseenter(a5).mouseleave(a6||a5)}});var ax={focus:"focusin",blur:"focusout",mouseenter:"mouseover",mouseleave:"mouseout"};a.each(["live","die"],function(a6,a5){a.fn[a5]=function(bg,bd,bi,a9){var bh,be=0,bf,a8,bk,bb=a9||this.selector,a7=a9?this:a(this.context);if(typeof bg==="object"&&!bg.preventDefault){for(var bj in bg){a7[a5](bj,bd,bg[bj],bb)}return this}if(a.isFunction(bd)){bi=bd;bd=F}bg=(bg||"").split(" ");while((bh=bg[be++])!=null){bf=aH.exec(bh);a8="";if(bf){a8=bf[0];bh=bh.replace(aH,"")}if(bh==="hover"){bg.push("mouseenter"+a8,"mouseleave"+a8);continue}bk=bh;if(bh==="focus"||bh==="blur"){bg.push(ax[bh]+a8);bh=bh+a8}else{bh=(ax[bh]||bh)+a8}if(a5==="live"){for(var bc=0,ba=a7.length;bc<ba;bc++){a.event.add(a7[bc],"live."+m(bh,bb),{data:bd,selector:bb,handler:bi,origType:bh,origHandler:bi,preType:bk})}}else{a7.unbind("live."+m(bh,bb),bi)}}return this}});function Z(bg){var bd,a8,bm,ba,a5,bi,bf,bh,be,bl,bc,bb,bk,bj=[],a9=[],a6=a._data(this,az);if(typeof a6==="function"){a6=a6.events}if(bg.liveFired===this||!a6||!a6.live||bg.target.disabled||bg.button&&bg.type==="click"){return}if(bg.namespace){bb=new RegExp("(^|\\.)"+bg.namespace.split(".").join("\\.(?:.*\\.)?")+"(\\.|$)")}bg.liveFired=this;var a7=a6.live.slice(0);for(bf=0;bf<a7.length;bf++){a5=a7[bf];if(a5.origType.replace(aH,"")===bg.type){a9.push(a5.selector)}else{a7.splice(bf--,1)}}ba=a(bg.target).closest(a9,bg.currentTarget);for(bh=0,be=ba.length;bh<be;bh++){bc=ba[bh];for(bf=0;bf<a7.length;bf++){a5=a7[bf];if(bc.selector===a5.selector&&(!bb||bb.test(a5.namespace))){bi=bc.elem;bm=null;if(a5.preType==="mouseenter"||a5.preType==="mouseleave"){bg.type=a5.preType;bm=a(bg.relatedTarget).closest(a5.selector)[0]}if(!bm||bm!==bi){bj.push({elem:bi,handleObj:a5,level:bc.level})}}}}for(bh=0,be=bj.length;bh<be;bh++){ba=bj[bh];if(a8&&ba.level>a8){break}bg.currentTarget=ba.elem;bg.data=ba.handleObj.data;bg.handleObj=ba.handleObj;bk=ba.handleObj.origHandler.apply(ba.elem,arguments);if(bk===false||bg.isPropagationStopped()){a8=ba.level;if(bk===false){bd=false}if(bg.isImmediatePropagationStopped()){break}}}return bd}function m(a6,a5){return(a6&&a6!=="*"?a6+".":"")+a5.replace(H,"`").replace(V,"&")}a.each(("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error").split(" "),function(a6,a5){a.fn[a5]=function(a8,a7){if(a7==null){a7=a8;a8=null}return arguments.length>0?this.bind(a5,a8,a7):this.trigger(a5)};if(a.attrFn){a.attrFn[a5]=true}});
/*!
 * Sizzle CSS Selector Engine
 *  Copyright 2011, The Dojo Foundation
 *  Released under the MIT, BSD, and GPL Licenses.
 *  More information: http://sizzlejs.com/
 */
(function(){var bk=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,bd=0,a8=Object.prototype.toString,bj=false,bc=true;[0,0].sort(function(){bc=false;return 0});var a6=function(br,bm,bu,bv){bu=bu||[];bm=bm||af;var bx=bm;if(bm.nodeType!==1&&bm.nodeType!==9){return[]}if(!br||typeof br!=="string"){return bu}var bo,bz,bC,bn,by,bB,bA,bt,bq=true,bp=a6.isXML(bm),bs=[],bw=br;do{bk.exec("");bo=bk.exec(bw);if(bo){bw=bo[3];bs.push(bo[1]);if(bo[2]){bn=bo[3];break}}}while(bo);if(bs.length>1&&be.exec(br)){if(bs.length===2&&a9.relative[bs[0]]){bz=bb(bs[0]+bs[1],bm)}else{bz=a9.relative[bs[0]]?[bm]:a6(bs.shift(),bm);while(bs.length){br=bs.shift();if(a9.relative[br]){br+=bs.shift()}bz=bb(br,bz)}}}else{if(!bv&&bs.length>1&&bm.nodeType===9&&!bp&&a9.match.ID.test(bs[0])&&!a9.match.ID.test(bs[bs.length-1])){by=a6.find(bs.shift(),bm,bp);bm=by.expr?a6.filter(by.expr,by.set)[0]:by.set[0]}if(bm){by=bv?{expr:bs.pop(),set:a5(bv)}:a6.find(bs.pop(),bs.length===1&&(bs[0]==="~"||bs[0]==="+")&&bm.parentNode?bm.parentNode:bm,bp);bz=by.expr?a6.filter(by.expr,by.set):by.set;if(bs.length>0){bC=a5(bz)}else{bq=false}while(bs.length){bB=bs.pop();bA=bB;if(!a9.relative[bB]){bB=""}else{bA=bs.pop()}if(bA==null){bA=bm}a9.relative[bB](bC,bA,bp)}}else{bC=bs=[]}}if(!bC){bC=bz}if(!bC){a6.error(bB||br)}if(a8.call(bC)==="[object Array]"){if(!bq){bu.push.apply(bu,bC)}else{if(bm&&bm.nodeType===1){for(bt=0;bC[bt]!=null;bt++){if(bC[bt]&&(bC[bt]===true||bC[bt].nodeType===1&&a6.contains(bm,bC[bt]))){bu.push(bz[bt])}}}else{for(bt=0;bC[bt]!=null;bt++){if(bC[bt]&&bC[bt].nodeType===1){bu.push(bz[bt])}}}}}else{a5(bC,bu)}if(bn){a6(bn,bx,bu,bv);a6.uniqueSort(bu)}return bu};a6.uniqueSort=function(bn){if(a7){bj=bc;bn.sort(a7);if(bj){for(var bm=1;bm<bn.length;bm++){if(bn[bm]===bn[bm-1]){bn.splice(bm--,1)}}}}return bn};a6.matches=function(bm,bn){return a6(bm,null,null,bn)};a6.matchesSelector=function(bm,bn){return a6(bn,null,null,[bm]).length>0};a6.find=function(bt,bm,bu){var bs;if(!bt){return[]}for(var bp=0,bo=a9.order.length;bp<bo;bp++){var bq,br=a9.order[bp];if((bq=a9.leftMatch[br].exec(bt))){var bn=bq[1];bq.splice(1,1);if(bn.substr(bn.length-1)!=="\\"){bq[1]=(bq[1]||"").replace(/\\/g,"");bs=a9.find[br](bq,bm,bu);if(bs!=null){bt=bt.replace(a9.match[br],"");break}}}}if(!bs){bs=typeof bm.getElementsByTagName!=="undefined"?bm.getElementsByTagName("*"):[]}return{set:bs,expr:bt}};a6.filter=function(bx,bw,bA,bq){var bs,bm,bo=bx,bC=[],bu=bw,bt=bw&&bw[0]&&a6.isXML(bw[0]);while(bx&&bw.length){for(var bv in a9.filter){if((bs=a9.leftMatch[bv].exec(bx))!=null&&bs[2]){var bB,bz,bn=a9.filter[bv],bp=bs[1];bm=false;bs.splice(1,1);if(bp.substr(bp.length-1)==="\\"){continue}if(bu===bC){bC=[]}if(a9.preFilter[bv]){bs=a9.preFilter[bv](bs,bu,bA,bC,bq,bt);if(!bs){bm=bB=true}else{if(bs===true){continue}}}if(bs){for(var br=0;(bz=bu[br])!=null;br++){if(bz){bB=bn(bz,bs,br,bu);var by=bq^!!bB;if(bA&&bB!=null){if(by){bm=true}else{bu[br]=false}}else{if(by){bC.push(bz);bm=true}}}}}if(bB!==F){if(!bA){bu=bC}bx=bx.replace(a9.match[bv],"");if(!bm){return[]}break}}}if(bx===bo){if(bm==null){a6.error(bx)}else{break}}bo=bx}return bu};a6.error=function(bm){throw"Syntax error, unrecognized expression: "+bm};var a9=a6.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(bm){return bm.getAttribute("href")}},relative:{"+":function(bs,bn){var bp=typeof bn==="string",br=bp&&!/\W/.test(bn),bt=bp&&!br;if(br){bn=bn.toLowerCase()}for(var bo=0,bm=bs.length,bq;bo<bm;bo++){if((bq=bs[bo])){while((bq=bq.previousSibling)&&bq.nodeType!==1){}bs[bo]=bt||bq&&bq.nodeName.toLowerCase()===bn?bq||false:bq===bn}}if(bt){a6.filter(bn,bs,true)}},">":function(bs,bn){var br,bq=typeof bn==="string",bo=0,bm=bs.length;if(bq&&!/\W/.test(bn)){bn=bn.toLowerCase();for(;bo<bm;bo++){br=bs[bo];if(br){var bp=br.parentNode;bs[bo]=bp.nodeName.toLowerCase()===bn?bp:false}}}else{for(;bo<bm;bo++){br=bs[bo];if(br){bs[bo]=bq?br.parentNode:br.parentNode===bn}}if(bq){a6.filter(bn,bs,true)}}},"":function(bp,bn,br){var bq,bo=bd++,bm=bl;if(typeof bn==="string"&&!/\W/.test(bn)){bn=bn.toLowerCase();bq=bn;bm=bi}bm("parentNode",bn,bo,bp,bq,br)},"~":function(bp,bn,br){var bq,bo=bd++,bm=bl;if(typeof bn==="string"&&!/\W/.test(bn)){bn=bn.toLowerCase();bq=bn;bm=bi}bm("previousSibling",bn,bo,bp,bq,br)}},find:{ID:function(bn,bo,bp){if(typeof bo.getElementById!=="undefined"&&!bp){var bm=bo.getElementById(bn[1]);return bm&&bm.parentNode?[bm]:[]}},NAME:function(bo,br){if(typeof br.getElementsByName!=="undefined"){var bn=[],bq=br.getElementsByName(bo[1]);for(var bp=0,bm=bq.length;bp<bm;bp++){if(bq[bp].getAttribute("name")===bo[1]){bn.push(bq[bp])}}return bn.length===0?null:bn}},TAG:function(bm,bn){if(typeof bn.getElementsByTagName!=="undefined"){return bn.getElementsByTagName(bm[1])}}},preFilter:{CLASS:function(bp,bn,bo,bm,bs,bt){bp=" "+bp[1].replace(/\\/g,"")+" ";if(bt){return bp}for(var bq=0,br;(br=bn[bq])!=null;bq++){if(br){if(bs^(br.className&&(" "+br.className+" ").replace(/[\t\n\r]/g," ").indexOf(bp)>=0)){if(!bo){bm.push(br)}}else{if(bo){bn[bq]=false}}}}return false},ID:function(bm){return bm[1].replace(/\\/g,"")},TAG:function(bn,bm){return bn[1].toLowerCase()},CHILD:function(bm){if(bm[1]==="nth"){if(!bm[2]){a6.error(bm[0])}bm[2]=bm[2].replace(/^\+|\s*/g,"");var bn=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(bm[2]==="even"&&"2n"||bm[2]==="odd"&&"2n+1"||!/\D/.test(bm[2])&&"0n+"+bm[2]||bm[2]);bm[2]=(bn[1]+(bn[2]||1))-0;bm[3]=bn[3]-0}else{if(bm[2]){a6.error(bm[0])}}bm[0]=bd++;return bm},ATTR:function(bq,bn,bo,bm,br,bs){var bp=bq[1]=bq[1].replace(/\\/g,"");if(!bs&&a9.attrMap[bp]){bq[1]=a9.attrMap[bp]}bq[4]=(bq[4]||bq[5]||"").replace(/\\/g,"");if(bq[2]==="~="){bq[4]=" "+bq[4]+" "}return bq},PSEUDO:function(bq,bn,bo,bm,br){if(bq[1]==="not"){if((bk.exec(bq[3])||"").length>1||/^\w/.test(bq[3])){bq[3]=a6(bq[3],null,null,bn)}else{var bp=a6.filter(bq[3],bn,bo,true^br);if(!bo){bm.push.apply(bm,bp)}return false}}else{if(a9.match.POS.test(bq[0])||a9.match.CHILD.test(bq[0])){return true}}return bq},POS:function(bm){bm.unshift(true);return bm}},filters:{enabled:function(bm){return bm.disabled===false&&bm.type!=="hidden"},disabled:function(bm){return bm.disabled===true},checked:function(bm){return bm.checked===true},selected:function(bm){bm.parentNode.selectedIndex;return bm.selected===true},parent:function(bm){return !!bm.firstChild},empty:function(bm){return !bm.firstChild},has:function(bo,bn,bm){return !!a6(bm[3],bo).length},header:function(bm){return(/h\d/i).test(bm.nodeName)},text:function(bm){return"text"===bm.type},radio:function(bm){return"radio"===bm.type},checkbox:function(bm){return"checkbox"===bm.type},file:function(bm){return"file"===bm.type},password:function(bm){return"password"===bm.type},submit:function(bm){return"submit"===bm.type},image:function(bm){return"image"===bm.type},reset:function(bm){return"reset"===bm.type},button:function(bm){return"button"===bm.type||bm.nodeName.toLowerCase()==="button"},input:function(bm){return(/input|select|textarea|button/i).test(bm.nodeName)}},setFilters:{first:function(bn,bm){return bm===0},last:function(bo,bn,bm,bp){return bn===bp.length-1},even:function(bn,bm){return bm%2===0},odd:function(bn,bm){return bm%2===1},lt:function(bo,bn,bm){return bn<bm[3]-0},gt:function(bo,bn,bm){return bn>bm[3]-0},nth:function(bo,bn,bm){return bm[3]-0===bn},eq:function(bo,bn,bm){return bm[3]-0===bn}},filter:{PSEUDO:function(bo,bt,bs,bu){var bm=bt[1],bn=a9.filters[bm];if(bn){return bn(bo,bs,bt,bu)}else{if(bm==="contains"){return(bo.textContent||bo.innerText||a6.getText([bo])||"").indexOf(bt[3])>=0}else{if(bm==="not"){var bp=bt[3];for(var br=0,bq=bp.length;br<bq;br++){if(bp[br]===bo){return false}}return true}else{a6.error(bm)}}}},CHILD:function(bm,bp){var bs=bp[1],bn=bm;switch(bs){case"only":case"first":while((bn=bn.previousSibling)){if(bn.nodeType===1){return false}}if(bs==="first"){return true}bn=bm;case"last":while((bn=bn.nextSibling)){if(bn.nodeType===1){return false}}return true;case"nth":var bo=bp[2],bv=bp[3];if(bo===1&&bv===0){return true}var br=bp[0],bu=bm.parentNode;if(bu&&(bu.sizcache!==br||!bm.nodeIndex)){var bq=0;for(bn=bu.firstChild;bn;bn=bn.nextSibling){if(bn.nodeType===1){bn.nodeIndex=++bq}}bu.sizcache=br}var bt=bm.nodeIndex-bv;if(bo===0){return bt===0}else{return(bt%bo===0&&bt/bo>=0)}}},ID:function(bn,bm){return bn.nodeType===1&&bn.getAttribute("id")===bm},TAG:function(bn,bm){return(bm==="*"&&bn.nodeType===1)||bn.nodeName.toLowerCase()===bm},CLASS:function(bn,bm){return(" "+(bn.className||bn.getAttribute("class"))+" ").indexOf(bm)>-1},ATTR:function(br,bp){var bo=bp[1],bm=a9.attrHandle[bo]?a9.attrHandle[bo](br):br[bo]!=null?br[bo]:br.getAttribute(bo),bs=bm+"",bq=bp[2],bn=bp[4];return bm==null?bq==="!=":bq==="="?bs===bn:bq==="*="?bs.indexOf(bn)>=0:bq==="~="?(" "+bs+" ").indexOf(bn)>=0:!bn?bs&&bm!==false:bq==="!="?bs!==bn:bq==="^="?bs.indexOf(bn)===0:bq==="$="?bs.substr(bs.length-bn.length)===bn:bq==="|="?bs===bn||bs.substr(0,bn.length+1)===bn+"-":false},POS:function(bq,bn,bo,br){var bm=bn[2],bp=a9.setFilters[bm];if(bp){return bp(bq,bo,bn,br)}}}};var be=a9.match.POS,ba=function(bn,bm){return"\\"+(bm-0+1)};for(var bh in a9.match){a9.match[bh]=new RegExp(a9.match[bh].source+(/(?![^\[]*\])(?![^\(]*\))/.source));a9.leftMatch[bh]=new RegExp(/(^(?:.|\r|\n)*?)/.source+a9.match[bh].source.replace(/\\(\d+)/g,ba))}var a5=function(bn,bm){bn=Array.prototype.slice.call(bn,0);if(bm){bm.push.apply(bm,bn);return bm}return bn};try{Array.prototype.slice.call(af.documentElement.childNodes,0)[0].nodeType}catch(bf){a5=function(bq,bp){var bo=0,bn=bp||[];if(a8.call(bq)==="[object Array]"){Array.prototype.push.apply(bn,bq)}else{if(typeof bq.length==="number"){for(var bm=bq.length;bo<bm;bo++){bn.push(bq[bo])}}else{for(;bq[bo];bo++){bn.push(bq[bo])}}}return bn}}var a7,bg;if(af.documentElement.compareDocumentPosition){a7=function(bn,bm){if(bn===bm){bj=true;return 0}if(!bn.compareDocumentPosition||!bm.compareDocumentPosition){return bn.compareDocumentPosition?-1:1}return bn.compareDocumentPosition(bm)&4?-1:1}}else{a7=function(bv,bu){var bs,bn,bo=[],bm=[],br=bv.parentNode,bt=bu.parentNode,bw=br;if(bv===bu){bj=true;return 0}else{if(br===bt){return bg(bv,bu)}else{if(!br){return -1}else{if(!bt){return 1}}}}while(bw){bo.unshift(bw);bw=bw.parentNode}bw=bt;while(bw){bm.unshift(bw);bw=bw.parentNode}bs=bo.length;bn=bm.length;for(var bq=0;bq<bs&&bq<bn;bq++){if(bo[bq]!==bm[bq]){return bg(bo[bq],bm[bq])}}return bq===bs?bg(bv,bm[bq],-1):bg(bo[bq],bu,1)};bg=function(bn,bm,bo){if(bn===bm){return bo}var bp=bn.nextSibling;while(bp){if(bp===bm){return -1}bp=bp.nextSibling}return 1}}a6.getText=function(bm){var bn="",bp;for(var bo=0;bm[bo];bo++){bp=bm[bo];if(bp.nodeType===3||bp.nodeType===4){bn+=bp.nodeValue}else{if(bp.nodeType!==8){bn+=a6.getText(bp.childNodes)}}}return bn};(function(){var bn=af.createElement("div"),bo="script"+(new Date()).getTime(),bm=af.documentElement;bn.innerHTML="<a name='"+bo+"'/>";bm.insertBefore(bn,bm.firstChild);if(af.getElementById(bo)){a9.find.ID=function(bq,br,bs){if(typeof br.getElementById!=="undefined"&&!bs){var bp=br.getElementById(bq[1]);return bp?bp.id===bq[1]||typeof bp.getAttributeNode!=="undefined"&&bp.getAttributeNode("id").nodeValue===bq[1]?[bp]:F:[]}};a9.filter.ID=function(br,bp){var bq=typeof br.getAttributeNode!=="undefined"&&br.getAttributeNode("id");return br.nodeType===1&&bq&&bq.nodeValue===bp}}bm.removeChild(bn);bm=bn=null})();(function(){var bm=af.createElement("div");bm.appendChild(af.createComment(""));if(bm.getElementsByTagName("*").length>0){a9.find.TAG=function(bn,br){var bq=br.getElementsByTagName(bn[1]);if(bn[1]==="*"){var bp=[];for(var bo=0;bq[bo];bo++){if(bq[bo].nodeType===1){bp.push(bq[bo])}}bq=bp}return bq}}bm.innerHTML="<a href='#'></a>";if(bm.firstChild&&typeof bm.firstChild.getAttribute!=="undefined"&&bm.firstChild.getAttribute("href")!=="#"){a9.attrHandle.href=function(bn){return bn.getAttribute("href",2)}}bm=null})();if(af.querySelectorAll){(function(){var bm=a6,bp=af.createElement("div"),bo="__sizzle__";bp.innerHTML="<p class='TEST'></p>";if(bp.querySelectorAll&&bp.querySelectorAll(".TEST").length===0){return}a6=function(bz,br,bu,by){br=br||af;if(!by&&!a6.isXML(br)){var bx=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(bz);if(bx&&(br.nodeType===1||br.nodeType===9)){if(bx[1]){return a5(br.getElementsByTagName(bz),bu)}else{if(bx[2]&&a9.find.CLASS&&br.getElementsByClassName){return a5(br.getElementsByClassName(bx[2]),bu)}}}if(br.nodeType===9){if(bz==="body"&&br.body){return a5([br.body],bu)}else{if(bx&&bx[3]){var bt=br.getElementById(bx[3]);if(bt&&bt.parentNode){if(bt.id===bx[3]){return a5([bt],bu)}}else{return a5([],bu)}}}try{return a5(br.querySelectorAll(bz),bu)}catch(bv){}}else{if(br.nodeType===1&&br.nodeName.toLowerCase()!=="object"){var bs=br.getAttribute("id"),bq=bs||bo,bB=br.parentNode,bA=/^\s*[+~]/.test(bz);if(!bs){br.setAttribute("id",bq)}else{bq=bq.replace(/'/g,"\\$&")}if(bA&&bB){br=br.parentNode}try{if(!bA||bB){return a5(br.querySelectorAll("[id='"+bq+"'] "+bz),bu)}}catch(bw){}finally{if(!bs){br.removeAttribute("id")}}}}}return bm(bz,br,bu,by)};for(var bn in bm){a6[bn]=bm[bn]}bp=null})()}(function(){var bm=af.documentElement,bo=bm.matchesSelector||bm.mozMatchesSelector||bm.webkitMatchesSelector||bm.msMatchesSelector,bn=false;try{bo.call(af.documentElement,"[test!='']:sizzle")}catch(bp){bn=true}if(bo){a6.matchesSelector=function(bq,bs){bs=bs.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!a6.isXML(bq)){try{if(bn||!a9.match.PSEUDO.test(bs)&&!/!=/.test(bs)){return bo.call(bq,bs)}}catch(br){}}return a6(bs,null,null,[bq]).length>0}}})();(function(){var bm=af.createElement("div");bm.innerHTML="<div class='test e'></div><div class='test'></div>";if(!bm.getElementsByClassName||bm.getElementsByClassName("e").length===0){return}bm.lastChild.className="e";if(bm.getElementsByClassName("e").length===1){return}a9.order.splice(1,0,"CLASS");a9.find.CLASS=function(bn,bo,bp){if(typeof bo.getElementsByClassName!=="undefined"&&!bp){return bo.getElementsByClassName(bn[1])}};bm=null})();function bi(bn,bs,br,bv,bt,bu){for(var bp=0,bo=bv.length;bp<bo;bp++){var bm=bv[bp];if(bm){var bq=false;bm=bm[bn];while(bm){if(bm.sizcache===br){bq=bv[bm.sizset];break}if(bm.nodeType===1&&!bu){bm.sizcache=br;bm.sizset=bp}if(bm.nodeName.toLowerCase()===bs){bq=bm;break}bm=bm[bn]}bv[bp]=bq}}}function bl(bn,bs,br,bv,bt,bu){for(var bp=0,bo=bv.length;bp<bo;bp++){var bm=bv[bp];if(bm){var bq=false;bm=bm[bn];while(bm){if(bm.sizcache===br){bq=bv[bm.sizset];break}if(bm.nodeType===1){if(!bu){bm.sizcache=br;bm.sizset=bp}if(typeof bs!=="string"){if(bm===bs){bq=true;break}}else{if(a6.filter(bs,[bm]).length>0){bq=bm;break}}}bm=bm[bn]}bv[bp]=bq}}}if(af.documentElement.contains){a6.contains=function(bn,bm){return bn!==bm&&(bn.contains?bn.contains(bm):true)}}else{if(af.documentElement.compareDocumentPosition){a6.contains=function(bn,bm){return !!(bn.compareDocumentPosition(bm)&16)}}else{a6.contains=function(){return false}}}a6.isXML=function(bm){var bn=(bm?bm.ownerDocument||bm:0).documentElement;return bn?bn.nodeName!=="HTML":false};var bb=function(bm,bt){var br,bp=[],bq="",bo=bt.nodeType?[bt]:bt;while((br=a9.match.PSEUDO.exec(bm))){bq+=br[0];bm=bm.replace(a9.match.PSEUDO,"")}bm=a9.relative[bm]?bm+"*":bm;for(var bs=0,bn=bo.length;bs<bn;bs++){a6(bm,bo[bs],bp)}return a6.filter(bq,bp)};a.find=a6;a.expr=a6.selectors;a.expr[":"]=a.expr.filters;a.unique=a6.uniqueSort;a.text=a6.getText;a.isXMLDoc=a6.isXML;a.contains=a6.contains})();var R=/Until$/,ac=/^(?:parents|prevUntil|prevAll)/,aO=/,/,a0=/^.[^:#\[\.,]*$/,J=Array.prototype.slice,D=a.expr.match.POS,ah={children:true,contents:true,next:true,prev:true};a.fn.extend({find:function(a5){var a7=this.pushStack("","find",a5),ba=0;for(var a8=0,a6=this.length;a8<a6;a8++){ba=a7.length;a.find(a5,this[a8],a7);if(a8>0){for(var bb=ba;bb<a7.length;bb++){for(var a9=0;a9<ba;a9++){if(a7[a9]===a7[bb]){a7.splice(bb--,1);break}}}}}return a7},has:function(a6){var a5=a(a6);return this.filter(function(){for(var a8=0,a7=a5.length;a8<a7;a8++){if(a.contains(this,a5[a8])){return true}}})},not:function(a5){return this.pushStack(am(this,a5,false),"not",a5)},filter:function(a5){return this.pushStack(am(this,a5,true),"filter",a5)},is:function(a5){return !!a5&&a.filter(a5,this).length>0},closest:function(bf,a6){var bc=[],a9,a7,be=this[0];if(a.isArray(bf)){var bb,a8,ba={},a5=1;if(be&&bf.length){for(a9=0,a7=bf.length;a9<a7;a9++){a8=bf[a9];if(!ba[a8]){ba[a8]=a.expr.match.POS.test(a8)?a(a8,a6||this.context):a8}}while(be&&be.ownerDocument&&be!==a6){for(a8 in ba){bb=ba[a8];if(bb.jquery?bb.index(be)>-1:a(be).is(bb)){bc.push({selector:a8,elem:be,level:a5})}}be=be.parentNode;a5++}}return bc}var bd=D.test(bf)?a(bf,a6||this.context):null;for(a9=0,a7=this.length;a9<a7;a9++){be=this[a9];while(be){if(bd?bd.index(be)>-1:a.find.matchesSelector(be,bf)){bc.push(be);break}else{be=be.parentNode;if(!be||!be.ownerDocument||be===a6){break}}}}bc=bc.length>1?a.unique(bc):bc;return this.pushStack(bc,"closest",bf)},index:function(a5){if(!a5||typeof a5==="string"){return a.inArray(this[0],a5?a(a5):this.parent().children())}return a.inArray(a5.jquery?a5[0]:a5,this)},add:function(a5,a6){var a8=typeof a5==="string"?a(a5,a6):a.makeArray(a5),a7=a.merge(this.get(),a8);return this.pushStack(z(a8[0])||z(a7[0])?a7:a.unique(a7))},andSelf:function(){return this.add(this.prevObject)}});function z(a5){return !a5||!a5.parentNode||a5.parentNode.nodeType===11}a.each({parent:function(a6){var a5=a6.parentNode;return a5&&a5.nodeType!==11?a5:null},parents:function(a5){return a.dir(a5,"parentNode")},parentsUntil:function(a6,a5,a7){return a.dir(a6,"parentNode",a7)},next:function(a5){return a.nth(a5,2,"nextSibling")},prev:function(a5){return a.nth(a5,2,"previousSibling")},nextAll:function(a5){return a.dir(a5,"nextSibling")},prevAll:function(a5){return a.dir(a5,"previousSibling")},nextUntil:function(a6,a5,a7){return a.dir(a6,"nextSibling",a7)},prevUntil:function(a6,a5,a7){return a.dir(a6,"previousSibling",a7)},siblings:function(a5){return a.sibling(a5.parentNode.firstChild,a5)},children:function(a5){return a.sibling(a5.firstChild)},contents:function(a5){return a.nodeName(a5,"iframe")?a5.contentDocument||a5.contentWindow.document:a.makeArray(a5.childNodes)}},function(a5,a6){a.fn[a5]=function(ba,a7){var a9=a.map(this,a6,ba),a8=J.call(arguments);if(!R.test(a5)){a7=ba}if(a7&&typeof a7==="string"){a9=a.filter(a7,a9)}a9=this.length>1&&!ah[a5]?a.unique(a9):a9;if((this.length>1||aO.test(a7))&&ac.test(a5)){a9=a9.reverse()}return this.pushStack(a9,a5,a8.join(","))}});a.extend({filter:function(a7,a5,a6){if(a6){a7=":not("+a7+")"}return a5.length===1?a.find.matchesSelector(a5[0],a7)?[a5[0]]:[]:a.find.matches(a7,a5)},dir:function(a7,a6,a9){var a5=[],a8=a7[a6];while(a8&&a8.nodeType!==9&&(a9===F||a8.nodeType!==1||!a(a8).is(a9))){if(a8.nodeType===1){a5.push(a8)}a8=a8[a6]}return a5},nth:function(a9,a5,a7,a8){a5=a5||1;var a6=0;for(;a9;a9=a9[a7]){if(a9.nodeType===1&&++a6===a5){break}}return a9},sibling:function(a7,a6){var a5=[];for(;a7;a7=a7.nextSibling){if(a7.nodeType===1&&a7!==a6){a5.push(a7)}}return a5}});function am(a8,a7,a5){if(a.isFunction(a7)){return a.grep(a8,function(ba,a9){var bb=!!a7.call(ba,a9,ba);return bb===a5})}else{if(a7.nodeType){return a.grep(a8,function(ba,a9){return(ba===a7)===a5})}else{if(typeof a7==="string"){var a6=a.grep(a8,function(a9){return a9.nodeType===1});if(a0.test(a7)){return a.filter(a7,a6,!a5)}else{a7=a.filter(a7,a6)}}}}return a.grep(a8,function(ba,a9){return(a.inArray(ba,a7)>=0)===a5})}var W=/ jQuery\d+="(?:\d+|null)"/g,ad=/^\s+/,L=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,c=/<([\w:]+)/,t=/<tbody/i,O=/<|&#?\w+;/,I=/<(?:script|object|embed|option|style)/i,l=/checked\s*(?:[^=]|=\s*.checked.)/i,ag={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};ag.optgroup=ag.option;ag.tbody=ag.tfoot=ag.colgroup=ag.caption=ag.thead;ag.th=ag.td;if(!a.support.htmlSerialize){ag._default=[1,"div<div>","</div>"]}a.fn.extend({text:function(a5){if(a.isFunction(a5)){return this.each(function(a7){var a6=a(this);a6.text(a5.call(this,a7,a6.text()))})}if(typeof a5!=="object"&&a5!==F){return this.empty().append((this[0]&&this[0].ownerDocument||af).createTextNode(a5))}return a.text(this)},wrapAll:function(a5){if(a.isFunction(a5)){return this.each(function(a7){a(this).wrapAll(a5.call(this,a7))})}if(this[0]){var a6=a(a5,this[0].ownerDocument).eq(0).clone(true);if(this[0].parentNode){a6.insertBefore(this[0])}a6.map(function(){var a7=this;while(a7.firstChild&&a7.firstChild.nodeType===1){a7=a7.firstChild}return a7}).append(this)}return this},wrapInner:function(a5){if(a.isFunction(a5)){return this.each(function(a6){a(this).wrapInner(a5.call(this,a6))})}return this.each(function(){var a6=a(this),a7=a6.contents();if(a7.length){a7.wrapAll(a5)}else{a6.append(a5)}})},wrap:function(a5){return this.each(function(){a(this).wrapAll(a5)})},unwrap:function(){return this.parent().each(function(){if(!a.nodeName(this,"body")){a(this).replaceWith(this.childNodes)}}).end()},append:function(){return this.domManip(arguments,true,function(a5){if(this.nodeType===1){this.appendChild(a5)}})},prepend:function(){return this.domManip(arguments,true,function(a5){if(this.nodeType===1){this.insertBefore(a5,this.firstChild)}})},before:function(){if(this[0]&&this[0].parentNode){return this.domManip(arguments,false,function(a6){this.parentNode.insertBefore(a6,this)})}else{if(arguments.length){var a5=a(arguments[0]);a5.push.apply(a5,this.toArray());return this.pushStack(a5,"before",arguments)}}},after:function(){if(this[0]&&this[0].parentNode){return this.domManip(arguments,false,function(a6){this.parentNode.insertBefore(a6,this.nextSibling)})}else{if(arguments.length){var a5=this.pushStack(this,"after",arguments);a5.push.apply(a5,a(arguments[0]).toArray());return a5}}},remove:function(a5,a8){for(var a6=0,a7;(a7=this[a6])!=null;a6++){if(!a5||a.filter(a5,[a7]).length){if(!a8&&a7.nodeType===1){a.cleanData(a7.getElementsByTagName("*"));a.cleanData([a7])}if(a7.parentNode){a7.parentNode.removeChild(a7)}}}return this},empty:function(){for(var a5=0,a6;(a6=this[a5])!=null;a5++){if(a6.nodeType===1){a.cleanData(a6.getElementsByTagName("*"))}while(a6.firstChild){a6.removeChild(a6.firstChild)}}return this},clone:function(a6,a5){a6=a6==null?true:a6;a5=a5==null?a6:a5;return this.map(function(){return a.clone(this,a6,a5)})},html:function(a7){if(a7===F){return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(W,""):null}else{if(typeof a7==="string"&&!I.test(a7)&&(a.support.leadingWhitespace||!ad.test(a7))&&!ag[(c.exec(a7)||["",""])[1].toLowerCase()]){a7=a7.replace(L,"<$1></$2>");try{for(var a6=0,a5=this.length;a6<a5;a6++){if(this[a6].nodeType===1){a.cleanData(this[a6].getElementsByTagName("*"));this[a6].innerHTML=a7}}}catch(a8){this.empty().append(a7)}}else{if(a.isFunction(a7)){this.each(function(ba){var a9=a(this);a9.html(a7.call(this,ba,a9.html()))})}else{this.empty().append(a7)}}}return this},replaceWith:function(a5){if(this[0]&&this[0].parentNode){if(a.isFunction(a5)){return this.each(function(a8){var a7=a(this),a6=a7.html();a7.replaceWith(a5.call(this,a8,a6))})}if(typeof a5!=="string"){a5=a(a5).detach()}return this.each(function(){var a7=this.nextSibling,a6=this.parentNode;a(this).remove();if(a7){a(a7).before(a5)}else{a(a6).append(a5)}})}else{return this.pushStack(a(a.isFunction(a5)?a5():a5),"replaceWith",a5)}},detach:function(a5){return this.remove(a5,true)},domManip:function(bc,bg,bf){var a8,a9,bb,be,bd=bc[0],a6=[];if(!a.support.checkClone&&arguments.length===3&&typeof bd==="string"&&l.test(bd)){return this.each(function(){a(this).domManip(bc,bg,bf,true)})}if(a.isFunction(bd)){return this.each(function(bi){var bh=a(this);bc[0]=bd.call(this,bi,bg?bh.html():F);bh.domManip(bc,bg,bf)})}if(this[0]){be=bd&&bd.parentNode;if(a.support.parentNode&&be&&be.nodeType===11&&be.childNodes.length===this.length){a8={fragment:be}}else{a8=a.buildFragment(bc,this,a6)}bb=a8.fragment;if(bb.childNodes.length===1){a9=bb=bb.firstChild}else{a9=bb.firstChild}if(a9){bg=bg&&a.nodeName(a9,"tr");for(var a7=0,a5=this.length,ba=a5-1;a7<a5;a7++){bf.call(bg?aP(this[a7],a9):this[a7],a8.cacheable||(a5>1&&a7<ba)?a.clone(bb,true,true):bb)}}if(a6.length){a.each(a6,aZ)}}return this}});function aP(a5,a6){return a.nodeName(a5,"table")?(a5.getElementsByTagName("tbody")[0]||a5.appendChild(a5.ownerDocument.createElement("tbody"))):a5}function q(a5,bc){if(bc.nodeType!==1||!a.hasData(a5)){return}var bb=a.expando,a8=a.data(a5),a9=a.data(bc,a8);if((a8=a8[bb])){var bd=a8.events;a9=a9[bb]=a.extend({},a8);if(bd){delete a9.handle;a9.events={};for(var ba in bd){for(var a7=0,a6=bd[ba].length;a7<a6;a7++){a.event.add(bc,ba,bd[ba][a7],bd[ba][a7].data)}}}}}function X(a6,a5){if(a5.nodeType!==1){return}var a7=a5.nodeName.toLowerCase();a5.clearAttributes();a5.mergeAttributes(a6);if(a7==="object"){a5.outerHTML=a6.outerHTML}else{if(a7==="input"&&(a6.type==="checkbox"||a6.type==="radio")){if(a6.checked){a5.defaultChecked=a5.checked=a6.checked}if(a5.value!==a6.value){a5.value=a6.value}}else{if(a7==="option"){a5.selected=a6.defaultSelected}else{if(a7==="input"||a7==="textarea"){a5.defaultValue=a6.defaultValue}}}}a5.removeAttribute(a.expando)}a.buildFragment=function(ba,a8,a6){var a9,a5,a7,bb=(a8&&a8[0]?a8[0].ownerDocument||a8[0]:af);if(ba.length===1&&typeof ba[0]==="string"&&ba[0].length<512&&bb===af&&ba[0].charAt(0)==="<"&&!I.test(ba[0])&&(a.support.checkClone||!l.test(ba[0]))){a5=true;a7=a.fragments[ba[0]];if(a7){if(a7!==1){a9=a7}}}if(!a9){a9=bb.createDocumentFragment();a.clean(ba,bb,a9,a6)}if(a5){a.fragments[ba[0]]=a7?a9:1}return{fragment:a9,cacheable:a5}};a.fragments={};a.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a5,a6){a.fn[a5]=function(a7){var ba=[],bd=a(a7),bc=this.length===1&&this[0].parentNode;if(bc&&bc.nodeType===11&&bc.childNodes.length===1&&bd.length===1){bd[a6](this[0]);return this}else{for(var bb=0,a8=bd.length;bb<a8;bb++){var a9=(bb>0?this.clone(true):this).get();a(bd[bb])[a6](a9);ba=ba.concat(a9)}return this.pushStack(ba,a5,bd.selector)}}});a.extend({clone:function(a9,bb,a7){var ba=a9.cloneNode(true),a5,a6,a8;if(!a.support.noCloneEvent&&(a9.nodeType===1||a9.nodeType===11)&&!a.isXMLDoc(a9)){a5=a9.getElementsByTagName("*");a6=ba.getElementsByTagName("*");for(a8=0;a5[a8];++a8){X(a5[a8],a6[a8])}X(a9,ba)}if(bb){q(a9,ba);if(a7&&"getElementsByTagName" in a9){a5=a9.getElementsByTagName("*");a6=ba.getElementsByTagName("*");if(a5.length){for(a8=0;a5[a8];++a8){q(a5[a8],a6[a8])}}}}return ba},clean:function(a7,a9,bg,bb){a9=a9||af;if(typeof a9.createElement==="undefined"){a9=a9.ownerDocument||a9[0]&&a9[0].ownerDocument||af}var bh=[];for(var bf=0,ba;(ba=a7[bf])!=null;bf++){if(typeof ba==="number"){ba+=""}if(!ba){continue}if(typeof ba==="string"&&!O.test(ba)){ba=a9.createTextNode(ba)}else{if(typeof ba==="string"){ba=ba.replace(L,"<$1></$2>");var bi=(c.exec(ba)||["",""])[1].toLowerCase(),a8=ag[bi]||ag._default,be=a8[0],a6=a9.createElement("div");a6.innerHTML=a8[1]+ba+a8[2];while(be--){a6=a6.lastChild}if(!a.support.tbody){var a5=t.test(ba),bd=bi==="table"&&!a5?a6.firstChild&&a6.firstChild.childNodes:a8[1]==="<table>"&&!a5?a6.childNodes:[];for(var bc=bd.length-1;bc>=0;--bc){if(a.nodeName(bd[bc],"tbody")&&!bd[bc].childNodes.length){bd[bc].parentNode.removeChild(bd[bc])}}}if(!a.support.leadingWhitespace&&ad.test(ba)){a6.insertBefore(a9.createTextNode(ad.exec(ba)[0]),a6.firstChild)}ba=a6.childNodes}}if(ba.nodeType){bh.push(ba)}else{bh=a.merge(bh,ba)}}if(bg){for(bf=0;bh[bf];bf++){if(bb&&a.nodeName(bh[bf],"script")&&(!bh[bf].type||bh[bf].type.toLowerCase()==="text/javascript")){bb.push(bh[bf].parentNode?bh[bf].parentNode.removeChild(bh[bf]):bh[bf])}else{if(bh[bf].nodeType===1){bh.splice.apply(bh,[bf+1,0].concat(a.makeArray(bh[bf].getElementsByTagName("script"))))}bg.appendChild(bh[bf])}}}return bh},cleanData:function(a6){var a9,a7,a5=a.cache,be=a.expando,bc=a.event.special,bb=a.support.deleteExpando;for(var ba=0,a8;(a8=a6[ba])!=null;ba++){if(a8.nodeName&&a.noData[a8.nodeName.toLowerCase()]){continue}a7=a8[a.expando];if(a7){a9=a5[a7]&&a5[a7][be];if(a9&&a9.events){for(var bd in a9.events){if(bc[bd]){a.event.remove(a8,bd)}else{a.removeEvent(a8,bd,a9.handle)}}if(a9.handle){a9.handle.elem=null}}if(bb){delete a8[a.expando]}else{if(a8.removeAttribute){a8.removeAttribute(a.expando)}}delete a5[a7]}}}});function aZ(a5,a6){if(a6.src){a.ajax({url:a6.src,async:false,dataType:"script"})}else{a.globalEval(a6.text||a6.textContent||a6.innerHTML||"")}if(a6.parentNode){a6.parentNode.removeChild(a6)}}var Y=/alpha\([^)]*\)/i,ae=/opacity=([^)]*)/,aC=/-([a-z])/ig,w=/([A-Z])/g,aR=/^-?\d+(?:px)?$/i,aY=/^-?\d/,aN={position:"absolute",visibility:"hidden",display:"block"},aa=["Left","Right"],aJ=["Top","Bottom"],P,ap,aB,k=function(a5,a6){return a6.toUpperCase()};a.fn.css=function(a5,a6){if(arguments.length===2&&a6===F){return this}return a.access(this,a5,a6,true,function(a8,a7,a9){return a9!==F?a.style(a8,a7,a9):a.css(a8,a7)})};a.extend({cssHooks:{opacity:{get:function(a7,a6){if(a6){var a5=P(a7,"opacity","opacity");return a5===""?"1":a5}else{return a7.style.opacity}}}},cssNumber:{zIndex:true,fontWeight:true,opacity:true,zoom:true,lineHeight:true},cssProps:{"float":a.support.cssFloat?"cssFloat":"styleFloat"},style:function(a7,a6,bc,a8){if(!a7||a7.nodeType===3||a7.nodeType===8||!a7.style){return}var bb,a9=a.camelCase(a6),a5=a7.style,bd=a.cssHooks[a9];a6=a.cssProps[a9]||a9;if(bc!==F){if(typeof bc==="number"&&isNaN(bc)||bc==null){return}if(typeof bc==="number"&&!a.cssNumber[a9]){bc+="px"}if(!bd||!("set" in bd)||(bc=bd.set(a7,bc))!==F){try{a5[a6]=bc}catch(ba){}}}else{if(bd&&"get" in bd&&(bb=bd.get(a7,false,a8))!==F){return bb}return a5[a6]}},css:function(ba,a9,a6){var a8,a7=a.camelCase(a9),a5=a.cssHooks[a7];a9=a.cssProps[a7]||a7;if(a5&&"get" in a5&&(a8=a5.get(ba,true,a6))!==F){return a8}else{if(P){return P(ba,a9,a7)}}},swap:function(a8,a7,a9){var a5={};for(var a6 in a7){a5[a6]=a8.style[a6];a8.style[a6]=a7[a6]}a9.call(a8);for(a6 in a7){a8.style[a6]=a5[a6]}},camelCase:function(a5){return a5.replace(aC,k)}});a.curCSS=a.css;a.each(["height","width"],function(a6,a5){a.cssHooks[a5]={get:function(a9,a8,a7){var ba;if(a8){if(a9.offsetWidth!==0){ba=n(a9,a5,a7)}else{a.swap(a9,aN,function(){ba=n(a9,a5,a7)})}if(ba<=0){ba=P(a9,a5,a5);if(ba==="0px"&&aB){ba=aB(a9,a5,a5)}if(ba!=null){return ba===""||ba==="auto"?"0px":ba}}if(ba<0||ba==null){ba=a9.style[a5];return ba===""||ba==="auto"?"0px":ba}return typeof ba==="string"?ba:ba+"px"}},set:function(a7,a8){if(aR.test(a8)){a8=parseFloat(a8);if(a8>=0){return a8+"px"}}else{return a8}}}});if(!a.support.opacity){a.cssHooks.opacity={get:function(a6,a5){return ae.test((a5&&a6.currentStyle?a6.currentStyle.filter:a6.style.filter)||"")?(parseFloat(RegExp.$1)/100)+"":a5?"1":""},set:function(a8,a9){var a7=a8.style;a7.zoom=1;var a5=a.isNaN(a9)?"":"alpha(opacity="+a9*100+")",a6=a7.filter||"";a7.filter=Y.test(a6)?a6.replace(Y,a5):a7.filter+" "+a5}}}if(af.defaultView&&af.defaultView.getComputedStyle){ap=function(ba,a5,a8){var a7,a9,a6;a8=a8.replace(w,"-$1").toLowerCase();if(!(a9=ba.ownerDocument.defaultView)){return F}if((a6=a9.getComputedStyle(ba,null))){a7=a6.getPropertyValue(a8);if(a7===""&&!a.contains(ba.ownerDocument.documentElement,ba)){a7=a.style(ba,a8)}}return a7}}if(af.documentElement.currentStyle){aB=function(a9,a7){var ba,a6=a9.currentStyle&&a9.currentStyle[a7],a5=a9.runtimeStyle&&a9.runtimeStyle[a7],a8=a9.style;if(!aR.test(a6)&&aY.test(a6)){ba=a8.left;if(a5){a9.runtimeStyle.left=a9.currentStyle.left}a8.left=a7==="fontSize"?"1em":(a6||0);a6=a8.pixelLeft+"px";a8.left=ba;if(a5){a9.runtimeStyle.left=a5}}return a6===""?"auto":a6}}P=ap||aB;function n(a7,a6,a5){var a9=a6==="width"?aa:aJ,a8=a6==="width"?a7.offsetWidth:a7.offsetHeight;if(a5==="border"){return a8}a.each(a9,function(){if(!a5){a8-=parseFloat(a.css(a7,"padding"+this))||0}if(a5==="margin"){a8+=parseFloat(a.css(a7,"margin"+this))||0}else{a8-=parseFloat(a.css(a7,"border"+this+"Width"))||0}});return a8}if(a.expr&&a.expr.filters){a.expr.filters.hidden=function(a7){var a6=a7.offsetWidth,a5=a7.offsetHeight;return(a6===0&&a5===0)||(!a.support.reliableHiddenOffsets&&(a7.style.display||a.css(a7,"display"))==="none")};a.expr.filters.visible=function(a5){return !a.expr.filters.hidden(a5)}}var h=/%20/g,ab=/\[\]$/,a4=/\r?\n/g,a1=/#.*$/,ak=/^(.*?):\s*(.*?)\r?$/mg,aF=/^(?:color|date|datetime|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,at=/^(?:GET|HEAD)$/,b=/^\/\//,G=/\?/,aM=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,o=/^(?:select|textarea)/i,f=/\s+/,a3=/([?&])_=[^&]*/,E=/^(\w+:)\/\/([^\/?#:]+)(?::(\d+))?/,y=a.fn.load,Q={},p={};function d(a5){return function(a9,bb){if(typeof a9!=="string"){bb=a9;a9="*"}if(a.isFunction(bb)){var a8=a9.toLowerCase().split(f),a7=0,ba=a8.length,a6,bc,bd;for(;a7<ba;a7++){a6=a8[a7];bd=/^\+/.test(a6);if(bd){a6=a6.substr(1)||"*"}bc=a5[a6]=a5[a6]||[];bc[bd?"unshift":"push"](bb)}}}}function ay(a6,bf,ba,be,bc,a8){bc=bc||bf.dataTypes[0];a8=a8||{};a8[bc]=true;var bb=a6[bc],a7=0,a5=bb?bb.length:0,a9=(a6===Q),bd;for(;a7<a5&&(a9||!bd);a7++){bd=bb[a7](bf,ba,be);if(typeof bd==="string"){if(a8[bd]){bd=F}else{bf.dataTypes.unshift(bd);bd=ay(a6,bf,ba,be,bd,a8)}}}if((a9||!bd)&&!a8["*"]){bd=ay(a6,bf,ba,be,"*",a8)}return bd}a.fn.extend({load:function(a7,ba,bb){if(typeof a7!=="string"&&y){return y.apply(this,arguments)}else{if(!this.length){return this}}var a9=a7.indexOf(" ");if(a9>=0){var a5=a7.slice(a9,a7.length);a7=a7.slice(0,a9)}var a8="GET";if(ba){if(a.isFunction(ba)){bb=ba;ba=null}else{if(typeof ba==="object"){ba=a.param(ba,a.ajaxSettings.traditional);a8="POST"}}}var a6=this;a.ajax({url:a7,type:a8,dataType:"html",data:ba,complete:function(be,bc,bd){bd=be.responseText;if(be.isResolved()){be.done(function(bf){bd=bf});a6.html(a5?a("<div>").append(bd.replace(aM,"")).find(a5):bd)}if(bb){a6.each(bb,[bd,bc,be])}}});return this},serialize:function(){return a.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?a.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||o.test(this.nodeName)||aF.test(this.type))}).map(function(a5,a6){var a7=a(this).val();return a7==null?null:a.isArray(a7)?a.map(a7,function(a9,a8){return{name:a6.name,value:a9.replace(a4,"\r\n")}}):{name:a6.name,value:a7.replace(a4,"\r\n")}}).get()}});a.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a5,a6){a.fn[a6]=function(a7){return this.bind(a6,a7)}});a.each(["get","post"],function(a5,a6){a[a6]=function(a7,a9,ba,a8){if(a.isFunction(a9)){a8=a8||ba;ba=a9;a9=null}return a.ajax({type:a6,url:a7,data:a9,success:ba,dataType:a8})}});a.extend({getScript:function(a5,a6){return a.get(a5,null,a6,"script")},getJSON:function(a5,a6,a7){return a.get(a5,a6,a7,"json")},ajaxSetup:function(a5){a.extend(true,a.ajaxSettings,a5);if(a5.context){a.ajaxSettings.context=a5.context}},ajaxSettings:{url:location.href,global:true,type:"GET",contentType:"application/x-www-form-urlencoded",processData:true,async:true,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":"*/*"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":aQ.String,"text html":true,"text json":a.parseJSON,"text xml":a.parseXML}},ajaxPrefilter:d(Q),ajaxTransport:d(p),ajax:function(a9,a6){if(typeof a6!=="object"){a6=a9;a9=F}a6=a6||{};var bd=a.extend(true,{},a.ajaxSettings,a6),br=(bd.context=("context" in a6?a6:a.ajaxSettings).context)||bd,bh=br===bd?a.event:a(br),bq=a.Deferred(),bn=a._Deferred(),bb=bd.statusCode||{},bi={},bp,a7,bl,bf,bc=af.location,be=bc.protocol||"http:",bj,ba=0,bk,a8={readyState:0,setRequestHeader:function(bs,bt){if(ba===0){bi[bs.toLowerCase()]=bt}return this},getAllResponseHeaders:function(){return ba===2?bp:null},getResponseHeader:function(bt){var bs;if(ba===2){if(!a7){a7={};while((bs=ak.exec(bp))){a7[bs[1].toLowerCase()]=bs[2]}}bs=a7[bt.toLowerCase()]}return bs||null},abort:function(bs){bs=bs||"abort";if(bl){bl.abort(bs)}bg(0,bs);return this}};function bg(bx,bv,by,bu){if(ba===2){return}ba=2;if(bf){clearTimeout(bf)}bl=F;bp=bu||"";a8.readyState=bx?4:0;var bs,bC,bB,bw=by?aV(bd,a8,by):F,bt,bA;if(bx>=200&&bx<300||bx===304){if(bd.ifModified){if((bt=a8.getResponseHeader("Last-Modified"))){a.lastModified[bd.url]=bt}if((bA=a8.getResponseHeader("Etag"))){a.etag[bd.url]=bA}}if(bx===304){bv="notmodified";bs=true}else{try{bC=B(bd,bw);bv="success";bs=true}catch(bz){bv="parsererror";bB=bz}}}else{bB=bv;if(bx){bv="error";if(bx<0){bx=0}}}a8.status=bx;a8.statusText=bv;if(bs){bq.resolveWith(br,[bC,bv,a8])}else{bq.rejectWith(br,[a8,bv,bB])}a8.statusCode(bb);bb=F;if(bd.global){bh.trigger("ajax"+(bs?"Success":"Error"),[a8,bd,bs?bC:bB])}bn.resolveWith(br,[a8,bv]);if(bd.global){bh.trigger("ajaxComplete",[a8,bd]);if(!(--a.active)){a.event.trigger("ajaxStop")}}}bq.promise(a8);a8.success=a8.done;a8.error=a8.fail;a8.complete=bn.done;a8.statusCode=function(bt){if(bt){var bs;if(ba<2){for(bs in bt){bb[bs]=[bb[bs],bt[bs]]}}else{bs=bt[a8.status];a8.then(bs,bs)}}return this};bd.url=(""+(a9||bd.url)).replace(a1,"").replace(b,be+"//");bd.dataTypes=a.trim(bd.dataType||"*").toLowerCase().split(f);if(!bd.crossDomain){bj=E.exec(bd.url.toLowerCase());bd.crossDomain=!!(bj&&(bj[1]!=be||bj[2]!=bc.hostname||(bj[3]||(bj[1]==="http:"?80:443))!=(bc.port||(be==="http:"?80:443))))}if(bd.data&&bd.processData&&typeof bd.data!=="string"){bd.data=a.param(bd.data,bd.traditional)}ay(Q,bd,a6,a8);bd.type=bd.type.toUpperCase();bd.hasContent=!at.test(bd.type);if(bd.global&&a.active++===0){a.event.trigger("ajaxStart")}if(!bd.hasContent){if(bd.data){bd.url+=(G.test(bd.url)?"&":"?")+bd.data}if(bd.cache===false){var a5=a.now(),bo=bd.url.replace(a3,"$1_="+a5);bd.url=bo+((bo===bd.url)?(G.test(bd.url)?"&":"?")+"_="+a5:"")}}if(bd.data&&bd.hasContent&&bd.contentType!==false||a6.contentType){bi["content-type"]=bd.contentType}if(bd.ifModified){if(a.lastModified[bd.url]){bi["if-modified-since"]=a.lastModified[bd.url]}if(a.etag[bd.url]){bi["if-none-match"]=a.etag[bd.url]}}bi.accept=bd.dataTypes[0]&&bd.accepts[bd.dataTypes[0]]?bd.accepts[bd.dataTypes[0]]+(bd.dataTypes[0]!=="*"?", */*; q=0.01":""):bd.accepts["*"];for(bk in bd.headers){bi[bk.toLowerCase()]=bd.headers[bk]}if(bd.beforeSend&&(bd.beforeSend.call(br,a8,bd)===false||ba===2)){bg(0,"abort");a8=false}else{for(bk in {success:1,error:1,complete:1}){a8[bk](bd[bk])}bl=ay(p,bd,a6,a8);if(!bl){bg(-1,"No Transport")}else{ba=a8.readyState=1;if(bd.global){bh.trigger("ajaxSend",[a8,bd])}if(bd.async&&bd.timeout>0){bf=setTimeout(function(){a8.abort("timeout")},bd.timeout)}try{bl.send(bi,bg)}catch(bm){if(status<2){bg(-1,bm)}else{a.error(bm)}}}}return a8},param:function(a5,a7){var a6=[],a9=function(ba,bb){bb=a.isFunction(bb)?bb():bb;a6[a6.length]=encodeURIComponent(ba)+"="+encodeURIComponent(bb)};if(a7===F){a7=a.ajaxSettings.traditional}if(a.isArray(a5)||a5.jquery){a.each(a5,function(){a9(this.name,this.value)})}else{for(var a8 in a5){s(a8,a5[a8],a7,a9)}}return a6.join("&").replace(h,"+")}});function s(a6,a8,a5,a7){if(a.isArray(a8)&&a8.length){a.each(a8,function(ba,a9){if(a5||ab.test(a6)){a7(a6,a9)}else{s(a6+"["+(typeof a9==="object"||a.isArray(a9)?ba:"")+"]",a9,a5,a7)}})}else{if(!a5&&a8!=null&&typeof a8==="object"){if(a.isArray(a8)||a.isEmptyObject(a8)){a7(a6,"")}else{a.each(a8,function(ba,a9){s(a6+"["+ba+"]",a9,a5,a7)})}}else{a7(a6,a8)}}}a.extend({active:0,lastModified:{},etag:{}});function aV(be,bd,ba){var a6=be.contents,bc=be.dataTypes,a7=be.responseFields,a9,bb,a8,a5;for(bb in a7){if(bb in ba){bd[a7[bb]]=ba[bb]}}while(bc[0]==="*"){bc.shift();if(a9===F){a9=bd.getResponseHeader("content-type")}}if(a9){for(bb in a6){if(a6[bb]&&a6[bb].test(a9)){bc.unshift(bb);break}}}if(bc[0] in ba){a8=bc[0]}else{for(bb in ba){if(!bc[0]||be.converters[bb+" "+bc[0]]){a8=bb;break}if(!a5){a5=bb}}a8=a8||a5}if(a8){if(a8!==bc[0]){bc.unshift(a8)}return ba[a8]}}function B(bh,ba){if(bh.dataFilter){ba=bh.dataFilter(ba,bh.dataType)}var be=bh.dataTypes,bg=bh.converters,bb,a7=be.length,bc,bd=be[0],a8,a9,bf,a6,a5;for(bb=1;bb<a7;bb++){a8=bd;bd=be[bb];if(bd==="*"){bd=a8}else{if(a8!=="*"&&a8!==bd){a9=a8+" "+bd;bf=bg[a9]||bg["* "+bd];if(!bf){a5=F;for(a6 in bg){bc=a6.split(" ");if(bc[0]===a8||bc[0]==="*"){a5=bg[bc[1]+" "+bd];if(a5){a6=bg[a6];if(a6===true){bf=a5}else{if(a5===true){bf=a6}}break}}}}if(!(bf||a5)){a.error("No conversion from "+a9.replace(" "," to "))}if(bf!==true){ba=bf?bf(ba):a5(a6(ba))}}}}return ba}var aj=a.now(),r=/(\=)\?(&|$)|()\?\?()/i;a.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return a.expando+"_"+(aj++)}});a.ajaxPrefilter("json jsonp",function(bd,ba,bc){bc=(typeof bd.data==="string");if(bd.dataTypes[0]==="jsonp"||ba.jsonpCallback||ba.jsonp!=null||bd.jsonp!==false&&(r.test(bd.url)||bc&&r.test(bd.data))){var bb,a7=bd.jsonpCallback=a.isFunction(bd.jsonpCallback)?bd.jsonpCallback():bd.jsonpCallback,a9=aQ[a7],a5=bd.url,a8=bd.data,a6="$1"+a7+"$2";if(bd.jsonp!==false){a5=a5.replace(r,a6);if(bd.url===a5){if(bc){a8=a8.replace(r,a6)}if(bd.data===a8){a5+=(/\?/.test(a5)?"&":"?")+bd.jsonp+"="+a7}}}bd.url=a5;bd.data=a8;aQ[a7]=function(be){bb=[be]};bd.complete=[function(){aQ[a7]=a9;if(a9){if(bb&&a.isFunction(a9)){aQ[a7](bb[0])}}else{try{delete aQ[a7]}catch(be){}}},bd.complete];bd.converters["script json"]=function(){if(!bb){a.error(a7+" was not called")}return bb[0]};bd.dataTypes[0]="json";return"script"}});a.ajaxSetup({accepts:{script:"text/javascript, application/javascript"},contents:{script:/javascript/},converters:{"text script":function(a5){a.globalEval(a5);return a5}}});a.ajaxPrefilter("script",function(a5){if(a5.cache===F){a5.cache=false}if(a5.crossDomain){a5.type="GET";a5.global=false}});a.ajaxTransport("script",function(a7){if(a7.crossDomain){var a5,a6=af.getElementsByTagName("head")[0]||af.documentElement;return{send:function(a8,a9){a5=af.createElement("script");a5.async="async";if(a7.scriptCharset){a5.charset=a7.scriptCharset}a5.src=a7.url;a5.onload=a5.onreadystatechange=function(bb,ba){if(!a5.readyState||/loaded|complete/.test(a5.readyState)){a5.onload=a5.onreadystatechange=null;if(a6&&a5.parentNode){a6.removeChild(a5)}a5=F;if(!ba){a9(200,"success")}}};a6.insertBefore(a5,a6.firstChild)},abort:function(){if(a5){a5.onload(0,1)}}}}});var v=a.now(),aG={},aD,al;a.ajaxSettings.xhr=aQ.ActiveXObject?function(){if(aQ.location.protocol!=="file:"){try{return new aQ.XMLHttpRequest()}catch(a6){}}try{return new aQ.ActiveXObject("Microsoft.XMLHTTP")}catch(a5){}}:function(){return new aQ.XMLHttpRequest()};try{al=a.ajaxSettings.xhr()}catch(a2){}a.support.ajax=!!al;a.support.cors=al&&("withCredentials" in al);al=F;if(a.support.ajax){a.ajaxTransport(function(a5){if(!a5.crossDomain||a.support.cors){var a6;return{send:function(bb,a7){if(!aD){aD=1;a(aQ).bind("unload",function(){a.each(aG,function(bc,bd){if(bd.onreadystatechange){bd.onreadystatechange(1)}})})}var ba=a5.xhr(),a9;if(a5.username){ba.open(a5.type,a5.url,a5.async,a5.username,a5.password)}else{ba.open(a5.type,a5.url,a5.async)}if(!(a5.crossDomain&&!a5.hasContent)&&!bb["x-requested-with"]){bb["x-requested-with"]="XMLHttpRequest"}try{a.each(bb,function(bc,bd){ba.setRequestHeader(bc,bd)})}catch(a8){}ba.send((a5.hasContent&&a5.data)||null);a6=function(bf,bd){if(a6&&(bd||ba.readyState===4)){a6=0;if(a9){ba.onreadystatechange=a.noop;delete aG[a9]}if(bd){if(ba.readyState!==4){ba.abort()}}else{var bc=ba.status,bj,bg=ba.getAllResponseHeaders(),bh={},be=ba.responseXML;if(be&&be.documentElement){bh.xml=be}bh.text=ba.responseText;try{bj=ba.statusText}catch(bi){bj=""}bc=bc===0?(!a5.crossDomain||bj?(bg?304:0):302):(bc==1223?204:bc);a7(bc,bj,bh,bg)}}};if(!a5.async||ba.readyState===4){a6()}else{a9=v++;aG[a9]=ba;ba.onreadystatechange=a6}},abort:function(){if(a6){a6(0,1)}}}}})}var K={},ai=/^(?:toggle|show|hide)$/,av=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,aK,ao=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]];a.fn.extend({show:function(a8,bb,ba){var a7,a9;if(a8||a8===0){return this.animate(aI("show",3),a8,bb,ba)}else{for(var a6=0,a5=this.length;a6<a5;a6++){a7=this[a6];a9=a7.style.display;if(!a._data(a7,"olddisplay")&&a9==="none"){a9=a7.style.display=""}if(a9===""&&a.css(a7,"display")==="none"){a._data(a7,"olddisplay",u(a7.nodeName))}}for(a6=0;a6<a5;a6++){a7=this[a6];a9=a7.style.display;if(a9===""||a9==="none"){a7.style.display=a._data(a7,"olddisplay")||""}}return this}},hide:function(a7,ba,a9){if(a7||a7===0){return this.animate(aI("hide",3),a7,ba,a9)}else{for(var a6=0,a5=this.length;a6<a5;a6++){var a8=a.css(this[a6],"display");if(a8!=="none"&&!a._data(this[a6],"olddisplay")){a._data(this[a6],"olddisplay",a8)}}for(a6=0;a6<a5;a6++){this[a6].style.display="none"}return this}},_toggle:a.fn.toggle,toggle:function(a7,a6,a8){var a5=typeof a7==="boolean";if(a.isFunction(a7)&&a.isFunction(a6)){this._toggle.apply(this,arguments)}else{if(a7==null||a5){this.each(function(){var a9=a5?a7:a(this).is(":hidden");a(this)[a9?"show":"hide"]()})}else{this.animate(aI("toggle",3),a7,a6,a8)}}return this},fadeTo:function(a5,a8,a7,a6){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:a8},a5,a7,a6)},animate:function(a9,a6,a8,a7){var a5=a.speed(a6,a8,a7);if(a.isEmptyObject(a9)){return this.each(a5.complete)}return this[a5.queue===false?"each":"queue"](function(){var bc=a.extend({},a5),bg,bd=this.nodeType===1,be=bd&&a(this).is(":hidden"),ba=this;for(bg in a9){var bb=a.camelCase(bg);if(bg!==bb){a9[bb]=a9[bg];delete a9[bg];bg=bb}if(a9[bg]==="hide"&&be||a9[bg]==="show"&&!be){return bc.complete.call(this)}if(bd&&(bg==="height"||bg==="width")){bc.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY];if(a.css(this,"display")==="inline"&&a.css(this,"float")==="none"){if(!a.support.inlineBlockNeedsLayout){this.style.display="inline-block"}else{var bf=u(this.nodeName);if(bf==="inline"){this.style.display="inline-block"}else{this.style.display="inline";this.style.zoom=1}}}}if(a.isArray(a9[bg])){(bc.specialEasing=bc.specialEasing||{})[bg]=a9[bg][1];a9[bg]=a9[bg][0]}}if(bc.overflow!=null){this.style.overflow="hidden"}bc.curAnim=a.extend({},a9);a.each(a9,function(bi,bm){var bl=new a.fx(ba,bc,bi);if(ai.test(bm)){bl[bm==="toggle"?be?"show":"hide":bm](a9)}else{var bk=av.exec(bm),bn=bl.cur()||0;if(bk){var bh=parseFloat(bk[2]),bj=bk[3]||"px";if(bj!=="px"){a.style(ba,bi,(bh||1)+bj);bn=((bh||1)/bl.cur())*bn;a.style(ba,bi,bn+bj)}if(bk[1]){bh=((bk[1]==="-="?-1:1)*bh)+bn}bl.custom(bn,bh,bj)}else{bl.custom(bn,bm,"")}}});return true})},stop:function(a6,a5){var a7=a.timers;if(a6){this.queue([])}this.each(function(){for(var a8=a7.length-1;a8>=0;a8--){if(a7[a8].elem===this){if(a5){a7[a8](true)}a7.splice(a8,1)}}});if(!a5){this.dequeue()}return this}});function aI(a6,a5){var a7={};a.each(ao.concat.apply([],ao.slice(0,a5)),function(){a7[this]=a6});return a7}a.each({slideDown:aI("show",1),slideUp:aI("hide",1),slideToggle:aI("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a5,a6){a.fn[a5]=function(a7,a9,a8){return this.animate(a6,a7,a9,a8)}});a.extend({speed:function(a7,a8,a6){var a5=a7&&typeof a7==="object"?a.extend({},a7):{complete:a6||!a6&&a8||a.isFunction(a7)&&a7,duration:a7,easing:a6&&a8||a8&&!a.isFunction(a8)&&a8};a5.duration=a.fx.off?0:typeof a5.duration==="number"?a5.duration:a5.duration in a.fx.speeds?a.fx.speeds[a5.duration]:a.fx.speeds._default;a5.old=a5.complete;a5.complete=function(){if(a5.queue!==false){a(this).dequeue()}if(a.isFunction(a5.old)){a5.old.call(this)}};return a5},easing:{linear:function(a7,a8,a5,a6){return a5+a6*a7},swing:function(a7,a8,a5,a6){return((-Math.cos(a7*Math.PI)/2)+0.5)*a6+a5}},timers:[],fx:function(a6,a5,a7){this.options=a5;this.elem=a6;this.prop=a7;if(!a5.orig){a5.orig={}}}});a.fx.prototype={update:function(){if(this.options.step){this.options.step.call(this.elem,this.now,this)}(a.fx.step[this.prop]||a.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null)){return this.elem[this.prop]}var a5=parseFloat(a.css(this.elem,this.prop));return a5||0},custom:function(ba,a9,a8){var a5=this,a7=a.fx;this.startTime=a.now();this.start=ba;this.end=a9;this.unit=a8||this.unit||"px";this.now=this.start;this.pos=this.state=0;function a6(bb){return a5.step(bb)}a6.elem=this.elem;if(a6()&&a.timers.push(a6)&&!aK){aK=setInterval(a7.tick,a7.interval)}},show:function(){this.options.orig[this.prop]=a.style(this.elem,this.prop);this.options.show=true;this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur());a(this.elem).show()},hide:function(){this.options.orig[this.prop]=a.style(this.elem,this.prop);this.options.hide=true;this.custom(this.cur(),0)},step:function(a8){var bd=a.now(),a9=true;if(a8||bd>=this.options.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();this.options.curAnim[this.prop]=true;for(var ba in this.options.curAnim){if(this.options.curAnim[ba]!==true){a9=false}}if(a9){if(this.options.overflow!=null&&!a.support.shrinkWrapBlocks){var a7=this.elem,be=this.options;a.each(["","X","Y"],function(bf,bg){a7.style["overflow"+bg]=be.overflow[bf]})}if(this.options.hide){a(this.elem).hide()}if(this.options.hide||this.options.show){for(var a5 in this.options.curAnim){a.style(this.elem,a5,this.options.orig[a5])}}this.options.complete.call(this.elem)}return false}else{var a6=bd-this.startTime;this.state=a6/this.options.duration;var bb=this.options.specialEasing&&this.options.specialEasing[this.prop];var bc=this.options.easing||(a.easing.swing?"swing":"linear");this.pos=a.easing[bb||bc](this.state,a6,0,1,this.options.duration);this.now=this.start+((this.end-this.start)*this.pos);this.update()}return true}};a.extend(a.fx,{tick:function(){var a6=a.timers;for(var a5=0;a5<a6.length;a5++){if(!a6[a5]()){a6.splice(a5--,1)}}if(!a6.length){a.fx.stop()}},interval:13,stop:function(){clearInterval(aK);aK=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(a5){a.style(a5.elem,"opacity",a5.now)},_default:function(a5){if(a5.elem.style&&a5.elem.style[a5.prop]!=null){a5.elem.style[a5.prop]=(a5.prop==="width"||a5.prop==="height"?Math.max(0,a5.now):a5.now)+a5.unit}else{a5.elem[a5.prop]=a5.now}}}});if(a.expr&&a.expr.filters){a.expr.filters.animated=function(a5){return a.grep(a.timers,function(a6){return a5===a6.elem}).length}}function u(a7){if(!K[a7]){var a5=a("<"+a7+">").appendTo("body"),a6=a5.css("display");a5.remove();if(a6==="none"||a6===""){a6="block"}K[a7]=a6}return K[a7]}var N=/^t(?:able|d|h)$/i,T=/^(?:body|html)$/i;if("getBoundingClientRect" in af.documentElement){a.fn.offset=function(bi){var a8=this[0],bb;if(bi){return this.each(function(bj){a.offset.setOffset(this,bi,bj)})}if(!a8||!a8.ownerDocument){return null}if(a8===a8.ownerDocument.body){return a.offset.bodyOffset(a8)}try{bb=a8.getBoundingClientRect()}catch(bf){}var bh=a8.ownerDocument,a6=bh.documentElement;if(!bb||!a.contains(a6,a8)){return bb?{top:bb.top,left:bb.left}:{top:0,left:0}}var bc=bh.body,bd=aq(bh),ba=a6.clientTop||bc.clientTop||0,be=a6.clientLeft||bc.clientLeft||0,a5=(bd.pageYOffset||a.support.boxModel&&a6.scrollTop||bc.scrollTop),a9=(bd.pageXOffset||a.support.boxModel&&a6.scrollLeft||bc.scrollLeft),bg=bb.top+a5-ba,a7=bb.left+a9-be;return{top:bg,left:a7}}}else{a.fn.offset=function(bg){var ba=this[0];if(bg){return this.each(function(bh){a.offset.setOffset(this,bg,bh)})}if(!ba||!ba.ownerDocument){return null}if(ba===ba.ownerDocument.body){return a.offset.bodyOffset(ba)}a.offset.initialize();var bd,a7=ba.offsetParent,a6=ba,bf=ba.ownerDocument,a8=bf.documentElement,bb=bf.body,bc=bf.defaultView,a5=bc?bc.getComputedStyle(ba,null):ba.currentStyle,be=ba.offsetTop,a9=ba.offsetLeft;while((ba=ba.parentNode)&&ba!==bb&&ba!==a8){if(a.offset.supportsFixedPosition&&a5.position==="fixed"){break}bd=bc?bc.getComputedStyle(ba,null):ba.currentStyle;be-=ba.scrollTop;a9-=ba.scrollLeft;if(ba===a7){be+=ba.offsetTop;a9+=ba.offsetLeft;if(a.offset.doesNotAddBorder&&!(a.offset.doesAddBorderForTableAndCells&&N.test(ba.nodeName))){be+=parseFloat(bd.borderTopWidth)||0;a9+=parseFloat(bd.borderLeftWidth)||0}a6=a7;a7=ba.offsetParent}if(a.offset.subtractsBorderForOverflowNotVisible&&bd.overflow!=="visible"){be+=parseFloat(bd.borderTopWidth)||0;a9+=parseFloat(bd.borderLeftWidth)||0}a5=bd}if(a5.position==="relative"||a5.position==="static"){be+=bb.offsetTop;a9+=bb.offsetLeft}if(a.offset.supportsFixedPosition&&a5.position==="fixed"){be+=Math.max(a8.scrollTop,bb.scrollTop);a9+=Math.max(a8.scrollLeft,bb.scrollLeft)}return{top:be,left:a9}}}a.offset={initialize:function(){var a5=af.body,a6=af.createElement("div"),a9,bb,ba,bc,a7=parseFloat(a.css(a5,"marginTop"))||0,a8="<div style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;'><div></div></div><table style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";a.extend(a6.style,{position:"absolute",top:0,left:0,margin:0,border:0,width:"1px",height:"1px",visibility:"hidden"});a6.innerHTML=a8;a5.insertBefore(a6,a5.firstChild);a9=a6.firstChild;bb=a9.firstChild;bc=a9.nextSibling.firstChild.firstChild;this.doesNotAddBorder=(bb.offsetTop!==5);this.doesAddBorderForTableAndCells=(bc.offsetTop===5);bb.style.position="fixed";bb.style.top="20px";this.supportsFixedPosition=(bb.offsetTop===20||bb.offsetTop===15);bb.style.position=bb.style.top="";a9.style.overflow="hidden";a9.style.position="relative";this.subtractsBorderForOverflowNotVisible=(bb.offsetTop===-5);this.doesNotIncludeMarginInBodyOffset=(a5.offsetTop!==a7);a5.removeChild(a6);a5=a6=a9=bb=ba=bc=null;a.offset.initialize=a.noop},bodyOffset:function(a5){var a7=a5.offsetTop,a6=a5.offsetLeft;a.offset.initialize();if(a.offset.doesNotIncludeMarginInBodyOffset){a7+=parseFloat(a.css(a5,"marginTop"))||0;a6+=parseFloat(a.css(a5,"marginLeft"))||0}return{top:a7,left:a6}},setOffset:function(a8,bh,bb){var bc=a.css(a8,"position");if(bc==="static"){a8.style.position="relative"}var ba=a(a8),a6=ba.offset(),a5=a.css(a8,"top"),bf=a.css(a8,"left"),bg=(bc==="absolute"&&a.inArray("auto",[a5,bf])>-1),be={},bd={},a7,a9;if(bg){bd=ba.position()}a7=bg?bd.top:parseInt(a5,10)||0;a9=bg?bd.left:parseInt(bf,10)||0;if(a.isFunction(bh)){bh=bh.call(a8,bb,a6)}if(bh.top!=null){be.top=(bh.top-a6.top)+a7}if(bh.left!=null){be.left=(bh.left-a6.left)+a9}if("using" in bh){bh.using.call(a8,be)}else{ba.css(be)}}};a.fn.extend({position:function(){if(!this[0]){return null}var a7=this[0],a6=this.offsetParent(),a8=this.offset(),a5=T.test(a6[0].nodeName)?{top:0,left:0}:a6.offset();a8.top-=parseFloat(a.css(a7,"marginTop"))||0;a8.left-=parseFloat(a.css(a7,"marginLeft"))||0;a5.top+=parseFloat(a.css(a6[0],"borderTopWidth"))||0;a5.left+=parseFloat(a.css(a6[0],"borderLeftWidth"))||0;return{top:a8.top-a5.top,left:a8.left-a5.left}},offsetParent:function(){return this.map(function(){var a5=this.offsetParent||af.body;while(a5&&(!T.test(a5.nodeName)&&a.css(a5,"position")==="static")){a5=a5.offsetParent}return a5})}});a.each(["Left","Top"],function(a6,a5){var a7="scroll"+a5;a.fn[a7]=function(ba){var a8=this[0],a9;if(!a8){return null}if(ba!==F){return this.each(function(){a9=aq(this);if(a9){a9.scrollTo(!a6?ba:a(a9).scrollLeft(),a6?ba:a(a9).scrollTop())}else{this[a7]=ba}})}else{a9=aq(a8);return a9?("pageXOffset" in a9)?a9[a6?"pageYOffset":"pageXOffset"]:a.support.boxModel&&a9.document.documentElement[a7]||a9.document.body[a7]:a8[a7]}}});function aq(a5){return a.isWindow(a5)?a5:a5.nodeType===9?a5.defaultView||a5.parentWindow:false}a.each(["Height","Width"],function(a6,a5){var a7=a5.toLowerCase();a.fn["inner"+a5]=function(){return this[0]?parseFloat(a.css(this[0],a7,"padding")):null};a.fn["outer"+a5]=function(a8){return this[0]?parseFloat(a.css(this[0],a7,a8?"margin":"border")):null};a.fn[a7]=function(a9){var ba=this[0];if(!ba){return a9==null?null:this}if(a.isFunction(a9)){return this.each(function(be){var bd=a(this);bd[a7](a9.call(this,be,bd[a7]()))})}if(a.isWindow(ba)){var bb=ba.document.documentElement["client"+a5];return ba.document.compatMode==="CSS1Compat"&&bb||ba.document.body["client"+a5]||bb}else{if(ba.nodeType===9){return Math.max(ba.documentElement["client"+a5],ba.body["scroll"+a5],ba.documentElement["scroll"+a5],ba.body["offset"+a5],ba.documentElement["offset"+a5])}else{if(a9===F){var bc=a.css(ba,a7),a8=parseFloat(bc);return a.isNaN(a8)?bc:a8}else{return this.css(a7,typeof a9==="string"?a9:a9+"px")}}}}})})(window);(function(a){a.fn.autoResize=function(b){var c=a.extend({onResize:function(){},animate:true,animateDuration:150,animateCallback:function(){},extraSpace:20,limit:1000},b);this.filter("textarea").each(function(){var e=a(this).css({resize:"none","overflow-y":"hidden"}),g=e.height(),h=(function(){var i=["height","width","lineHeight","textDecoration","letterSpacing"],j={};a.each(i,function(k,l){j[l]=e.css(l)});return e.clone().removeAttr("id").removeAttr("name").css({position:"absolute",top:0,left:-9999}).css(j).attr("tabIndex","-1").insertAfter("body")})(),f=null,d=function(){h.height(0).val(a(this).val()).scrollTop(10000);var j=Math.max(h.scrollTop(),(c.origHeight?c.origHeight:g))+c.extraSpace,i=a(this).add(h);if(f===j){return}f=j;if(j>=c.limit){a(this).css("overflow-y","");return}c.onResize.call(this);c.animate&&e.css("display")==="block"?i.stop().animate({height:j},c.animateDuration,c.animateCallback):i.height(j)};remove=function(){h.remove()};e.unbind(".dynSiz").bind("keyup.dynSiz",d).bind("keydown.dynSiz",d).bind("change.dynSiz",d).bind("blur",remove)});return this}})(jQuery);(function(){var k;if(typeof exports!=="undefined"){k=exports}else{k=this.Backbone={}}k.VERSION="0.3.3";var m=this._;if(!m&&(typeof require!=="undefined")){m=require("underscore")._}var e=this.jQuery||this.Zepto;k.emulateHTTP=false;k.emulateJSON=false;k.Events={bind:function(r,t){var q=this._callbacks||(this._callbacks={});var s=this._callbacks[r]||(this._callbacks[r]=[]);s.push(t);return this},unbind:function(t,v){var s;if(!t){this._callbacks={}}else{if(s=this._callbacks){if(!v){s[t]=[]}else{var u=s[t];if(!u){return this}for(var r=0,q=u.length;r<q;r++){if(v===u[r]){u.splice(r,1);break}}}}}return this},trigger:function(t){var u,s,r,q;if(!(s=this._callbacks)){return this}if(u=s[t]){for(r=0,q=u.length;r<q;r++){u[r].apply(this,Array.prototype.slice.call(arguments,1))}}if(u=s.all){for(r=0,q=u.length;r<q;r++){u[r].apply(this,arguments)}}return this}};k.Model=function(q,r){q||(q={});if(this.defaults){q=m.extend({},this.defaults,q)}this.attributes={};this._escapedAttributes={};this.cid=m.uniqueId("c");this.set(q,{silent:true});this._previousAttributes=m.clone(this.attributes);if(r&&r.collection){this.collection=r.collection}this.initialize(q,r)};m.extend(k.Model.prototype,k.Events,{_previousAttributes:null,_changed:false,initialize:function(){},toJSON:function(){return m.clone(this.attributes)},get:function(q){return this.attributes[q]},escape:function(q){var r;if(r=this._escapedAttributes[q]){return r}var s=this.attributes[q];return this._escapedAttributes[q]=o(s==null?"":s)},set:function(t,s){s||(s={});if(!t){return this}if(t.attributes){t=t.attributes}var r=this.attributes,u=this._escapedAttributes;if(!s.silent&&this.validate&&!this._performValidation(t,s)){return false}if("id" in t){this.id=t.id}for(var q in t){var v=t[q];if(!m.isEqual(r[q],v)){r[q]=v;delete u[q];if(!s.silent){this._changed=true;this.trigger("change:"+q,this,v,s)}}}if(!s.silent&&this._changed){this.change(s)}return this},unset:function(q,r){r||(r={});var t=this.attributes[q];var s={};s[q]=void 0;if(!r.silent&&this.validate&&!this._performValidation(s,r)){return false}delete this.attributes[q];delete this._escapedAttributes[q];if(!r.silent){this._changed=true;this.trigger("change:"+q,this,void 0,r);this.change(r)}return this},clear:function(r){r||(r={});var q=this.attributes;var s={};for(attr in q){s[attr]=void 0}if(!r.silent&&this.validate&&!this._performValidation(s,r)){return false}this.attributes={};this._escapedAttributes={};if(!r.silent){this._changed=true;for(attr in q){this.trigger("change:"+attr,this,void 0,r)}this.change(r)}return this},fetch:function(s){s||(s={});var r=this;var t=function(u){if(!r.set(r.parse(u),s)){return false}if(s.success){s.success(r,u)}};var q=d(s.error,r,s);(this.sync||k.sync)("read",this,t,q);return this},save:function(t,s){s||(s={});if(t&&!this.set(t,s)){return false}var r=this;var u=function(w){if(!r.set(r.parse(w),s)){return false}if(s.success){s.success(r,w)}};var q=d(s.error,r,s);var v=this.isNew()?"create":"update";(this.sync||k.sync)(v,this,u,q);return this},destroy:function(s){s||(s={});var r=this;var t=function(u){if(r.collection){r.collection.remove(r)}if(s.success){s.success(r,u)}};var q=d(s.error,r,s);(this.sync||k.sync)("delete",this,t,q);return this},url:function(){var q=h(this.collection);if(this.isNew()){return q}return q+(q.charAt(q.length-1)=="/"?"":"/")+this.id},parse:function(q){return q},clone:function(){return new this.constructor(this)},isNew:function(){return !this.id},change:function(q){this.trigger("change",this,q);this._previousAttributes=m.clone(this.attributes);this._changed=false},hasChanged:function(q){if(q){return this._previousAttributes[q]!=this.attributes[q]}return this._changed},changedAttributes:function(s){s||(s=this.attributes);var r=this._previousAttributes;var t=false;for(var q in s){if(!m.isEqual(r[q],s[q])){t=t||{};t[q]=s[q]}}return t},previous:function(q){if(!q||!this._previousAttributes){return null}return this._previousAttributes[q]},previousAttributes:function(){return m.clone(this._previousAttributes)},_performValidation:function(s,r){var q=this.validate(s);if(q){if(r.error){r.error(this,q)}else{this.trigger("error",this,q,r)}return false}return true}});k.Collection=function(r,q){q||(q={});if(q.comparator){this.comparator=q.comparator;delete q.comparator}this._boundOnModelEvent=m.bind(this._onModelEvent,this);this._reset();if(r){this.refresh(r,{silent:true})}this.initialize(r,q)};m.extend(k.Collection.prototype,k.Events,{model:k.Model,initialize:function(){},toJSON:function(){return this.map(function(q){return q.toJSON()})},add:function(t,r){if(m.isArray(t)){for(var s=0,q=t.length;s<q;s++){this._add(t[s],r)}}else{this._add(t,r)}return this},remove:function(t,r){if(m.isArray(t)){for(var s=0,q=t.length;s<q;s++){this._remove(t[s],r)}}else{this._remove(t,r)}return this},get:function(q){if(q==null){return null}return this._byId[q.id!=null?q.id:q]},getByCid:function(q){return q&&this._byCid[q.cid||q]},at:function(q){return this.models[q]},sort:function(q){q||(q={});if(!this.comparator){throw new Error("Cannot sort a set without a comparator")}this.models=this.sortBy(this.comparator);if(!q.silent){this.trigger("refresh",this,q)}return this},pluck:function(q){return m.map(this.models,function(r){return r.get(q)})},refresh:function(r,q){r||(r=[]);q||(q={});this._reset();this.add(r,{silent:true});if(!q.silent){this.trigger("refresh",this,q)}return this},fetch:function(r){r||(r={});var t=this;var s=function(u){t.refresh(t.parse(u));if(r.success){r.success(t,u)}};var q=d(r.error,t,r);(this.sync||k.sync)("read",this,s,q);return this},create:function(r,q){var s=this;q||(q={});if(!(r instanceof k.Model)){r=new this.model(r,{collection:s})}else{r.collection=s}var t=function(u,v){s.add(u);if(q.success){q.success(u,v)}};return r.save(null,{success:t,error:q.error})},parse:function(q){return q},chain:function(){return m(this.models).chain()},_reset:function(q){this.length=0;this.models=[];this._byId={};this._byCid={}},_add:function(s,r){r||(r={});if(!(s instanceof k.Model)){s=new this.model(s,{collection:this})}var t=this.getByCid(s);if(t){throw new Error(["Can't add the same model to a set twice",t.id])}this._byId[s.id]=s;this._byCid[s.cid]=s;s.collection=this;var q=this.comparator?this.sortedIndex(s,this.comparator):this.length;this.models.splice(q,0,s);s.bind("all",this._boundOnModelEvent);this.length++;if(!r.silent){s.trigger("add",s,this,r)}return s},_remove:function(r,q){q||(q={});r=this.getByCid(r)||this.get(r);if(!r){return null}delete this._byId[r.id];delete this._byCid[r.cid];delete r.collection;this.models.splice(this.indexOf(r),1);this.length--;if(!q.silent){r.trigger("remove",r,this,q)}r.unbind("all",this._boundOnModelEvent);return r},_onModelEvent:function(r,q){if(r==="change:id"){delete this._byId[q.previous("id")];this._byId[q.id]=q}this.trigger.apply(this,arguments)}});var c=["forEach","each","map","reduce","reduceRight","find","detect","filter","select","reject","every","all","some","any","include","invoke","max","min","sortBy","sortedIndex","toArray","size","first","rest","last","without","indexOf","lastIndexOf","isEmpty"];m.each(c,function(q){k.Collection.prototype[q]=function(){return m[q].apply(m,[this.models].concat(m.toArray(arguments)))}});k.Controller=function(q){q||(q={});if(q.routes){this.routes=q.routes}this._bindRoutes();this.initialize(q)};var p=/:([\w\d]+)/g;var f=/\*([\w\d]+)/g;m.extend(k.Controller.prototype,k.Events,{initialize:function(){},route:function(q,r,s){k.history||(k.history=new k.History);if(!m.isRegExp(q)){q=this._routeToRegExp(q)}k.history.route(q,m.bind(function(u){var t=this._extractParameters(q,u);s.apply(this,t);this.trigger.apply(this,["route:"+r].concat(t))},this))},saveLocation:function(q){k.history.saveLocation(q)},_bindRoutes:function(){if(!this.routes){return}for(var q in this.routes){var r=this.routes[q];this.route(q,r,this[r])}},_routeToRegExp:function(q){q=q.replace(p,"([^/]*)").replace(f,"(.*?)");return new RegExp("^"+q+"$")},_extractParameters:function(q,r){return q.exec(r).slice(1)}});k.History=function(){this.handlers=[];this.fragment=this.getFragment();m.bindAll(this,"checkUrl")};var l=/^#*/;m.extend(k.History.prototype,{interval:50,getFragment:function(q){return(q||window.location).hash.replace(l,"")},start:function(){var q=document.documentMode;var r=(e.browser.msie&&(!q||q<=7));if(r){this.iframe=e('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow}if("onhashchange" in window&&!r){e(window).bind("hashchange",this.checkUrl)}else{setInterval(this.checkUrl,this.interval)}return this.loadUrl()},route:function(q,r){this.handlers.push({route:q,callback:r})},checkUrl:function(){var q=this.getFragment();if(q==this.fragment&&this.iframe){q=this.getFragment(this.iframe.location)}if(q==this.fragment||q==decodeURIComponent(this.fragment)){return false}if(this.iframe){window.location.hash=this.iframe.location.hash=q}this.loadUrl()},loadUrl:function(){var r=this.fragment=this.getFragment();var q=m.any(this.handlers,function(s){if(s.route.test(r)){s.callback(r);return true}});return q},saveLocation:function(q){q=(q||"").replace(l,"");if(this.fragment==q){return}window.location.hash=this.fragment=q;if(this.iframe&&(q!=this.getFragment(this.iframe.location))){this.iframe.document.open().close();this.iframe.location.hash=q}}});k.View=function(q){this._configure(q||{});this._ensureElement();this.delegateEvents();this.initialize(q)};var a=function(q){return e(q,this.el)};var n=/^(\w+)\s*(.*)$/;m.extend(k.View.prototype,k.Events,{tagName:"div",$:a,initialize:function(){},render:function(){return this},remove:function(){e(this.el).remove();return this},make:function(r,q,t){var s=document.createElement(r);if(q){e(s).attr(q)}if(t){e(s).html(t)}return s},delegateEvents:function(v){if(!(v||(v=this.events))){return}e(this.el).unbind();for(var u in v){var s=v[u];var t=u.match(n);var r=t[1],q=t[2];var w=m.bind(this[s],this);if(q===""){e(this.el).bind(r,w)}else{e(this.el).delegate(q,r,w)}}},_configure:function(q){if(this.options){q=m.extend({},this.options,q)}if(q.model){this.model=q.model}if(q.collection){this.collection=q.collection}if(q.el){this.el=q.el}if(q.id){this.id=q.id}if(q.className){this.className=q.className}if(q.tagName){this.tagName=q.tagName}this.options=q},_ensureElement:function(){if(this.el){return}var q={};if(this.id){q.id=this.id}if(this.className){q["class"]=this.className}this.el=this.make(this.tagName,q)}});var g=function(q,r){var s=i(this,q,r);s.extend=g;return s};k.Model.extend=k.Collection.extend=k.Controller.extend=k.View.extend=g;var b={create:"POST",update:"PUT","delete":"DELETE",read:"GET"};k.sync=function(w,r,u,q){var s=b[w];var v=(w==="create"||w==="update")?JSON.stringify(r.toJSON()):null;var t={url:h(r),type:s,contentType:"application/json",data:v,dataType:"json",processData:false,success:u,error:q};if(k.emulateJSON){t.contentType="application/x-www-form-urlencoded";t.processData=true;t.data=v?{model:v}:{}}if(k.emulateHTTP){if(s==="PUT"||s==="DELETE"){if(k.emulateJSON){t.data._method=s}t.type="POST";t.beforeSend=function(y){y.setRequestHeader("X-HTTP-Method-Override",s)}}}e.ajax(t)};var j=function(){};var i=function(r,q,s){var t;if(q&&q.hasOwnProperty("constructor")){t=q.constructor}else{t=function(){return r.apply(this,arguments)}}j.prototype=r.prototype;t.prototype=new j();if(q){m.extend(t.prototype,q)}if(s){m.extend(t,s)}t.prototype.constructor=t;t.__super__=r.prototype;return t};var h=function(q){if(!(q&&q.url)){throw new Error("A 'url' property or function must be specified")}return m.isFunction(q.url)?q.url():q.url};var d=function(s,r,q){return function(t){if(s){s(r,t)}else{r.trigger("error",r,t,q)}}};var o=function(q){return q.replace(/&(?!\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}})();
/*!
 * jQuery UI 1.8.11
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI
 */
(function(d,b){function a(c){return !d(c).parents().andSelf().filter(function(){return d.curCSS(this,"visibility")==="hidden"||d.expr.filters.hidden(this)}).length}d.ui=d.ui||{};if(!d.ui.version){d.extend(d.ui,{version:"1.8.11",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}});d.fn.extend({_focus:d.fn.focus,focus:function(e,c){return typeof e==="number"?this.each(function(){var f=this;setTimeout(function(){d(f).focus();c&&c.call(f)},e)}):this._focus.apply(this,arguments)},scrollParent:function(){var c;c=d.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(d.curCSS(this,"position",1))&&/(auto|scroll)/.test(d.curCSS(this,"overflow",1)+d.curCSS(this,"overflow-y",1)+d.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(d.curCSS(this,"overflow",1)+d.curCSS(this,"overflow-y",1)+d.curCSS(this,"overflow-x",1))}).eq(0);return/fixed/.test(this.css("position"))||!c.length?d(document):c},zIndex:function(e){if(e!==b){return this.css("zIndex",e)}if(this.length){e=d(this[0]);for(var c;e.length&&e[0]!==document;){c=e.css("position");if(c==="absolute"||c==="relative"||c==="fixed"){c=parseInt(e.css("zIndex"),10);if(!isNaN(c)&&c!==0){return c}}e=e.parent()}}return 0},disableSelection:function(){return this.bind((d.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(c){c.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});d.each(["Width","Height"],function(f,c){function l(n,i,h,e){d.each(k,function(){i-=parseFloat(d.curCSS(n,"padding"+this,true))||0;if(h){i-=parseFloat(d.curCSS(n,"border"+this+"Width",true))||0}if(e){i-=parseFloat(d.curCSS(n,"margin"+this,true))||0}});return i}var k=c==="Width"?["Left","Right"]:["Top","Bottom"],j=c.toLowerCase(),g={innerWidth:d.fn.innerWidth,innerHeight:d.fn.innerHeight,outerWidth:d.fn.outerWidth,outerHeight:d.fn.outerHeight};d.fn["inner"+c]=function(e){if(e===b){return g["inner"+c].call(this)}return this.each(function(){d(this).css(j,l(this,e)+"px")})};d.fn["outer"+c]=function(h,e){if(typeof h!=="number"){return g["outer"+c].call(this,h)}return this.each(function(){d(this).css(j,l(this,h,true,e)+"px")})}});d.extend(d.expr[":"],{data:function(e,c,f){return !!d.data(e,f[3])},focusable:function(e){var c=e.nodeName.toLowerCase(),f=d.attr(e,"tabindex");if("area"===c){c=e.parentNode;f=c.name;if(!e.href||!f||c.nodeName.toLowerCase()!=="map"){return false}e=d("img[usemap=#"+f+"]")[0];return !!e&&a(e)}return(/input|select|textarea|button|object/.test(c)?!e.disabled:"a"==c?e.href||!isNaN(f):!isNaN(f))&&a(e)},tabbable:function(e){var c=d.attr(e,"tabindex");return(isNaN(c)||c>=0)&&d(e).is(":focusable")}});d(function(){var e=document.body,c=e.appendChild(c=document.createElement("div"));d.extend(c.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0});d.support.minHeight=c.offsetHeight===100;d.support.selectstart="onselectstart" in c;e.removeChild(c).style.display="none"});d.extend(d.ui,{plugin:{add:function(f,c,h){f=d.ui[f].prototype;for(var g in h){f.plugins[g]=f.plugins[g]||[];f.plugins[g].push([c,h[g]])}},call:function(f,c,h){if((c=f.plugins[c])&&f.element[0].parentNode){for(var g=0;g<c.length;g++){f.options[c[g][0]]&&c[g][1].apply(f.element,h)}}}},contains:function(e,c){return document.compareDocumentPosition?e.compareDocumentPosition(c)&16:e!==c&&e.contains(c)},hasScroll:function(e,c){if(d(e).css("overflow")==="hidden"){return false}c=c&&c==="left"?"scrollLeft":"scrollTop";var f=false;if(e[c]>0){return true}e[c]=1;f=e[c]>0;e[c]=0;return f},isOverAxis:function(e,c,f){return e>c&&e<c+f},isOver:function(f,c,l,k,j,g){return d.ui.isOverAxis(f,l,j)&&d.ui.isOverAxis(c,k,g)}})}})(jQuery);
/*!
 * jQuery UI Widget 1.8.11
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Widget
 */
(function(a,e){if(a.cleanData){var d=a.cleanData;a.cleanData=function(b){for(var g=0,f;(f=b[g])!=null;g++){a(f).triggerHandler("remove")}d(b)}}else{var c=a.fn.remove;a.fn.remove=function(b,f){return this.each(function(){if(!f){if(!b||a.filter(b,[this]).length){a("*",this).add([this]).each(function(){a(this).triggerHandler("remove")})}}return c.call(a(this),b,f)})}}a.widget=function(b,j,i){var h=b.split(".")[0],g;b=b.split(".")[1];g=h+"-"+b;if(!i){i=j;j=a.Widget}a.expr[":"][g]=function(f){return !!a.data(f,b)};a[h]=a[h]||{};a[h][b]=function(f,k){arguments.length&&this._createWidget(f,k)};j=new j;j.options=a.extend(true,{},j.options);a[h][b].prototype=a.extend(true,j,{namespace:h,widgetName:b,widgetEventPrefix:a[h][b].prototype.widgetEventPrefix||b,widgetBaseClass:g},i);a.widget.bridge(b,a[h][b])};a.widget.bridge=function(b,f){a.fn[b]=function(k){var j=typeof k==="string",i=Array.prototype.slice.call(arguments,1),g=this;k=!j&&i.length?a.extend.apply(null,[true,k].concat(i)):k;if(j&&k.charAt(0)==="_"){return g}j?this.each(function(){var l=a.data(this,b),h=l&&a.isFunction(l[k])?l[k].apply(l,i):l;if(h!==l&&h!==e){g=h;return false}}):this.each(function(){var h=a.data(this,b);h?h.option(k||{})._init():a.data(this,b,new f(k,this))});return g}};a.Widget=function(b,f){arguments.length&&this._createWidget(b,f)};a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:false},_createWidget:function(b,g){a.data(g,this.widgetName,this);this.element=a(g);this.options=a.extend(true,{},this.options,this._getCreateOptions(),b);var f=this;this.element.bind("remove."+this.widgetName,function(){f.destroy()});this._create();this._trigger("create");this._init()},_getCreateOptions:function(){return a.metadata&&a.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(b,g){var f=b;if(arguments.length===0){return a.extend({},this.options)}if(typeof b==="string"){if(g===e){return this.options[b]}f={};f[b]=g}this._setOptions(f);return this},_setOptions:function(b){var f=this;a.each(b,function(h,g){f._setOption(h,g)});return this},_setOption:function(b,f){this.options[b]=f;if(b==="disabled"){this.widget()[f?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",f)}return this},enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_trigger:function(b,j,i){var h=this.options[b];j=a.Event(j);j.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase();i=i||{};if(j.originalEvent){b=a.event.props.length;for(var g;b;){g=a.event.props[--b];j[g]=j.originalEvent[g]}}this.element.trigger(j,i);return !(a.isFunction(h)&&h.call(this.element[0],j,i)===false||j.isDefaultPrevented())}}})(jQuery);
/*!
 * jQuery UI Mouse 1.8.11
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Mouse
 *
 * Depends:
 *	jquery.ui.widget.js
 */
(function(a){a.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var b=this;this.element.bind("mousedown."+this.widgetName,function(d){return b._mouseDown(d)}).bind("click."+this.widgetName,function(d){if(true===a.data(d.target,b.widgetName+".preventClickEvent")){a.removeData(d.target,b.widgetName+".preventClickEvent");d.stopImmediatePropagation();return false}});this.started=false},_mouseDestroy:function(){this.element.unbind("."+this.widgetName)},_mouseDown:function(b){b.originalEvent=b.originalEvent||{};if(!b.originalEvent.mouseHandled){this._mouseStarted&&this._mouseUp(b);this._mouseDownEvent=b;var h=this,g=b.which==1,d=typeof this.options.cancel=="string"?a(b.target).parents().add(b.target).filter(this.options.cancel).length:false;if(!g||d||!this._mouseCapture(b)){return true}this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet){this._mouseDelayTimer=setTimeout(function(){h.mouseDelayMet=true},this.options.delay)}if(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)){this._mouseStarted=this._mouseStart(b)!==false;if(!this._mouseStarted){b.preventDefault();return true}}true===a.data(b.target,this.widgetName+".preventClickEvent")&&a.removeData(b.target,this.widgetName+".preventClickEvent");this._mouseMoveDelegate=function(c){return h._mouseMove(c)};this._mouseUpDelegate=function(c){return h._mouseUp(c)};a(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);b.preventDefault();return b.originalEvent.mouseHandled=true}},_mouseMove:function(b){if(a.browser.msie&&!(document.documentMode>=9)&&!b.button){return this._mouseUp(b)}if(this._mouseStarted){this._mouseDrag(b);return b.preventDefault()}if(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)){(this._mouseStarted=this._mouseStart(this._mouseDownEvent,b)!==false)?this._mouseDrag(b):this._mouseUp(b)}return !this._mouseStarted},_mouseUp:function(b){a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;b.target==this._mouseDownEvent.target&&a.data(b.target,this.widgetName+".preventClickEvent",true);this._mouseStop(b)}return false},_mouseDistanceMet:function(b){return Math.max(Math.abs(this._mouseDownEvent.pageX-b.pageX),Math.abs(this._mouseDownEvent.pageY-b.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return true}})})(jQuery);(function(f){f.ui=f.ui||{};var e=/left|center|right/,d=/top|center|bottom/,b=f.fn.position,a=f.fn.offset;f.fn.position=function(c){if(!c||!c.of){return b.apply(this,arguments)}c=f.extend({},c);var i=f(c.of),q=i[0],o=(c.collision||"flip").split(" "),p=c.offset?c.offset.split(" "):[0,0],n,l,m;if(q.nodeType===9){n=i.width();l=i.height();m={top:0,left:0}}else{if(q.setTimeout){n=i.width();l=i.height();m={top:i.scrollTop(),left:i.scrollLeft()}}else{if(q.preventDefault){c.at="left top";n=l=0;m={top:c.of.pageY,left:c.of.pageX}}else{n=i.outerWidth();l=i.outerHeight();m=i.offset()}}}f.each(["my","at"],function(){var g=(c[this]||"").split(" ");if(g.length===1){g=e.test(g[0])?g.concat(["center"]):d.test(g[0])?["center"].concat(g):["center","center"]}g[0]=e.test(g[0])?g[0]:"center";g[1]=d.test(g[1])?g[1]:"center";c[this]=g});if(o.length===1){o[1]=o[0]}p[0]=parseInt(p[0],10)||0;if(p.length===1){p[1]=p[0]}p[1]=parseInt(p[1],10)||0;if(c.at[0]==="right"){m.left+=n}else{if(c.at[0]==="center"){m.left+=n/2}}if(c.at[1]==="bottom"){m.top+=l}else{if(c.at[1]==="center"){m.top+=l/2}}m.left+=p[0];m.top+=p[1];return this.each(function(){var u=f(this),s=u.outerWidth(),k=u.outerHeight(),j=parseInt(f.curCSS(this,"marginLeft",true))||0,h=parseInt(f.curCSS(this,"marginTop",true))||0,z=s+j+(parseInt(f.curCSS(this,"marginRight",true))||0),y=k+h+(parseInt(f.curCSS(this,"marginBottom",true))||0),t=f.extend({},m),g;if(c.my[0]==="right"){t.left-=s}else{if(c.my[0]==="center"){t.left-=s/2}}if(c.my[1]==="bottom"){t.top-=k}else{if(c.my[1]==="center"){t.top-=k/2}}t.left=Math.round(t.left);t.top=Math.round(t.top);g={left:t.left-j,top:t.top-h};f.each(["left","top"],function(v,r){f.ui.position[o[v]]&&f.ui.position[o[v]][r](t,{targetWidth:n,targetHeight:l,elemWidth:s,elemHeight:k,collisionPosition:g,collisionWidth:z,collisionHeight:y,offset:p,my:c.my,at:c.at})});f.fn.bgiframe&&u.bgiframe();u.offset(f.extend(t,{using:c.using}))})};f.ui.position={fit:{left:function(c,g){var h=f(window);h=g.collisionPosition.left+g.collisionWidth-h.width()-h.scrollLeft();c.left=h>0?c.left-h:Math.max(c.left-g.collisionPosition.left,c.left)},top:function(c,g){var h=f(window);h=g.collisionPosition.top+g.collisionHeight-h.height()-h.scrollTop();c.top=h>0?c.top-h:Math.max(c.top-g.collisionPosition.top,c.top)}},flip:{left:function(c,i){if(i.at[0]!=="center"){var m=f(window);m=i.collisionPosition.left+i.collisionWidth-m.width()-m.scrollLeft();var k=i.my[0]==="left"?-i.elemWidth:i.my[0]==="right"?i.elemWidth:0,l=i.at[0]==="left"?i.targetWidth:-i.targetWidth,j=-2*i.offset[0];c.left+=i.collisionPosition.left<0?k+l+j:m>0?k+l+j:0}},top:function(c,i){if(i.at[1]!=="center"){var m=f(window);m=i.collisionPosition.top+i.collisionHeight-m.height()-m.scrollTop();var k=i.my[1]==="top"?-i.elemHeight:i.my[1]==="bottom"?i.elemHeight:0,l=i.at[1]==="top"?i.targetHeight:-i.targetHeight,j=-2*i.offset[1];c.top+=i.collisionPosition.top<0?k+l+j:m>0?k+l+j:0}}}};if(!f.offset.setOffset){f.offset.setOffset=function(c,i){if(/static/.test(f.curCSS(c,"position"))){c.style.position="relative"}var m=f(c),k=m.offset(),l=parseInt(f.curCSS(c,"top",true),10)||0,j=parseInt(f.curCSS(c,"left",true),10)||0;k={top:i.top-k.top+l,left:i.left-k.left+j};"using" in i?i.using.call(c,k):m.css(k)};f.fn.offset=function(c){var g=this[0];if(!g||!g.ownerDocument){return null}if(c){return this.each(function(){f.offset.setOffset(this,c)})}return a.call(this)}}})(jQuery);(function(a){a.widget("ui.sortable",a.ui.mouse,{widgetEventPrefix:"sort",options:{appendTo:"parent",axis:false,connectWith:false,containment:false,cursor:"auto",cursorAt:false,dropOnEmpty:true,forcePlaceholderSize:false,forceHelperSize:false,grid:false,handle:false,helper:"original",items:"> *",opacity:false,placeholder:false,revert:false,scroll:true,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1000},_create:function(){this.containerCache={};this.element.addClass("ui-sortable");this.refresh();this.floating=this.items.length?/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display")):false;this.offset=this.element.offset();this._mouseInit()},destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").removeData("sortable").unbind(".sortable");this._mouseDestroy();for(var b=this.items.length-1;b>=0;b--){this.items[b].item.removeData("sortable-item")}return this},_setOption:function(d,c){if(d==="disabled"){this.options[d]=c;this.widget()[c?"addClass":"removeClass"]("ui-sortable-disabled")}else{a.Widget.prototype._setOption.apply(this,arguments)}},_mouseCapture:function(g,d){if(this.reverting){return false}if(this.options.disabled||this.options.type=="static"){return false}this._refreshItems(g);var j=null,i=this;a(g.target).parents().each(function(){if(a.data(this,"sortable-item")==i){j=a(this);return false}});if(a.data(g.target,"sortable-item")==i){j=a(g.target)}if(!j){return false}if(this.options.handle&&!d){var h=false;a(this.options.handle,j).find("*").andSelf().each(function(){if(this==g.target){h=true}});if(!h){return false}}this.currentItem=j;this._removeCurrentsFromItems();return true},_mouseStart:function(f,d,h){d=this.options;var g=this;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(f);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");a.extend(this.offset,{click:{left:f.pageX-this.offset.left,top:f.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this._generatePosition(f);this.originalPageX=f.pageX;this.originalPageY=f.pageY;d.cursorAt&&this._adjustOffsetFromHelper(d.cursorAt);this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};this.helper[0]!=this.currentItem[0]&&this.currentItem.hide();this._createPlaceholder();d.containment&&this._setContainment();if(d.cursor){if(a("body").css("cursor")){this._storedCursor=a("body").css("cursor")}a("body").css("cursor",d.cursor)}if(d.opacity){if(this.helper.css("opacity")){this._storedOpacity=this.helper.css("opacity")}this.helper.css("opacity",d.opacity)}if(d.zIndex){if(this.helper.css("zIndex")){this._storedZIndex=this.helper.css("zIndex")}this.helper.css("zIndex",d.zIndex)}if(this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"){this.overflowOffset=this.scrollParent.offset()}this._trigger("start",f,this._uiHash());this._preserveHelperProportions||this._cacheHelperProportions();if(!h){for(h=this.containers.length-1;h>=0;h--){this.containers[h]._trigger("activate",f,g._uiHash(this))}}if(a.ui.ddmanager){a.ui.ddmanager.current=this}a.ui.ddmanager&&!d.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,f);this.dragging=true;this.helper.addClass("ui-sortable-helper");this._mouseDrag(f);return true},_mouseDrag:function(g){this.position=this._generatePosition(g);this.positionAbs=this._convertPositionTo("absolute");if(!this.lastPositionAbs){this.lastPositionAbs=this.positionAbs}if(this.options.scroll){var d=this.options,j=false;if(this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"){if(this.overflowOffset.top+this.scrollParent[0].offsetHeight-g.pageY<d.scrollSensitivity){this.scrollParent[0].scrollTop=j=this.scrollParent[0].scrollTop+d.scrollSpeed}else{if(g.pageY-this.overflowOffset.top<d.scrollSensitivity){this.scrollParent[0].scrollTop=j=this.scrollParent[0].scrollTop-d.scrollSpeed}}if(this.overflowOffset.left+this.scrollParent[0].offsetWidth-g.pageX<d.scrollSensitivity){this.scrollParent[0].scrollLeft=j=this.scrollParent[0].scrollLeft+d.scrollSpeed}else{if(g.pageX-this.overflowOffset.left<d.scrollSensitivity){this.scrollParent[0].scrollLeft=j=this.scrollParent[0].scrollLeft-d.scrollSpeed}}}else{if(g.pageY-a(document).scrollTop()<d.scrollSensitivity){j=a(document).scrollTop(a(document).scrollTop()-d.scrollSpeed)}else{if(a(window).height()-(g.pageY-a(document).scrollTop())<d.scrollSensitivity){j=a(document).scrollTop(a(document).scrollTop()+d.scrollSpeed)}}if(g.pageX-a(document).scrollLeft()<d.scrollSensitivity){j=a(document).scrollLeft(a(document).scrollLeft()-d.scrollSpeed)}else{if(a(window).width()-(g.pageX-a(document).scrollLeft())<d.scrollSensitivity){j=a(document).scrollLeft(a(document).scrollLeft()+d.scrollSpeed)}}}j!==false&&a.ui.ddmanager&&!d.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,g)}this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!="y"){this.helper[0].style.left=this.position.left+"px"}if(!this.options.axis||this.options.axis!="x"){this.helper[0].style.top=this.position.top+"px"}for(d=this.items.length-1;d>=0;d--){j=this.items[d];var i=j.item[0],h=this._intersectsWithPointer(j);if(h){if(i!=this.currentItem[0]&&this.placeholder[h==1?"next":"prev"]()[0]!=i&&!a.ui.contains(this.placeholder[0],i)&&(this.options.type=="semi-dynamic"?!a.ui.contains(this.element[0],i):true)){this.direction=h==1?"down":"up";if(this.options.tolerance=="pointer"||this._intersectsWithSides(j)){this._rearrange(g,j)}else{break}this._trigger("change",g,this._uiHash());break}}}this._contactContainers(g);a.ui.ddmanager&&a.ui.ddmanager.drag(this,g);this._trigger("sort",g,this._uiHash());this.lastPositionAbs=this.positionAbs;return false},_mouseStop:function(e,d){if(e){a.ui.ddmanager&&!this.options.dropBehaviour&&a.ui.ddmanager.drop(this,e);if(this.options.revert){var f=this;d=f.placeholder.offset();f.reverting=true;a(this.helper).animate({left:d.left-this.offset.parent.left-f.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:d.top-this.offset.parent.top-f.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){f._clear(e)})}else{this._clear(e,d)}return false}},cancel:function(){var d=this;if(this.dragging){this._mouseUp({target:null});this.options.helper=="original"?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var c=this.containers.length-1;c>=0;c--){this.containers[c]._trigger("deactivate",null,d._uiHash(this));if(this.containers[c].containerCache.over){this.containers[c]._trigger("out",null,d._uiHash(this));this.containers[c].containerCache.over=0}}}if(this.placeholder){this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]);this.options.helper!="original"&&this.helper&&this.helper[0].parentNode&&this.helper.remove();a.extend(this,{helper:null,dragging:false,reverting:false,_noFinalSort:null});this.domPosition.prev?a(this.domPosition.prev).after(this.currentItem):a(this.domPosition.parent).prepend(this.currentItem)}return this},serialize:function(e){var d=this._getItemsAsjQuery(e&&e.connected),f=[];e=e||{};a(d).each(function(){var b=(a(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[-=_](.+)/);if(b){f.push((e.key||b[1]+"[]")+"="+(e.key&&e.expression?b[1]:b[2]))}});!f.length&&e.key&&f.push(e.key+"=");return f.join("&")},toArray:function(e){var d=this._getItemsAsjQuery(e&&e.connected),f=[];e=e||{};d.each(function(){f.push(a(e.item||this).attr(e.attribute||"id")||"")});return f},_intersectsWith:function(v){var u=this.positionAbs.left,t=u+this.helperProportions.width,s=this.positionAbs.top,r=s+this.helperProportions.height,q=v.left,p=q+v.width,o=v.top,m=o+v.height,n=this.offset.click.top,d=this.offset.click.left;n=s+n>o&&s+n<m&&u+d>q&&u+d<p;return this.options.tolerance=="pointer"||this.options.forcePointerForContainers||this.options.tolerance!="pointer"&&this.helperProportions[this.floating?"width":"height"]>v[this.floating?"width":"height"]?n:q<u+this.helperProportions.width/2&&t-this.helperProportions.width/2<p&&o<s+this.helperProportions.height/2&&r-this.helperProportions.height/2<m},_intersectsWithPointer:function(e){var d=a.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height);e=a.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width);d=d&&e;e=this._getDragVerticalDirection();var f=this._getDragHorizontalDirection();if(!d){return false}return this.floating?f&&f=="right"||e=="down"?2:1:e&&(e=="down"?2:1)},_intersectsWithSides:function(f){var d=a.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,f.top+f.height/2,f.height);f=a.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,f.left+f.width/2,f.width);var h=this._getDragVerticalDirection(),g=this._getDragHorizontalDirection();return this.floating&&g?g=="right"&&f||g=="left"&&!f:h&&(h=="down"&&d||h=="up"&&!d)},_getDragVerticalDirection:function(){var b=this.positionAbs.top-this.lastPositionAbs.top;return b!=0&&(b>0?"down":"up")},_getDragHorizontalDirection:function(){var b=this.positionAbs.left-this.lastPositionAbs.left;return b!=0&&(b>0?"right":"left")},refresh:function(b){this._refreshItems(b);this.refreshPositions();return this},_connectWith:function(){var b=this.options;return b.connectWith.constructor==String?[b.connectWith]:b.connectWith},_getItemsAsjQuery:function(i){var d=[],n=[],m=this._connectWith();if(m&&i){for(i=m.length-1;i>=0;i--){for(var l=a(m[i]),k=l.length-1;k>=0;k--){var j=a.data(l[k],"sortable");if(j&&j!=this&&!j.options.disabled){n.push([a.isFunction(j.options.items)?j.options.items.call(j.element):a(j.options.items,j.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),j])}}}}n.push([a.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):a(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(i=n.length-1;i>=0;i--){n[i][0].each(function(){d.push(this)})}return a(d)},_removeCurrentsFromItems:function(){for(var e=this.currentItem.find(":data(sortable-item)"),d=0;d<this.items.length;d++){for(var f=0;f<e.length;f++){e[f]==this.items[d].item[0]&&this.items.splice(d,1)}}},_refreshItems:function(j){this.items=[];this.containers=[this];var d=this.items,p=[[a.isFunction(this.options.items)?this.options.items.call(this.element[0],j,{item:this.currentItem}):a(this.options.items,this.element),this]],o=this._connectWith();if(o){for(var n=o.length-1;n>=0;n--){for(var m=a(o[n]),l=m.length-1;l>=0;l--){var k=a.data(m[l],"sortable");if(k&&k!=this&&!k.options.disabled){p.push([a.isFunction(k.options.items)?k.options.items.call(k.element[0],j,{item:this.currentItem}):a(k.options.items,k.element),k]);this.containers.push(k)}}}}for(n=p.length-1;n>=0;n--){j=p[n][1];o=p[n][0];l=0;for(m=o.length;l<m;l++){k=a(o[l]);k.data("sortable-item",j);d.push({item:k,instance:j,width:0,height:0,left:0,top:0})}}},refreshPositions:function(f){if(this.offsetParent&&this.helper){this.offset.parent=this._getParentOffset()}for(var d=this.items.length-1;d>=0;d--){var h=this.items[d],g=this.options.toleranceElement?a(this.options.toleranceElement,h.item):h.item;if(!f){h.width=g.outerWidth();h.height=g.outerHeight()}g=g.offset();h.left=g.left;h.top=g.top}if(this.options.custom&&this.options.custom.refreshContainers){this.options.custom.refreshContainers.call(this)}else{for(d=this.containers.length-1;d>=0;d--){g=this.containers[d].element.offset();this.containers[d].containerCache.left=g.left;this.containers[d].containerCache.top=g.top;this.containers[d].containerCache.width=this.containers[d].element.outerWidth();this.containers[d].containerCache.height=this.containers[d].element.outerHeight()}}return this},_createPlaceholder:function(f){var d=f||this,h=d.options;if(!h.placeholder||h.placeholder.constructor==String){var g=h.placeholder;h.placeholder={element:function(){var b=a(document.createElement(d.currentItem[0].nodeName)).addClass(g||d.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];if(!g){b.style.visibility="hidden"}return b},update:function(c,b){if(!(g&&!h.forcePlaceholderSize)){b.height()||b.height(d.currentItem.innerHeight()-parseInt(d.currentItem.css("paddingTop")||0,10)-parseInt(d.currentItem.css("paddingBottom")||0,10));b.width()||b.width(d.currentItem.innerWidth()-parseInt(d.currentItem.css("paddingLeft")||0,10)-parseInt(d.currentItem.css("paddingRight")||0,10))}}}}d.placeholder=a(h.placeholder.element.call(d.element,d.currentItem));d.currentItem.after(d.placeholder);h.placeholder.update(d,d.placeholder)},_contactContainers:function(i){for(var d=null,n=null,m=this.containers.length-1;m>=0;m--){if(!a.ui.contains(this.currentItem[0],this.containers[m].element[0])){if(this._intersectsWith(this.containers[m].containerCache)){if(!(d&&a.ui.contains(this.containers[m].element[0],d.element[0]))){d=this.containers[m];n=m}}else{if(this.containers[m].containerCache.over){this.containers[m]._trigger("out",i,this._uiHash(this));this.containers[m].containerCache.over=0}}}}if(d){if(this.containers.length===1){this.containers[n]._trigger("over",i,this._uiHash(this));this.containers[n].containerCache.over=1}else{if(this.currentContainer!=this.containers[n]){d=10000;m=null;for(var l=this.positionAbs[this.containers[n].floating?"left":"top"],k=this.items.length-1;k>=0;k--){if(a.ui.contains(this.containers[n].element[0],this.items[k].item[0])){var j=this.items[k][this.containers[n].floating?"left":"top"];if(Math.abs(j-l)<d){d=Math.abs(j-l);m=this.items[k]}}}if(m||this.options.dropOnEmpty){this.currentContainer=this.containers[n];m?this._rearrange(i,m,null,true):this._rearrange(i,null,this.containers[n].element,true);this._trigger("change",i,this._uiHash());this.containers[n]._trigger("change",i,this._uiHash(this));this.options.placeholder.update(this.currentContainer,this.placeholder);this.containers[n]._trigger("over",i,this._uiHash(this));this.containers[n].containerCache.over=1}}}}},_createHelper:function(d){var c=this.options;d=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[d,this.currentItem])):c.helper=="clone"?this.currentItem.clone():this.currentItem;d.parents("body").length||a(c.appendTo!="parent"?c.appendTo:this.currentItem[0].parentNode)[0].appendChild(d[0]);if(d[0]==this.currentItem[0]){this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}}if(d[0].style.width==""||c.forceHelperSize){d.width(this.currentItem.width())}if(d[0].style.height==""||c.forceHelperSize){d.height(this.currentItem.height())}return d},_adjustOffsetFromHelper:function(b){if(typeof b=="string"){b=b.split(" ")}if(a.isArray(b)){b={left:+b[0],top:+b[1]||0}}if("left" in b){this.offset.click.left=b.left+this.margins.left}if("right" in b){this.offset.click.left=this.helperProportions.width-b.right+this.margins.left}if("top" in b){this.offset.click.top=b.top+this.margins.top}if("bottom" in b){this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top}},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();if(this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0])){b.left+=this.scrollParent.scrollLeft();b.top+=this.scrollParent.scrollTop()}if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&a.browser.msie){b={top:0,left:0}}return{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var b=this.currentItem.position();return{top:b.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:b.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else{return{top:0,left:0}}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e=this.options;if(e.containment=="parent"){e.containment=this.helper[0].parentNode}if(e.containment=="document"||e.containment=="window"){this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,a(e.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(a(e.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]}if(!/^(document|window|parent)$/.test(e.containment)){var d=a(e.containment)[0];e=a(e.containment).offset();var f=a(d).css("overflow")!="hidden";this.containment=[e.left+(parseInt(a(d).css("borderLeftWidth"),10)||0)+(parseInt(a(d).css("paddingLeft"),10)||0)-this.margins.left,e.top+(parseInt(a(d).css("borderTopWidth"),10)||0)+(parseInt(a(d).css("paddingTop"),10)||0)-this.margins.top,e.left+(f?Math.max(d.scrollWidth,d.offsetWidth):d.offsetWidth)-(parseInt(a(d).css("borderLeftWidth"),10)||0)-(parseInt(a(d).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,e.top+(f?Math.max(d.scrollHeight,d.offsetHeight):d.offsetHeight)-(parseInt(a(d).css("borderTopWidth"),10)||0)-(parseInt(a(d).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(f,d){if(!d){d=this.position}f=f=="absolute"?1:-1;var h=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,g=/(html|body)/i.test(h[0].tagName);return{top:d.top+this.offset.relative.top*f+this.offset.parent.top*f-(a.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():g?0:h.scrollTop())*f),left:d.left+this.offset.relative.left*f+this.offset.parent.left*f-(a.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():g?0:h.scrollLeft())*f)}},_generatePosition:function(h){var d=this.options,l=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,k=/(html|body)/i.test(l[0].tagName);if(this.cssPosition=="relative"&&!(this.scrollParent[0]!=document&&this.scrollParent[0]!=this.offsetParent[0])){this.offset.relative=this._getRelativeOffset()}var j=h.pageX,i=h.pageY;if(this.originalPosition){if(this.containment){if(h.pageX-this.offset.click.left<this.containment[0]){j=this.containment[0]+this.offset.click.left}if(h.pageY-this.offset.click.top<this.containment[1]){i=this.containment[1]+this.offset.click.top}if(h.pageX-this.offset.click.left>this.containment[2]){j=this.containment[2]+this.offset.click.left}if(h.pageY-this.offset.click.top>this.containment[3]){i=this.containment[3]+this.offset.click.top}}if(d.grid){i=this.originalPageY+Math.round((i-this.originalPageY)/d.grid[1])*d.grid[1];i=this.containment?!(i-this.offset.click.top<this.containment[1]||i-this.offset.click.top>this.containment[3])?i:!(i-this.offset.click.top<this.containment[1])?i-d.grid[1]:i+d.grid[1]:i;j=this.originalPageX+Math.round((j-this.originalPageX)/d.grid[0])*d.grid[0];j=this.containment?!(j-this.offset.click.left<this.containment[0]||j-this.offset.click.left>this.containment[2])?j:!(j-this.offset.click.left<this.containment[0])?j-d.grid[0]:j+d.grid[0]:j}}return{top:i-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(a.browser.safari&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():k?0:l.scrollTop()),left:j-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(a.browser.safari&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():k?0:l.scrollLeft())}},_rearrange:function(h,d,l,k){l?l[0].appendChild(this.placeholder[0]):d.item[0].parentNode.insertBefore(this.placeholder[0],this.direction=="down"?d.item[0]:d.item[0].nextSibling);this.counter=this.counter?++this.counter:1;var j=this,i=this.counter;window.setTimeout(function(){i==j.counter&&j.refreshPositions(!k)},0)},_clear:function(f,d){this.reverting=false;var h=[];!this._noFinalSort&&this.currentItem[0].parentNode&&this.placeholder.before(this.currentItem);this._noFinalSort=null;if(this.helper[0]==this.currentItem[0]){for(var g in this._storedCSS){if(this._storedCSS[g]=="auto"||this._storedCSS[g]=="static"){this._storedCSS[g]=""}}this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else{this.currentItem.show()}this.fromOutside&&!d&&h.push(function(b){this._trigger("receive",b,this._uiHash(this.fromOutside))});if((this.fromOutside||this.domPosition.prev!=this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!=this.currentItem.parent()[0])&&!d){h.push(function(b){this._trigger("update",b,this._uiHash())})}if(!a.ui.contains(this.element[0],this.currentItem[0])){d||h.push(function(b){this._trigger("remove",b,this._uiHash())});for(g=this.containers.length-1;g>=0;g--){if(a.ui.contains(this.containers[g].element[0],this.currentItem[0])&&!d){h.push(function(b){return function(c){b._trigger("receive",c,this._uiHash(this))}}.call(this,this.containers[g]));h.push(function(b){return function(c){b._trigger("update",c,this._uiHash(this))}}.call(this,this.containers[g]))}}}for(g=this.containers.length-1;g>=0;g--){d||h.push(function(b){return function(c){b._trigger("deactivate",c,this._uiHash(this))}}.call(this,this.containers[g]));if(this.containers[g].containerCache.over){h.push(function(b){return function(c){b._trigger("out",c,this._uiHash(this))}}.call(this,this.containers[g]));this.containers[g].containerCache.over=0}}this._storedCursor&&a("body").css("cursor",this._storedCursor);this._storedOpacity&&this.helper.css("opacity",this._storedOpacity);if(this._storedZIndex){this.helper.css("zIndex",this._storedZIndex=="auto"?"":this._storedZIndex)}this.dragging=false;if(this.cancelHelperRemoval){if(!d){this._trigger("beforeStop",f,this._uiHash());for(g=0;g<h.length;g++){h[g].call(this,f)}this._trigger("stop",f,this._uiHash())}return false}d||this._trigger("beforeStop",f,this._uiHash());this.placeholder[0].parentNode.removeChild(this.placeholder[0]);this.helper[0]!=this.currentItem[0]&&this.helper.remove();this.helper=null;if(!d){for(g=0;g<h.length;g++){h[g].call(this,f)}this._trigger("stop",f,this._uiHash())}this.fromOutside=false;return true},_trigger:function(){a.Widget.prototype._trigger.apply(this,arguments)===false&&this.cancel()},_uiHash:function(d){var c=d||this;return{helper:c.helper,placeholder:c.placeholder||a([]),position:c.position,originalPosition:c.originalPosition,offset:c.positionAbs,item:c.currentItem,sender:d?d.element:null}}});a.extend(a.ui.sortable,{version:"1.8.11"})})(jQuery);(function(b){var a=0;b.widget("ui.autocomplete",{options:{appendTo:"body",autoFocus:false,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null},pending:0,_create:function(){var d=this,c=this.element[0].ownerDocument,e;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off").attr({role:"textbox","aria-autocomplete":"list","aria-haspopup":"true"}).bind("keydown.autocomplete",function(h){if(!(d.options.disabled||d.element.attr("readonly"))){e=false;var g=b.ui.keyCode;switch(h.keyCode){case g.PAGE_UP:d._move("previousPage",h);break;case g.PAGE_DOWN:d._move("nextPage",h);break;case g.UP:d._move("previous",h);h.preventDefault();break;case g.DOWN:d._move("next",h);h.preventDefault();break;case g.ENTER:case g.NUMPAD_ENTER:if(d.menu.active){e=true;h.preventDefault()}case g.TAB:if(!d.menu.active){return}d.menu.select(h);break;case g.ESCAPE:d.element.val(d.term);d.close(h);break;default:clearTimeout(d.searching);d.searching=setTimeout(function(){if(d.term!=d.element.val()){d.selectedItem=null;d.search(null,h)}},d.options.delay);break}}}).bind("keypress.autocomplete",function(f){if(e){e=false;f.preventDefault()}}).bind("focus.autocomplete",function(){if(!d.options.disabled){d.selectedItem=null;d.previous=d.element.val()}}).bind("blur.autocomplete",function(f){if(!d.options.disabled){clearTimeout(d.searching);d.closing=setTimeout(function(){d.close(f);d._change(f)},150)}});this._initSource();this.response=function(){return d._response.apply(d,arguments)};this.menu=b("<ul></ul>").addClass("ui-autocomplete").appendTo(b(this.options.appendTo||"body",c)[0]).mousedown(function(h){var g=d.menu.element[0];b(h.target).closest(".ui-menu-item").length||setTimeout(function(){b(document).one("mousedown",function(f){f.target!==d.element[0]&&f.target!==g&&!b.ui.contains(g,f.target)&&d.close()})},1);setTimeout(function(){clearTimeout(d.closing)},13)}).menu({focus:function(h,g){g=g.item.data("item.autocomplete");false!==d._trigger("focus",h,{item:g})&&/^key/.test(h.originalEvent.type)&&d.element.val(g.value)},selected:function(l,k){var j=k.item.data("item.autocomplete"),g=d.previous;if(d.element[0]!==c.activeElement){d.element.focus();d.previous=g;setTimeout(function(){d.previous=g;d.selectedItem=j},1)}false!==d._trigger("select",l,{item:j})&&d.element.val(j.value);d.term=d.element.val();d.close(l);d.selectedItem=j},blur:function(){d.menu.element.is(":visible")&&d.element.val()!==d.term&&d.element.val(d.term)}}).zIndex(this.element.zIndex()+1).css({top:0,left:0}).hide().data("menu");b.fn.bgiframe&&this.menu.element.bgiframe()},destroy:function(){this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete").removeAttr("role").removeAttr("aria-autocomplete").removeAttr("aria-haspopup");this.menu.element.remove();b.Widget.prototype.destroy.call(this)},_setOption:function(d,c){b.Widget.prototype._setOption.apply(this,arguments);d==="source"&&this._initSource();if(d==="appendTo"){this.menu.element.appendTo(b(c||"body",this.element[0].ownerDocument)[0])}d==="disabled"&&c&&this.xhr&&this.xhr.abort()},_initSource:function(){var d=this,c,e;if(b.isArray(this.options.source)){c=this.options.source;this.source=function(h,g){g(b.ui.autocomplete.filter(c,h.term))}}else{if(typeof this.options.source==="string"){e=this.options.source;this.source=function(h,g){d.xhr&&d.xhr.abort();d.xhr=b.ajax({url:e,data:h,dataType:"json",autocompleteRequest:++a,success:function(f){this.autocompleteRequest===a&&g(f)},error:function(){this.autocompleteRequest===a&&g([])}})}}else{this.source=this.options.source}}},search:function(d,c){d=d!=null?d:this.element.val();this.term=this.element.val();if(d.length<this.options.minLength){return this.close(c)}clearTimeout(this.closing);if(this._trigger("search",c)!==false){return this._search(d)}},_search:function(c){this.pending++;this.element.addClass("ui-autocomplete-loading");this.source({term:c},this.response)},_response:function(c){if(!this.options.disabled&&c&&c.length){c=this._normalize(c);this._suggest(c);this._trigger("open")}else{this.close()}this.pending--;this.pending||this.element.removeClass("ui-autocomplete-loading")},close:function(c){clearTimeout(this.closing);if(this.menu.element.is(":visible")){this.menu.element.hide();this.menu.deactivate();this._trigger("close",c)}},_change:function(c){this.previous!==this.element.val()&&this._trigger("change",c,{item:this.selectedItem})},_normalize:function(c){if(c.length&&c[0].label&&c[0].value){return c}return b.map(c,function(d){if(typeof d==="string"){return{label:d,value:d}}return b.extend({label:d.label||d.value,value:d.value||d.label},d)})},_suggest:function(d){var c=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(c,d);this.menu.deactivate();this.menu.refresh();c.show();this._resizeMenu();c.position(b.extend({of:this.element},this.options.position));this.options.autoFocus&&this.menu.next(new b.Event("mouseover"))},_resizeMenu:function(){var c=this.menu.element;c.outerWidth(Math.max(c.width("").outerWidth(),this.element.outerWidth()))},_renderMenu:function(d,c){var e=this;b.each(c,function(h,g){e._renderItem(d,g)})},_renderItem:function(d,c){return b("<li></li>").data("item.autocomplete",c).append(b("<a></a>").text(c.label)).appendTo(d)},_move:function(d,c){if(this.menu.element.is(":visible")){if(this.menu.first()&&/^previous/.test(d)||this.menu.last()&&/^next/.test(d)){this.element.val(this.term);this.menu.deactivate()}else{this.menu[d](c)}}else{this.search(null,c)}},widget:function(){return this.menu.element}});b.extend(b.ui.autocomplete,{escapeRegex:function(c){return c.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},filter:function(d,c){var e=new RegExp(b.ui.autocomplete.escapeRegex(c),"i");return b.grep(d,function(f){return e.test(f.label||f.value||f)})}})})(jQuery);(function(a){a.widget("ui.menu",{_create:function(){var b=this;this.element.addClass("ui-menu ui-widget ui-widget-content ui-corner-all").attr({role:"listbox","aria-activedescendant":"ui-active-menuitem"}).click(function(c){if(a(c.target).closest(".ui-menu-item a").length){c.preventDefault();b.select(c)}});this.refresh()},refresh:function(){var b=this;this.element.children("li:not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","menuitem").children("a").addClass("ui-corner-all").attr("tabindex",-1).mouseenter(function(c){b.activate(c,a(this).parent())}).mouseleave(function(){b.deactivate()})},activate:function(i,f){this.deactivate();if(this.hasScroll()){var d=f.offset().top-this.element.offset().top,h=this.element.attr("scrollTop"),j=this.element.height();if(d<0){this.element.attr("scrollTop",h+d)}else{d>=j&&this.element.attr("scrollTop",h+d-j+f.height())}}this.active=f.eq(0).children("a").addClass("ui-state-hover").attr("id","ui-active-menuitem").end();this._trigger("focus",i,{item:f})},deactivate:function(){if(this.active){this.active.children("a").removeClass("ui-state-hover").removeAttr("id");this._trigger("blur");this.active=null}},next:function(b){this.move("next",".ui-menu-item:first",b)},previous:function(b){this.move("prev",".ui-menu-item:last",b)},first:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},last:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},move:function(f,d,c){if(this.active){f=this.active[f+"All"](".ui-menu-item").eq(0);f.length?this.activate(c,f):this.activate(c,this.element.children(d))}else{this.activate(c,this.element.children(d))}},nextPage:function(h){if(this.hasScroll()){if(!this.active||this.last()){this.activate(h,this.element.children(".ui-menu-item:first"))}else{var d=this.active.offset().top,c=this.element.height(),f=this.element.children(".ui-menu-item").filter(function(){var b=a(this).offset().top-d-c+a(this).height();return b<10&&b>-10});f.length||(f=this.element.children(".ui-menu-item:last"));this.activate(h,f)}}else{this.activate(h,this.element.children(".ui-menu-item").filter(!this.active||this.last()?":first":":last"))}},previousPage:function(f){if(this.hasScroll()){if(!this.active||this.first()){this.activate(f,this.element.children(".ui-menu-item:last"))}else{var d=this.active.offset().top,c=this.element.height();result=this.element.children(".ui-menu-item").filter(function(){var b=a(this).offset().top-d+c-a(this).height();return b<10&&b>-10});result.length||(result=this.element.children(".ui-menu-item:first"));this.activate(f,result)}}else{this.activate(f,this.element.children(".ui-menu-item").filter(!this.active||this.first()?":last":":first"))}},hasScroll:function(){return this.element.height()<this.element.attr("scrollHeight")},select:function(b){this._trigger("selected",b,{item:this.active})}})})(jQuery);(function(b){var e,c=function(a){b(":ui-button",a.target.form).each(function(){var f=b(this).data("button");setTimeout(function(){f.refresh()},1)})},d=function(a){var i=a.name,h=a.form,g=b([]);if(i){g=h?b(h).find("[name='"+i+"']"):b("[name='"+i+"']",a.ownerDocument).filter(function(){return !this.form})}return g};b.widget("ui.button",{options:{disabled:null,text:true,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset.button").bind("reset.button",c);if(typeof this.options.disabled!=="boolean"){this.options.disabled=this.element.attr("disabled")}this._determineButtonType();this.hasTitle=!!this.buttonElement.attr("title");var a=this,i=this.options,h=this.type==="checkbox"||this.type==="radio",g="ui-state-hover"+(!h?" ui-state-active":"");if(i.label===null){i.label=this.buttonElement.html()}if(this.element.is(":disabled")){i.disabled=true}this.buttonElement.addClass("ui-button ui-widget ui-state-default ui-corner-all").attr("role","button").bind("mouseenter.button",function(){if(!i.disabled){b(this).addClass("ui-state-hover");this===e&&b(this).addClass("ui-state-active")}}).bind("mouseleave.button",function(){i.disabled||b(this).removeClass(g)}).bind("focus.button",function(){b(this).addClass("ui-state-focus")}).bind("blur.button",function(){b(this).removeClass("ui-state-focus")});h&&this.element.bind("change.button",function(){a.refresh()});if(this.type==="checkbox"){this.buttonElement.bind("click.button",function(){if(i.disabled){return false}b(this).toggleClass("ui-state-active");a.buttonElement.attr("aria-pressed",a.element[0].checked)})}else{if(this.type==="radio"){this.buttonElement.bind("click.button",function(){if(i.disabled){return false}b(this).addClass("ui-state-active");a.buttonElement.attr("aria-pressed",true);var f=a.element[0];d(f).not(f).map(function(){return b(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed",false)})}else{this.buttonElement.bind("mousedown.button",function(){if(i.disabled){return false}b(this).addClass("ui-state-active");e=this;b(document).one("mouseup",function(){e=null})}).bind("mouseup.button",function(){if(i.disabled){return false}b(this).removeClass("ui-state-active")}).bind("keydown.button",function(f){if(i.disabled){return false}if(f.keyCode==b.ui.keyCode.SPACE||f.keyCode==b.ui.keyCode.ENTER){b(this).addClass("ui-state-active")}}).bind("keyup.button",function(){b(this).removeClass("ui-state-active")});this.buttonElement.is("a")&&this.buttonElement.keyup(function(f){f.keyCode===b.ui.keyCode.SPACE&&b(this).click()})}}this._setOption("disabled",i.disabled)},_determineButtonType:function(){this.type=this.element.is(":checkbox")?"checkbox":this.element.is(":radio")?"radio":this.element.is("input")?"input":"button";if(this.type==="checkbox"||this.type==="radio"){var a=this.element.parents().filter(":last"),f="label[for="+this.element.attr("id")+"]";this.buttonElement=a.find(f);if(!this.buttonElement.length){a=a.length?a.siblings():this.element.siblings();this.buttonElement=a.filter(f);if(!this.buttonElement.length){this.buttonElement=a.find(f)}}this.element.addClass("ui-helper-hidden-accessible");(a=this.element.is(":checked"))&&this.buttonElement.addClass("ui-state-active");this.buttonElement.attr("aria-pressed",a)}else{this.buttonElement=this.element}},widget:function(){return this.buttonElement},destroy:function(){this.element.removeClass("ui-helper-hidden-accessible");this.buttonElement.removeClass("ui-button ui-widget ui-state-default ui-corner-all ui-state-hover ui-state-active  ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only").removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html());this.hasTitle||this.buttonElement.removeAttr("title");b.Widget.prototype.destroy.call(this)},_setOption:function(a,f){b.Widget.prototype._setOption.apply(this,arguments);if(a==="disabled"){f?this.element.attr("disabled",true):this.element.removeAttr("disabled")}this._resetButton()},refresh:function(){var a=this.element.is(":disabled");a!==this.options.disabled&&this._setOption("disabled",a);if(this.type==="radio"){d(this.element[0]).each(function(){b(this).is(":checked")?b(this).button("widget").addClass("ui-state-active").attr("aria-pressed",true):b(this).button("widget").removeClass("ui-state-active").attr("aria-pressed",false)})}else{if(this.type==="checkbox"){this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed",true):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed",false)}}},_resetButton:function(){if(this.type==="input"){this.options.label&&this.element.val(this.options.label)}else{var a=this.buttonElement.removeClass("ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only"),j=b("<span></span>").addClass("ui-button-text").html(this.options.label).appendTo(a.empty()).text(),i=this.options.icons,g=i.primary&&i.secondary,h=[];if(i.primary||i.secondary){if(this.options.text){h.push("ui-button-text-icon"+(g?"s":i.primary?"-primary":"-secondary"))}i.primary&&a.prepend("<span class='ui-button-icon-primary ui-icon "+i.primary+"'></span>");i.secondary&&a.append("<span class='ui-button-icon-secondary ui-icon "+i.secondary+"'></span>");if(!this.options.text){h.push(g?"ui-button-icons-only":"ui-button-icon-only");this.hasTitle||a.attr("title",j)}}else{h.push("ui-button-text-only")}a.addClass(h.join(" "))}}});b.widget("ui.buttonset",{options:{items:":button, :submit, :reset, :checkbox, :radio, a, :data(button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(a,f){a==="disabled"&&this.buttons.button("option",a,f);b.Widget.prototype._setOption.apply(this,arguments)},refresh:function(){this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return b(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass("ui-corner-left").end().filter(":last").addClass("ui-corner-right").end().end()},destroy:function(){this.element.removeClass("ui-buttonset");this.buttons.map(function(){return b(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy");b.Widget.prototype.destroy.call(this)}})})(jQuery);(function(e,d){var b={buttons:true,height:true,maxHeight:true,maxWidth:true,minHeight:true,minWidth:true,width:true},a={maxHeight:true,maxWidth:true,minHeight:true,minWidth:true};e.widget("ui.dialog",{options:{autoOpen:true,buttons:{},closeOnEscape:true,closeText:"close",dialogClass:"",draggable:true,hide:null,height:"auto",maxHeight:false,maxWidth:false,minHeight:150,minWidth:150,modal:false,position:{my:"center",at:"center",collision:"fit",using:function(f){var c=e(this).css(f).offset().top;c<0&&e(this).css("top",f.top-c)}},resizable:true,show:null,stack:true,title:"",width:300,zIndex:1000},_create:function(){this.originalTitle=this.element.attr("title");if(typeof this.originalTitle!=="string"){this.originalTitle=""}this.options.title=this.options.title||this.originalTitle;var i=this,c=i.options,n=c.title||"&#160;",m=e.ui.dialog.getTitleId(i.element),k=(i.uiDialog=e("<div></div>")).appendTo(document.body).hide().addClass("ui-dialog ui-widget ui-widget-content ui-corner-all "+c.dialogClass).css({zIndex:c.zIndex}).attr("tabIndex",-1).css("outline",0).keydown(function(f){if(c.closeOnEscape&&f.keyCode&&f.keyCode===e.ui.keyCode.ESCAPE){i.close(f);f.preventDefault()}}).attr({role:"dialog","aria-labelledby":m}).mousedown(function(f){i.moveToTop(false,f)});i.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(k);var l=(i.uiDialogTitlebar=e("<div></div>")).addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(k),j=e('<a href="#"></a>').addClass("ui-dialog-titlebar-close ui-corner-all").attr("role","button").hover(function(){j.addClass("ui-state-hover")},function(){j.removeClass("ui-state-hover")}).focus(function(){j.addClass("ui-state-focus")}).blur(function(){j.removeClass("ui-state-focus")}).click(function(f){i.close(f);return false}).appendTo(l);(i.uiDialogTitlebarCloseText=e("<span></span>")).addClass("ui-icon ui-icon-closethick").text(c.closeText).appendTo(j);e("<span></span>").addClass("ui-dialog-title").attr("id",m).html(n).prependTo(l);if(e.isFunction(c.beforeclose)&&!e.isFunction(c.beforeClose)){c.beforeClose=c.beforeclose}l.find("*").add(l).disableSelection();c.draggable&&e.fn.draggable&&i._makeDraggable();c.resizable&&e.fn.resizable&&i._makeResizable();i._createButtons(c.buttons);i._isOpen=false;e.fn.bgiframe&&k.bgiframe()},_init:function(){this.options.autoOpen&&this.open()},destroy:function(){var c=this;c.overlay&&c.overlay.destroy();c.uiDialog.hide();c.element.unbind(".dialog").removeData("dialog").removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body");c.uiDialog.remove();c.originalTitle&&c.element.attr("title",c.originalTitle);return c},widget:function(){return this.uiDialog},close:function(f){var c=this,h,g;if(false!==c._trigger("beforeClose",f)){c.overlay&&c.overlay.destroy();c.uiDialog.unbind("keypress.ui-dialog");c._isOpen=false;if(c.options.hide){c.uiDialog.hide(c.options.hide,function(){c._trigger("close",f)})}else{c.uiDialog.hide();c._trigger("close",f)}e.ui.dialog.overlay.resize();if(c.options.modal){h=0;e(".ui-dialog").each(function(){if(this!==c.uiDialog[0]){g=e(this).css("z-index");isNaN(g)||(h=Math.max(h,g))}});e.ui.dialog.maxZ=h}return c}},isOpen:function(){return this._isOpen},moveToTop:function(f,c){var h=this,g=h.options;if(g.modal&&!f||!g.stack&&!g.modal){return h._trigger("focus",c)}if(g.zIndex>e.ui.dialog.maxZ){e.ui.dialog.maxZ=g.zIndex}if(h.overlay){e.ui.dialog.maxZ+=1;h.overlay.$el.css("z-index",e.ui.dialog.overlay.maxZ=e.ui.dialog.maxZ)}f={scrollTop:h.element.attr("scrollTop"),scrollLeft:h.element.attr("scrollLeft")};e.ui.dialog.maxZ+=1;h.uiDialog.css("z-index",e.ui.dialog.maxZ);h.element.attr(f);h._trigger("focus",c);return h},open:function(){if(!this._isOpen){var f=this,c=f.options,g=f.uiDialog;f.overlay=c.modal?new e.ui.dialog.overlay(f):null;f._size();f._position(c.position);g.show(c.show);f.moveToTop(true);c.modal&&g.bind("keypress.ui-dialog",function(j){if(j.keyCode===e.ui.keyCode.TAB){var h=e(":tabbable",this),i=h.filter(":first");h=h.filter(":last");if(j.target===h[0]&&!j.shiftKey){i.focus(1);return false}else{if(j.target===i[0]&&j.shiftKey){h.focus(1);return false}}}});e(f.element.find(":tabbable").get().concat(g.find(".ui-dialog-buttonpane :tabbable").get().concat(g.get()))).eq(0).focus();f._isOpen=true;f._trigger("open");return f}},_createButtons:function(f){var c=this,j=false,i=e("<div></div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),h=e("<div></div>").addClass("ui-dialog-buttonset").appendTo(i);c.uiDialog.find(".ui-dialog-buttonpane").remove();typeof f==="object"&&f!==null&&e.each(f,function(){return !(j=true)});if(j){e.each(f,function(k,g){g=e.isFunction(g)?{click:g,text:k}:g;k=e('<button type="button"></button>').attr(g,true).unbind("click").click(function(){g.click.apply(c.element[0],arguments)}).appendTo(h);e.fn.button&&k.button()});i.appendTo(c.uiDialog)}},_makeDraggable:function(){function f(g){return{position:g.position,offset:g.offset}}var c=this,j=c.options,i=e(document),h;c.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(k,g){h=j.height==="auto"?"auto":e(this).height();e(this).height(e(this).height()).addClass("ui-dialog-dragging");c._trigger("dragStart",k,f(g))},drag:function(k,g){c._trigger("drag",k,f(g))},stop:function(k,g){j.position=[g.position.left-i.scrollLeft(),g.position.top-i.scrollTop()];e(this).removeClass("ui-dialog-dragging").height(h);c._trigger("dragStop",k,f(g));e.ui.dialog.overlay.resize()}})},_makeResizable:function(f){function c(g){return{originalPosition:g.originalPosition,originalSize:g.originalSize,position:g.position,size:g.size}}f=f===d?this.options.resizable:f;var j=this,i=j.options,h=j.uiDialog.css("position");f=typeof f==="string"?f:"n,e,s,w,se,sw,ne,nw";j.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:j.element,maxWidth:i.maxWidth,maxHeight:i.maxHeight,minWidth:i.minWidth,minHeight:j._minHeight(),handles:f,start:function(k,g){e(this).addClass("ui-dialog-resizing");j._trigger("resizeStart",k,c(g))},resize:function(k,g){j._trigger("resize",k,c(g))},stop:function(k,g){e(this).removeClass("ui-dialog-resizing");i.height=e(this).height();i.width=e(this).width();j._trigger("resizeStop",k,c(g));e.ui.dialog.overlay.resize()}}).css("position",h).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_minHeight:function(){var c=this.options;return c.height==="auto"?c.minHeight:Math.min(c.minHeight,c.height)},_position:function(f){var c=[],h=[0,0],g;if(f){if(typeof f==="string"||typeof f==="object"&&"0" in f){c=f.split?f.split(" "):[f[0],f[1]];if(c.length===1){c[1]=c[0]}e.each(["left","top"],function(i,j){if(+c[i]===c[i]){h[i]=c[i];c[i]=j}});f={my:c.join(" "),at:c.join(" "),offset:h.join(" ")}}f=e.extend({},e.ui.dialog.prototype.options.position,f)}else{f=e.ui.dialog.prototype.options.position}(g=this.uiDialog.is(":visible"))||this.uiDialog.show();this.uiDialog.css({top:0,left:0}).position(e.extend({of:window},f));g||this.uiDialog.hide()},_setOptions:function(f){var c=this,h={},g=false;e.each(f,function(i,j){c._setOption(i,j);if(i in b){g=true}if(i in a){h[i]=j}});g&&this._size();this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option",h)},_setOption:function(f,c){var j=this,i=j.uiDialog;switch(f){case"beforeclose":f="beforeClose";break;case"buttons":j._createButtons(c);break;case"closeText":j.uiDialogTitlebarCloseText.text(""+c);break;case"dialogClass":i.removeClass(j.options.dialogClass).addClass("ui-dialog ui-widget ui-widget-content ui-corner-all "+c);break;case"disabled":c?i.addClass("ui-dialog-disabled"):i.removeClass("ui-dialog-disabled");break;case"draggable":var h=i.is(":data(draggable)");h&&!c&&i.draggable("destroy");!h&&c&&j._makeDraggable();break;case"position":j._position(c);break;case"resizable":(h=i.is(":data(resizable)"))&&!c&&i.resizable("destroy");h&&typeof c==="string"&&i.resizable("option","handles",c);!h&&c!==false&&j._makeResizable(c);break;case"title":e(".ui-dialog-title",j.uiDialogTitlebar).html(""+(c||"&#160;"));break}e.Widget.prototype._setOption.apply(j,arguments)},_size:function(){var f=this.options,c,h,g=this.uiDialog.is(":visible");this.element.show().css({width:"auto",minHeight:0,height:0});if(f.minWidth>f.width){f.width=f.minWidth}c=this.uiDialog.css({height:"auto",width:f.width}).height();h=Math.max(0,f.minHeight-c);if(f.height==="auto"){if(e.support.minHeight){this.element.css({minHeight:h,height:"auto"})}else{this.uiDialog.show();f=this.element.css("height","auto").height();g||this.uiDialog.hide();this.element.height(Math.max(f,h))}}else{this.element.height(Math.max(f.height-c,0))}this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())}});e.extend(e.ui.dialog,{version:"1.8.11",uuid:0,maxZ:0,getTitleId:function(c){c=c.attr("id");if(!c){this.uuid+=1;c=this.uuid}return"ui-dialog-title-"+c},overlay:function(c){this.$el=e.ui.dialog.overlay.create(c)}});e.extend(e.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:e.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(c){return c+".dialog-overlay"}).join(" "),create:function(f){if(this.instances.length===0){setTimeout(function(){e.ui.dialog.overlay.instances.length&&e(document).bind(e.ui.dialog.overlay.events,function(g){if(e(g.target).zIndex()<e.ui.dialog.overlay.maxZ){return false}})},1);e(document).bind("keydown.dialog-overlay",function(g){if(f.options.closeOnEscape&&g.keyCode&&g.keyCode===e.ui.keyCode.ESCAPE){f.close(g);g.preventDefault()}});e(window).bind("resize.dialog-overlay",e.ui.dialog.overlay.resize)}var c=(this.oldInstances.pop()||e("<div></div>").addClass("ui-widget-overlay")).appendTo(document.body).css({width:this.width(),height:this.height()});e.fn.bgiframe&&c.bgiframe();this.instances.push(c);return c},destroy:function(f){var c=e.inArray(f,this.instances);c!=-1&&this.oldInstances.push(this.instances.splice(c,1)[0]);this.instances.length===0&&e([document,window]).unbind(".dialog-overlay");f.remove();var g=0;e.each(this.instances,function(){g=Math.max(g,this.css("z-index"))});this.maxZ=g},height:function(){var f,c;if(e.browser.msie&&e.browser.version<7){f=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight);c=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight);return f<c?e(window).height()+"px":f+"px"}else{return e(document).height()+"px"}},width:function(){var f,c;if(e.browser.msie&&e.browser.version<7){f=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth);c=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth);return f<c?e(window).width()+"px":f+"px"}else{return e(document).width()+"px"}},resize:function(){var c=e([]);e.each(e.ui.dialog.overlay.instances,function(){c=c.add(this)});c.css({width:0,height:0}).css({width:e.ui.dialog.overlay.width(),height:e.ui.dialog.overlay.height()})}});e.extend(e.ui.dialog.overlay.prototype,{destroy:function(){e.ui.dialog.overlay.destroy(this.$el)}})})(jQuery);
/*!
 * jQuery resize event - v1.1 - 3/14/2010
 * http://benalman.com/projects/jquery-resize-plugin/
 * 
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
(function($,h,c){var a=$([]),e=$.resize=$.extend($.resize,{}),i,k="setTimeout",j="resize",d=j+"-special-event",b="delay",f="throttleWindow";e[b]=250;e[f]=true;$.event.special[j]={setup:function(){if(!e[f]&&this[k]){return false}var l=$(this);a=a.add(l);$.data(this,d,{w:l.width(),h:l.height()});if(a.length===1){g()}},teardown:function(){if(!e[f]&&this[k]){return false}var l=$(this);a=a.not(l);l.removeData(d);if(!a.length){clearTimeout(i)}},add:function(l){if(!e[f]&&this[k]){return false}var n;function m(s,o,p){var q=$(this),r=$.data(this,d);r.w=o!==c?o:q.width();r.h=p!==c?p:q.height();n.apply(this,arguments)}if($.isFunction(l)){n=l;return m}else{n=l.handler;l.handler=m}}};function g(){i=h[k](function(){a.each(function(){var n=$(this),m=n.width(),l=n.height(),o=$.data(this,d);if(m!==o.w||l!==o.h){n.trigger(j,[o.w=m,o.h=l])}});g()},e[b])}})(jQuery,this);jQuery.cookie=function(b,j,m){if(typeof j!="undefined"){m=m||{};if(j===null){j="";m.expires=-1}var e="";if(m.expires&&(typeof m.expires=="number"||m.expires.toUTCString)){var f;if(typeof m.expires=="number"){f=new Date();f.setTime(f.getTime()+(m.expires*24*60*60*1000))}else{f=m.expires}e="; expires="+f.toUTCString()}var l=m.path?"; path="+(m.path):"";var g=m.domain?"; domain="+(m.domain):"";var a=m.secure?"; secure":"";document.cookie=[b,"=",encodeURIComponent(j),e,l,g,a].join("")}else{var d=null;if(document.cookie&&document.cookie!=""){var k=document.cookie.split(";");for(var h=0;h<k.length;h++){var c=jQuery.trim(k[h]);if(c.substring(0,b.length+1)==(b+"=")){d=decodeURIComponent(c.substring(b.length+1));break}}}return d}};(function($){$.fn.editable=function(target,options){if("disable"==target){$(this).data("disabled.editable",true);return}if("enable"==target){$(this).data("disabled.editable",false);return}if("destroy"==target){$(this).unbind($(this).data("event.editable")).removeData("disabled.editable").removeData("event.editable");return}var settings=$.extend({},$.fn.editable.defaults,{target:target},options);var plugin=$.editable.types[settings.type].plugin||function(){};var submit=$.editable.types[settings.type].submit||function(){};var buttons=$.editable.types[settings.type].buttons||$.editable.types.defaults.buttons;var content=$.editable.types[settings.type].content||$.editable.types.defaults.content;var element=$.editable.types[settings.type].element||$.editable.types.defaults.element;var reset=$.editable.types[settings.type].reset||$.editable.types.defaults.reset;var callback=settings.callback||function(){};var onedit=settings.onedit||function(){};var onsubmit=settings.onsubmit||function(){};var onreset=settings.onreset||function(){};var onerror=settings.onerror||reset;if(settings.tooltip){$(this).attr("title",settings.tooltip)}settings.autowidth="auto"==settings.width;settings.autoheight="auto"==settings.height;return this.each(function(){var self=this;var savedwidth=$(self).width();var savedheight=$(self).height();$(this).data("event.editable",settings.event);if(!$.trim($(this).html())){$(this).html(settings.placeholder)}$(this).bind(settings.event,function(e){if(true===$(this).data("disabled.editable")){return}if(self.editing){return}if(false===onedit.apply(this,[settings,self])){return}e.preventDefault();if(settings.tooltip){$(self).removeAttr("title")}if(0==$(self).width()){settings.width=savedwidth;settings.height=savedheight}else{if(settings.width!="none"){settings.width=settings.autowidth?$(self).width():settings.width}if(settings.height!="none"){settings.height=settings.autoheight?$(self).height():settings.height}}if(settings.lesswidth){settings.width-=settings.lesswidth}if(settings.lessheight){settings.width-=settings.lessheight}if($(this).html().toLowerCase().replace(/(;|")/g,"")==settings.placeholder.toLowerCase().replace(/(;|")/g,"")){$(this).html("")}self.editing=true;self.revert=$(self).html();self.text=$(self).text();var spaceItem=$("<div>&nbsp;</div").css("width",$(self).width()).css("height",$(self).height());$(self).html("");var form=$("<form />");if(settings.cssclass){if("inherit"==settings.cssclass){form.attr("class",$(self).attr("class"))}else{form.attr("class",settings.cssclass)}}if(settings.style){if("inherit"==settings.style){form.attr("style",$(self).attr("style"));form.css("display",$(self).css("display"))}else{form.attr("style",settings.style)}}var input=element.apply(form,[settings,self]);var input_content;if(settings.loadurl){var t=setTimeout(function(){input.disabled=true;content.apply(form,[settings.loadtext,settings,self])},100);var loaddata={};loaddata[settings.id]=self.id;if($.isFunction(settings.loaddata)){$.extend(loaddata,settings.loaddata.apply(self,[self.text,settings]))}else{$.extend(loaddata,settings.loaddata)}$.ajax({type:settings.loadtype,url:settings.loadurl,data:loaddata,async:false,success:function(result){window.clearTimeout(t);input_content=result;input.disabled=false}})}else{if(settings.data){input_content=settings.data;if($.isFunction(settings.data)){input_content=settings.data.apply(self,[self.text,settings])}}else{input_content=self.text}}content.apply(form,[input_content,settings,self]);input.attr("name",settings.name);buttons.apply(form,[settings,self]);$(self).append(form);$(self).append(spaceItem);plugin.apply(form,[settings,self]);$(":input:visible:enabled:first",form).focus();if(settings.select){input.select()}input.keydown(function(e){if(e.keyCode==27){e.preventDefault();reset.apply(form,[settings,self]);$(self).trigger(event)}});var t;if("cancel"==settings.onblur){input.blur(function(e){t=setTimeout(function(){reset.apply(form,[settings,self])},500)})}else{if("submit"==settings.onblur){input.blur(function(e){t=setTimeout(function(){form.submit()},200)})}else{if($.isFunction(settings.onblur)){input.blur(function(e){settings.onblur.apply(self,[input.val(),settings])})}else{input.blur(function(e){})}}}form.submit(function(e){if(t){clearTimeout(t)}e.preventDefault();if(false!==onsubmit.apply(form,[settings,self])){if(false!==submit.apply(form,[settings,self])){if($.isFunction(settings.target)){var str=settings.target.apply(self,[input.val(),settings]);$(self).html(multiLineHtmlEncode(str));self.editing=false;callback.apply(self,[self.innerHTML,settings]);if(!$.trim($(self).html())){$(self).html(settings.placeholder)}}else{var submitdata={};submitdata[settings.name]=input.val();submitdata[settings.id]=self.id;if($.isFunction(settings.submitdata)){$.extend(submitdata,settings.submitdata.apply(self,[self.revert,settings]))}else{$.extend(submitdata,settings.submitdata)}if("PUT"==settings.method){submitdata._method="put"}$(self).html(settings.indicator);var ajaxoptions={type:"POST",data:submitdata,dataType:"html",url:settings.target,success:function(result,status){if(ajaxoptions.dataType=="html"){$(self).html(multiLineHtmlEncode(result))}self.editing=false;callback.apply(self,[result,settings]);if(!$.trim($(self).html())){$(self).html(settings.placeholder)}},error:function(xhr,status,error){onerror.apply(form,[settings,self,xhr])}};$.extend(ajaxoptions,settings.ajaxoptions);$.ajax(ajaxoptions)}}}$(self).attr("title",settings.tooltip);return false})});this.reset=function(form){if(this.editing){if(false!==onreset.apply(form,[settings,self])){$(self).html(self.revert);self.editing=false;if(!$.trim($(self).html())){$(self).html(settings.placeholder)}if(settings.tooltip){$(self).attr("title",settings.tooltip)}}}}})};$.editable={types:{defaults:{element:function(settings,original){var input=$('<input type="hidden"></input>');$(this).append(input);return(input)},content:function(string,settings,original){$(":input:first",this).val(string)},reset:function(settings,original){original.reset(this)},buttons:function(settings,original){var form=this;if(settings.submit){if(settings.submit.match(/>$/)){var submit=$(settings.submit).click(function(){if(submit.attr("type")!="submit"){form.submit()}})}else{var submit=$('<button type="submit" />');submit.html(settings.submit)}$(this).append(submit)}if(settings.cancel){if(settings.cancel.match(/>$/)){var cancel=$(settings.cancel)}else{var cancel=$('<button type="cancel" />');cancel.html(settings.cancel)}$(this).append(cancel);$(cancel).click(function(event){if($.isFunction($.editable.types[settings.type].reset)){var reset=$.editable.types[settings.type].reset}else{var reset=$.editable.types.defaults.reset}reset.apply(form,[settings,original]);return false})}}},text:{element:function(settings,original){var input=$("<input />");if(settings.width!="none"){input.width(settings.width)}if(settings.height!="none"){input.height(settings.height)}input.attr("autocomplete","off");if(settings.autoComplete){input.autocomplete({source:($.isArray(settings.autoComplete)?settings.autoComplete:settings.autoComplete()),minLength:0,delay:0})}$(this).append(input);return(input)}},textarea:{element:function(settings,original){var textarea=$("<textarea />");if(settings.rows){textarea.attr("rows",settings.rows)}else{if(settings.height!="none"){textarea.height(settings.height)}}if(settings.cols){textarea.attr("cols",settings.cols)}else{if(settings.width!="none"){textarea.width(settings.width)}}if(settings.saveonenterkeypress){textarea.keypress(function(event){if((event.charCode==13)&&!event.ctrlKey){textarea.blur()}})}if(settings.autoResize){textarea.css("dispay","block");textarea.autoResize({limit:150,extraSpace:10,origHeight:20})}$(this).append(textarea);return(textarea)}},select:{element:function(settings,original){var select=$("<select />");$(this).append(select);return(select)},content:function(data,settings,original){if(String==data.constructor){eval("var json = "+data)}else{var json=data}for(var key in json){if(!json.hasOwnProperty(key)){continue}if("selected"==key){continue}var option=$("<option />").val(key).append(json[key]);$("select",this).append(option)}$("select",this).children().each(function(){if($(this).val()==json.selected||$(this).text()==$.trim(original.revert)){$(this).attr("selected","selected")}})}}},addInputType:function(name,input){$.editable.types[name]=input}};$.fn.editable.defaults={name:"value",id:"id",type:"text",width:"auto",height:"auto",event:"click.editable",onblur:"cancel",loadtype:"GET",loadtext:"Loading...",placeholder:"Click to edit",loaddata:{},submitdata:{},ajaxoptions:{}}})(jQuery);$.fn.simpleColorPicker=function(a){var c={colorsPerLine:8,colors:["#000000","#444444","#666666","#999999","#cccccc","#eeeeee","#f3f3f3","#ffffff","#ff0000","#ff9900","#ffff00","#00ff00","#00ffff","#0000ff","#9900ff","#ff00ff","#f4cccc","#fce5cd","#fff2cc","#d9ead3","#d0e0e3","#cfe2f3","#d9d2e9","#ead1dc","#ea9999","#f9cb9c","#ffe599","#b6d7a8","#a2c4c9","#9fc5e8","#b4a7d6","#d5a6bd","#e06666","#f6b26b","#ffd966","#93c47d","#76a5af","#6fa8dc","#8e7cc3","#c27ba0","#cc0000","#e69138","#f1c232","#6aa84f","#45818e","#3d85c6","#674ea7","#a64d79","#990000","#b45f06","#bf9000","#38761d","#134f5c","#0b5394","#351c75","#741b47","#660000","#783f04","#7f6000","#274e13","#0c343d","#073763","#20124d","#4C1130"],showEffect:"",hideEffect:"",onChangeColor:false};var b=$.extend(c,a);return this.each(function(){var g=$(this);var l="";var j=g.attr("id").replace(/-/,"")+"_";for(var f=0;f<b.colors.length;f++){var m=b.colors[f];var k="";if(f%b.colorsPerLine==0){k="clear: both; "}if(f>0&&k&&$.browser&&$.browser.msie&&$.browser.version<=7){k="";l+='<li style="float: none; clear: both; overflow: hidden; background-color: #fff; display: block; height: 1px; line-height: 1px; font-size: 1px; margin-bottom: -2px;"></li>'}l+='<li id="'+j+"color-"+f+'" class="color-box" style="'+k+"background-color: "+m+'" title="'+m+'"></li>'}var h=$('<div id="'+j+'color-picker" class="color-picker" style="position: absolute; left: 0px; top: 0px;"><ul>'+l+'</ul><div style="clear: both;"></div></div>');$("body").append(h);h.hide();h.find("li.color-box").click(function(){if(!g.is("input")){g.val(b.colors[this.id.substr(this.id.indexOf("-")+1)]);g.blur()}if($.isFunction(c.onChangeColor)){c.onChangeColor.call(g,b.colors[this.id.substr(this.id.indexOf("-")+1)])}d(h)});$("body").live("click",function(){d(h)});h.click(function(i){i.stopPropagation()});var e=function(i){var p=g.offset();var o=p.left+g.outerWidth()-i.outerWidth();if(o<p.left){o=p.left}i.css({left:o,top:(p.top+g.outerHeight())});n(i)};g.click(function(i){i.stopPropagation();if(!g.is("input")){e(h)}});g.focus(function(){e(h)});function d(i){if(b.hideEffect=="fade"){i.fadeOut()}else{if(b.hideEffect=="slide"){i.slideUp()}else{i.hide()}}}function n(i){if(b.showEffect=="fade"){i.fadeIn()}else{if(b.showEffect=="slide"){i.slideDown()}else{i.show()}}}})};(function(d){function b(k){var j=d('meta[name="csrf-token"]').attr("content");if(j){k.setRequestHeader("X-CSRF-Token",j)}}if("ajaxPrefilter" in d){d.ajaxPrefilter(function(j,l,k){b(k)})}else{d(document).ajaxSend(function(j,k){b(k)})}function c(m,j,l){var k=d.Event(j);m.trigger(k,l);return k.result!==false}function i(m){var o,k,n,j=m.data("type")||(d.ajaxSettings&&d.ajaxSettings.dataType);if(c(m,"ajax:before")){if(m.is("form")){o=m.attr("method");k=m.attr("action");n=m.serializeArray();var l=m.data("ujs:submit-button");if(l){n.push(l);m.data("ujs:submit-button",null)}}else{o=m.data("method");k=m.attr("href");n=null}d.ajax({url:k,type:o||"GET",data:n,dataType:j,beforeSend:function(q,p){if(p.dataType===undefined){q.setRequestHeader("accept","*/*;q=0.5, "+p.accepts.script)}return c(m,"ajax:beforeSend",[q,p])},success:function(q,p,r){m.trigger("ajax:success",[q,p,r])},complete:function(q,p){m.trigger("ajax:complete",[q,p])},error:function(r,p,q){m.trigger("ajax:error",[r,p,q])}})}}function f(n){var k=n.attr("href"),p=n.data("method"),l=d("meta[name=csrf-token]").attr("content"),o=d("meta[name=csrf-param]").attr("content"),m=d('<form method="post" action="'+k+'"></form>'),j='<input name="_method" value="'+p+'" type="hidden" />';if(o!==undefined&&l!==undefined){j+='<input name="'+o+'" value="'+l+'" type="hidden" />'}m.hide().append(j).appendTo("body");m.submit()}function g(j){j.find("input[data-disable-with], button[data-disable-with]").each(function(){var k=d(this),l=k.is("button")?"html":"val";k.data("ujs:enable-with",k[l]());k[l](k.data("disable-with"));k.attr("disabled","disabled")})}function a(j){j.find("input[data-disable-with]:disabled, button[data-disable-with]:disabled").each(function(){var k=d(this),l=k.is("button")?"html":"val";if(k.data("ujs:enable-with")){k[l](k.data("ujs:enable-with"))}k.removeAttr("disabled")})}function h(j){var k=j.data("confirm");return !k||(c(j,"confirm")&&confirm(k))}function e(k){var j=false;k.find("input[name][required]").each(function(){if(!d(this).val()){j=true}});return j}d("a[data-confirm], a[data-method], a[data-remote]").live("click.rails",function(k){var j=d(this);if(!h(j)){return false}if(j.data("remote")!=undefined){i(j);return false}else{if(j.data("method")){f(j);return false}}});d("form").live("submit.rails",function(l){var j=d(this),k=j.data("remote")!=undefined;if(!h(j)){return false}if(e(j)){return !k}if(k){i(j);return false}else{setTimeout(function(){g(j)},13)}});d("form input[type=submit], form input[type=image], form button[type=submit], form button:not([type])").live("click.rails",function(){var k=d(this);if(!h(k)){return false}var j=k.attr("name"),l=j?{name:j,value:k.val()}:null;k.closest("form").data("ujs:submit-button",l)});d("form").live("ajax:beforeSend.rails",function(j){if(this==j.target){g(d(this))}});d("form").live("ajax:complete.rails",function(j){if(this==j.target){a(d(this))}})})(jQuery);var _ues={host:"easybacklog.userecho.com",forum:"4890",lang:"en",tab_icon_show:false,tab_corner_radius:10,tab_font_size:14,tab_image_hash:"RmVlZGJhY2s%3D",tab_alignment:"right",tab_text_color:"#000000",tab_bg_color:"#FFC31F",tab_hover_color:"#FF9305",tab_top:"75%"};$(document).ready(function(){var b=document.createElement("script");b.type="text/javascript";b.async=true;b.src=("https:"==document.location.protocol?"https://s3.amazonaws.com/":"http://")+"cdn.userecho.com/js/widget-1.4.gz.js";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(b,a)});this.vtip=function(){this.xOffset=-10;this.yOffset=10;$(".vtip").unbind().live("mouseenter",function(a){this.t=this.title;if(this.t!=""){this.title="";this.top=(a.pageY+yOffset);this.left=(a.pageX+xOffset);$(this).addClass("vtipActive");$("body").append('<p id="vtip"><img id="vtipArrow" />'+this.t+"</p>");$("p#vtip #vtipArrow").attr("src","/images/vtip_arrow.png");$("p#vtip").css("top",this.top+"px").css("left",this.left+"px").fadeIn("slow")}}).live("mouseleave",function(){if(this.title==""){this.title=this.t;$("p#vtip").fadeOut("slow").remove();$(this).removeClass("vtipActive")}}).live("mousemove",function(a){this.top=(a.pageY+yOffset);this.left=(a.pageX+xOffset);$("p#vtip").css("top",this.top+"px").css("left",this.left+"px")})};jQuery(document).ready(function(a){vtip()});function addCommas(b){b+="";x=b.split(".");x1=x[0];x2=x.length>1?"."+x[1]:"";var a=/(\d+)(\d{3})/;while(a.test(x1)){x1=x1.replace(a,"$1,$2")}return x1+x2}function htmlEncode(a){if(a){return $("<span/>").text(a).html()}else{return""}}function multiLineHtmlEncode(c){if(_.isString(c)){var a=c.split(/\r\n|\r|\n/);for(var b=0;b<a.length;b++){a[b]=htmlEncode(a[b])}return a.join("<br/>")}else{return""}}var App={Views:{},Collections:{},Controllers:{}};$(document).ready(function(){$("a").live("confirm",function(c){c.preventDefault();c.stopPropagation();var b=$(this);$("#dialog-confirm").remove();$("body").append(JST["layouts/confirm-dialog"]({title:(b.attr("title")?b.attr("title"):"Please confirm"),confirmationMessage:b.data("confirm")}));$("#dialog-confirm").dialog({resizable:false,height:140,modal:true,buttons:{Delete:function(){b.data("confirm","");b.click();$(this).dialog("close")},Cancel:function(){$(this).dialog("close")}}});return(false)});var a=$("#alert-space .notice, #alert-space .error, #alert-space .warning");a.css("display","none").slideDown(function(){_.delay(function(){a.slideUp()},5000)})});var AcceptanceCriterion=Backbone.Model.extend({Story:function(){return this.collection.story},IsEditable:function(){return(this.collection.story.IsEditable())},beforeSave:function(callback){if(this.collection.story.isNew()){console.log("Saving parent Story first");this.collection.story.save({},{error:function(model,response){var errorMessage="Unable to save changes...  Please refresh.";try{errorMessage=eval("responseText = "+response.responseText).message}catch(e){console.log(e)}new App.Views.Error({message:errorMessage})},success:function(){callback()}})}else{callback()}}});var Backlog=Backbone.Model.extend({url:function(){return(this.collection.url()+(this.isNew()?"":"/"+(this.get("snapshot_master_id")?this.get("snapshot_master_id")+"/snapshots/":"")+this.id)+"?cache-buster"+Math.floor(Math.random()*1000000))},IsEditable:function(){return(this.get("snapshot_master_id")?false:true)},Themes:function(){if(this._themes==null){this._themes=new ThemesCollection(this.get("themes"),{backlog:this});this.unset("themes")}return(this._themes)},Company_ID:function(){return this.collection.company_id}});var Story=Backbone.Model.extend({Theme:function(){return this.collection.theme},IsEditable:function(){return(this.collection.theme.IsEditable())},AcceptanceCriteria:function(){if(this._acceptance_criteria==null){this._acceptance_criteria=new AcceptanceCriteriaCollection(this.get("acceptance_criteria"),{story:this});this.unset("acceptance_criteria")}return(this._acceptance_criteria)},MoveToTheme:function(c,a){var b=this;$.post(this.collection.url()+"/"+this.get("id")+"/move-to-theme/"+c).success(function(d,e,g){var f=b.Theme().collection;b.collection.remove(b);f.get(Number(c)).Stories().add(b);b.set(d);b.trigger("change:unique_id");if(_.isFunction(a.success)){a.success(b,g)}}).error(function(e,d){console.log("Move to theme failed");if(_.isFunction(a.error)){a.error(b,d)}})}});var Theme=Backbone.Model.extend({Stories:function(){if(this._stories==null){this._stories=new StoriesCollection(this.get("stories"),{theme:this});this.unset("stories")}return(this._stories)},Backlog:function(){return this.collection.backlog},IsEditable:function(){return(this.collection.backlog.IsEditable())},ReNumberStories:function(a){var b=this;$.post(this.collection.url()+"/"+this.get("id")+"/re-number-stories").success(function(c,d,e){b.Stories().each(function(f){f.fetch()});if(_.isFunction(a.success)){a.success(b,e)}}).error(function(d,c){console.log("Renumber stories failed");if(_.isFunction(a.error)){a.error(b,c)}})}});var AcceptanceCriteriaCollection=Backbone.Collection.extend({model:AcceptanceCriterion,story:null,url:function(){if(!this.story||!this.story.get("id")){new App.Views.Error("Error, missing necessary data ID to display Acceptance Criteria")}else{return"/stories/"+this.story.get("id")+"/acceptance_criteria"}},initialize:function(b,a){this.story=a?a.story:null;_.bindAll(this,"saveOrder")},saveOrder:function(b){var a=this;_.each(b,function(c,d){var e=a.get(d);if(e){e.set({position:b[d]});e.save()}})}});var BacklogsCollection=Backbone.Collection.extend({model:Backlog,company_id:null,url:function(){if(!this.company_id){new App.Views.Error("Error, missing necesary ID to display Backlog")}else{return"/companies/"+this.company_id+"/backlogs"}},initialize:function(b,a){this.company_id=a?a.company_id:null}});var StoriesCollection=Backbone.Collection.extend({model:Story,theme:null,url:function(){if(!this.theme||!this.theme.get("id")){new App.Views.Error("Error, missing necessary data ID to display Story")}else{return"/themes/"+this.theme.get("id")+"/stories"}},initialize:function(b,a){this.theme=a?a.theme:null},saveOrder:function(b){var a=this;_.each(b,function(c,e){var d=a.get(e);if(d){d.set({position:b[e]});d.save()}})}});var ThemesCollection=Backbone.Collection.extend({model:Theme,backlog:null,url:function(){if(!this.backlog){new App.Views.Error("Error, cannot find Backlog and thus cannot load Theme")}else{return"/backlogs/"+this.backlog.get("id")+"/themes"}},initialize:function(b,a){this.backlog=a?a.backlog:null},saveOrder:function(b){var a=this;_.each(b,function(c,d){var e=a.get(d);if(e){e.set({position:b[d]});e.save()}})}});App.Controllers.Statistics={updateStatistics:function(b){if(!_.isEmpty(b)){console.log("Updating stats for themes "+_.map(b.themes,function(d){return d.theme_id}).join(","));var c=App.Collections.Backlogs.last();var a=_.clone(b);delete a.themes;c.set(a);c.trigger("statisticsUpdated");_.each(b.themes,function(d){var e=c.Themes().get(d.theme_id);e.set(d);e.trigger("statisticsUpdated")})}}};App.Views.BaseView=Backbone.View.extend({defaultEditableOptions:{onblur:"submit",tooltip:"Click to edit",placeholder:'<span class="editable-blank">[edit]</span>',lesswidth:5,type:"text"},initialize:function(){this.model=this.options.model;this.parentView=this.options.parentView;this.beforeChangeValue={};_.bindAll(this,"beforeChange","contentUpdated");if(this.changeEvent){_.bindAll(this,"changeEvent");var a=this.changeEvent;this.model.bind("all",function(b){a(b,this)})}if(this.updateStatistics){_.bindAll(this,"updateStatistics");this.model.bind("statisticsUpdated",this.updateStatistics)}},beforeChange:function(c,b,d){var a=$(d).parent().attr("class").replace(/\-/g,"_");this.beforeChangeValue[a]=c;return(c)},contentUpdated:function(value,settings,target){var fieldId=$(target).parent().attr("class").replace(/\-/g,"_");var fieldWithValue=$(target);var beforeChangeValue=this.beforeChangeValue[fieldId];var view=this;if(value!=beforeChangeValue){console.log("value for "+fieldId+" has changed from "+this.beforeChangeValue[fieldId]+" to "+value);var attributes={};attributes[fieldId]=value;this.model.set(attributes);var this_model=this.model;var saveModelFunc=function(){this_model.save({},{error:function(model,response){var errorMessage="Unable to save changes...";try{errorMessage=eval("responseText = "+response.responseText).message}catch(e){console.log(e)}new App.Views.Error({message:errorMessage});fieldWithValue.text(_.isEmpty(beforeChangeValue)?"[edit]":beforeChangeValue);var valBack={};valBack[fieldId]=_.isEmpty(beforeChangeValue)?null:beforeChangeValue;this_model.set(valBack);if(fieldId=="code"){view.model.Stories().each(function(story,index){console.log(story);story.trigger("change:unique_id")})}}})};if(this.model.beforeSave){this.model.beforeSave(saveModelFunc)}else{saveModelFunc()}}return(value)},remove:function(b){b.preventDefault();var a=this;if(a.model.isNew()){a.model.collection.remove(a.model);$(a.el).slideUp("fast",function(){$(a.el).remove()})}else{$("#dialog-delete").remove();$("body").append(JST[this.deleteDialogTemplate]({model:this.model}));$("#dialog-delete").dialog({resizable:false,height:170,modal:true,buttons:{Delete:function(){a.deleteAction(this,a)},Cancel:function(){$(this).dialog("close")}}})}return(false)}});App.Views.AcceptanceCriteria={Index:Backbone.View.extend({tagName:"div",className:"acceptance-criteria",childId:function(a){return"acceptance-criteria-"+a.get("id")},events:{"click .actions a.new-acceptance-criterion":"createNew",},initialize:function(){this.collection=this.options.collection;_.bindAll(this,"orderChanged","displayOrderIndexes")},render:function(){var b=this;$(this.el).html(JST["acceptance_criteria/index"]({collection:this.collection.models}));this.collection.each(function(d){var c=new App.Views.AcceptanceCriteria.Show({model:d,id:b.childId(d),parentView:b});b.$("ul").append(c.render().el)});if(this.collection.story.IsEditable()){this.$("ul").append(JST["acceptance_criteria/new"]());var a=this.orderChanged;this.$("ul.acceptance-criteria").sortable({start:function(c,d){b.$("textarea, input").blur()},stop:function(c,d){a()},placeholder:"target-order-highlight",axis:"y",handle:".index"}).find(".index").disableSelection()}this.displayOrderIndexes();return(this)},createNew:function(d){d.preventDefault();var b=this.$("li.criterion:last");var a=new AcceptanceCriterion();var e=this;this.collection.add(a);var c=new App.Views.AcceptanceCriteria.Show({model:a,parentView:this}).render().el;if((b.find(".data textarea").length)&&(b.find(".data textarea").val()=="")){_.delay(function(){e.$("ul li:last").before(c);e.displayOrderIndexes();$(c).find(".data").click()},250)}else{this.$("ul li:last").before(c);this.displayOrderIndexes();this.$("ul li.criterion:last").css("display","none").slideDown(100,function(){$(c).find(".data").click()})}},orderChanged:function(){var a={};this.$("li.criterion").each(function(b,c){var d=_.last($(c).attr("id").split("-"));a[d]=b+1});console.log("Order changed and saving - "+JSON.stringify(a));this.collection.saveOrder(a);this.displayOrderIndexes()},displayOrderIndexes:function(){this.$("li.criterion").each(function(a,b){$(b).find(".index").html((a+1)+".")})}}),Show:App.Views.BaseView.extend({tagName:"li",className:"criterion",events:{},initialize:function(){App.Views.BaseView.prototype.initialize.call(this);_.bindAll(this,"navigateEvent")},render:function(){$(this.el).html(JST["acceptance_criteria/show"]({model:this.model}));if(this.model.IsEditable()){this.makeFieldsEditable();this.$(".data, .data input, .data textarea").live("keydown",this.navigateEvent)}return(this)},changeEvent:function(a,b){if(a=="change:id"){$(this.el).attr("id","acceptance-criteria-"+b.get("id"))}},makeFieldsEditable:function(){var ac_view=this;var contentUpdatedFunc=function(){var newVal=arguments[0];var model_collection=ac_view.model.collection;if(_.isEmpty(newVal)){$(ac_view.el).slideUp("fast",function(){$(ac_view.el).remove();if(ac_view.model.isNew()){model_collection.remove(ac_view.model)}else{ac_view.model.destroy({error:function(model,response){var errorMessage="Unable to delete story...  Please refresh.";try{errorMessage=eval("responseText = "+response.responseText).message}catch(e){console.log(e)}new App.Views.Error({message:errorMessage})}})}ac_view.parentView.displayOrderIndexes()})}else{return ac_view.contentUpdated(newVal,arguments[1],this)}};var beforeChangeFunc=function(){return ac_view.beforeChange(arguments[0],arguments[1],this)};var defaultOptions=_.extend(_.clone(this.defaultEditableOptions),{data:beforeChangeFunc,type:"textarea",autoResize:true});$(this.el).find(">div.data").editable(contentUpdatedFunc,defaultOptions)},navigateEvent:function(a){if(_.include([9,13,27],a.keyCode)&&(!a.ctrlKey)){$(a.target).blur();try{a.preventDefault()}catch(b){}var c=$(a.target).parents(".data").parent();if(!a.shiftKey){if(_.first(c)!=_.last(c.parent("ul").find("li.criterion"))){c.next().find(".data").click()}else{if($.trim(this.$("textarea").val())==""){$(this.el).parents("li.story").find("div.comments .data").click()}else{this.parentView.createNew(a)}}}else{if(_.first(c)==_.first(c.parent("ul").find("li.criterion"))){$(this.el).parents("li.story").find("div.so-i-can .data").click()}else{c.prev().find(".data").click()}}}}})};App.Views.Backlogs={Show:App.Views.BaseView.extend({dataArea:$("#backlog-data-area"),initialize:function(){App.Views.BaseView.prototype.initialize.call(this);_.bindAll(this,"navigateEvent","print","newSnapshot","jumpToSnapshot","compareSnapshot")},render:function(){var a=new App.Views.Themes.Index({collection:this.model.Themes()});this.$("#themes-container").html(a.render().el);var b=this;this.updateStatistics();$("#backlog-data-area .actions #print").click(this.print);$("#backlog-data-area #new-snapshot").click(this.newSnapshot);$("#backlog-data-area #compare-snapshot").click(this.compareSnapshot);$("#backlog-data-area select#snapshot-selector").change(this.jumpToSnapshot);if(this.model.IsEditable()){this.makeFieldsEditable();$("#backlog-data-area div.data, #backlog-data-area div.data input").live("keydown",this.navigateEvent);var c=$("ul.themes li.theme:first .theme-data .name .data");if(c.length){c.click()}else{$("ul.themes li.actions a.new-theme").focus()}}else{$("#backlog-data-area").addClass("not-editable");$("#backlog-container").addClass("not-editable")}return(this)},makeFieldsEditable:function(){var d=this;var h=function(j,i){return d.contentUpdated(j,i,this)};var c=function(j,i){return d.beforeChange(j,i,this)};var b=_.extend(_.clone(this.defaultEditableOptions),{data:c,lesswidth:-20,style:"margin-top: -3px"});var g,a;var f=function(j,i){g=j;a=d.model.get("rate");return d.beforeChange(a,i,this)};var e=function(j,i){if(a==j){_.delay(function(){d.changeEvent("change:rate_formatted")},100)}return d.contentUpdated(j,i,this)};$("#backlog-data-area h2.name .data, #backlog-data-area #backlog-velocity .data").editable(h,b);$("#backlog-data-area #backlog-rate .data").editable(e,_.extend(_.clone(b),{data:f}))},changeEvent:function(a,b){if(a.substring(0,7)=="change:"){var c=a.substring(7);if(c=="rate_formatted"){$("#backlog-data-area .rate>div.data").text(this.model.get(c))}else{$("#backlog-data-area ."+c.replace(/_/gi,"-")+">div.data").text(this.model.get(c))}App.Controllers.Statistics.updateStatistics(this.model.get("score_statistics"))}},updateStatistics:function(){$("#backlog-data-area .backlog-stats div.output").html(JST["backlogs/stats"]({model:this.model}))},navigateEvent:function(b){if(_.include([9,13,27],b.keyCode)){$(b.target).blur();try{b.preventDefault()}catch(c){}if(!b.shiftKey){var a=$("#themes-container ul.themes li.theme:first>.theme-data .name .data");if(a.length){a.click()}else{$("#themes-container ul.themes li.actions a.new-theme").focus()}}else{if(!$(b.target).parents("h2.name").is("h2")){$("#backlog-data-area h2.name>div.data").click()}else{$("li:last a:last").focus()}}}},print:function(b){var a=this;b.preventDefault();$("#dialog-print").remove();$("body").append(JST["backlogs/print-dialog"]({backlog:this.model}));$("#dialog-print").dialog({resizable:false,height:350,width:400,modal:true,buttons:{Print:function(){var e=$(this).find("#page-size option:selected").attr("id");var f=$(this).find("#fold-side option:selected").attr("id");$.cookie("fold-side-default",f);$.cookie("page-size-default",e);var d=$(b.target).attr("href");d+="?print_scope="+$(this).find("#print-scope option:selected").attr("id")+"&page_size="+e+"&fold_side="+f;document.location.href=d;$(this).find("p.progress-placeholder").html("Please wait, we're preparing your PDF...");$(this).parent().find(".ui-dialog-buttonset button:nth-child(2) span").text("Preparing...");$(this).parent().find(".ui-dialog-buttonset button:nth-child(1)").remove();var c=this;_.delay(function(){$(c).dialog("close")},2000)},Cancel:function(){$(this).dialog("close")}}})},newSnapshot:function(c){var a=this;var b=$(c.target);c.preventDefault();$("#dialog-create-snapshot").remove();$("body").append(JST["backlogs/create-snapshot-dialog"]({backlog:this.model}));$("#dialog-create-snapshot").dialog({resizable:false,height:210,width:350,modal:true,buttons:{"Create Snapshot":function(){var e=$(this).find("input[type=text]").val();if($.trim(e)==""){$(this).find("div.progress-area label").text("You must name your snapshot to continue.");$(this).find("div.progress-area").addClass("field_with_errors").find("input[type=text]").focus()}else{var d=b.attr("href"),g=$("meta[name=csrf-token]").attr("content"),i=$("meta[name=csrf-param]").attr("content"),h=$('<form method="post" action="'+d+'"></form>');fields='<input name="'+i+'" value="'+g+'" type="hidden" />';fields+='<input name="name" value="'+htmlEncode(e)+'" type="hidden" />';h.hide().append(fields).appendTo("body");h.submit();$(this).find("div.progress-area").html('Please wait, we\'re creating your snapshot...<br /><br /><span class="progress-icon"></span>');$(this).parent().find(".ui-dialog-buttonset button:nth-child(2) span").text("Preparing...");$(this).parent().find(".ui-dialog-buttonset button:nth-child(1)").remove();var f=this;_.delay(function(){$(f).dialog("close")},2000)}},Cancel:function(){$(this).dialog("close")}}})},jumpToSnapshot:function(b){b.preventDefault();var c=$(b.target).val();var a=document.location.pathname.match(/^\/companies\/\d+\/backlogs\/\d+/i)[0];if(c.match(/^\d+$/)){a+="/snapshots/"+c}$("#loading-new-snapshot").show();document.location.pathname=a},compareSnapshot:function(c){var a=this;var b=$(c.target);c.preventDefault();$("#dialog-compare-snapshot").remove();$("body").append(JST["backlogs/compare-snapshot-dialog"]({snapshot_options:$("#backlog-data-area select#snapshot-selector").html()}));$("#dialog-compare-snapshot").dialog({resizable:false,height:320,width:400,modal:true,buttons:{Compare:function(){var e=$(this).find("select#base-snapshot").val();var g=$(this).find("select#target-snapshot").val();if(e==g){$(this).find("div.error-message").html('<p><span class="error-alert ui-icon ui-icon-alert"></span>You cannot compare the same snapshots.  Please make another selection.</p>')}else{var d=document.location.pathname.match(/^\/companies\/\d+\/backlogs/i)[0];var f=document.location.pathname.match(/^\/companies\/\d+\/backlogs\/(\d+)/i)[1];window.open(d+"/compare/"+(e.match(/^\d+$/)?e:f)+"/"+(g.match(/^\d+$/)?g:f),"_newtab"+Math.floor(Math.random()*10000));$(this).dialog("close")}},Cancel:function(){$(this).dialog("close")}}})},})};App.Views.Notice=Backbone.View.extend({className:"notice",displayLength:5000,defaultMessage:"",initialize:function(){_.bindAll(this,"render");this.message=this.options.message||this.defaultMessage;this.render()},render:function(){var a=this;$(this.el).html(this.message);$(this.el).hide();$("#alert-space").html(this.el);$(this.el).slideDown();_.delay(function(){$(a.el).slideUp();_.delay(function(){a.remove()},100)},(this.className=="notice"?this.displayLength:this.displayLength*2));return this}});App.Views.Error=App.Views.Notice.extend({className:"error",defaultMessage:"Uh oh! Something went wrong. Please try again."});App.Views.Warning=App.Views.Notice.extend({className:"warning",defaultMessage:"Unfortunately we could not perform that action."});App.Views.Stories={Index:Backbone.View.extend({tagName:"div",className:"stories",childId:function(a){return"story-"+a.get("id")},events:{"click ul.stories .actions a.new-story":"createNew","keydown ul.stories .actions a.new-story":"storyKeyPress"},initialize:function(){this.collection=this.options.collection;_.bindAll(this,"orderChanged","displayOrderIndexes")},render:function(){var a=this;$(this.el).html(JST["stories/index"]({collection:this.collection.models}));this.collection.each(function(e){var d=new App.Views.Stories.Show({model:e,id:a.childId(e)});a.$("ul.stories").append(d.render().el)});if(this.collection.theme.IsEditable()){if(!this.collection.theme.isNew()){this.$("ul.stories").append(JST["stories/new"]())}var b=this.orderChanged;var c;this.$("ul.stories").sortable({start:function(d,e){c=a.$("ul.stories>.actions").clone();a.$("ul.stories>.actions").remove();a.storyDragged=true;$("#vtip").remove();a.$(".move-story.vtipActive").mouseleave();a.$(".move-story").removeClass("vtip");$(".color-picker").hide()},stop:function(d,e){App.Views.Stories.Index.stopMoveEvent=true;b();a.$("ul.stories").append(c);a.$(".move-story").addClass("vtip")},placeholder:"target-order-highlight",axis:"y",handle:".move-story a"}).find(".move-story").disableSelection();this.$(".color-picker-icon a").click(function(d){$("#vtip").remove();$(d.target).mouseleave()})}else{this.$(".story-actions").remove()}return(this)},createNew:function(b){b.preventDefault();var a=new Story();this.collection.add(a);this.$("ul.stories li:last").before(new App.Views.Stories.Show({model:a}).render().el);var c=this;this.$("ul.stories li.story:last").css("display","none").slideDown("fast",function(){c.$("ul.stories li.story:last > .user-story > .as-a > .data").click()})},storyKeyPress:function(c){if(9==c.keyCode){if(c.shiftKey){c.preventDefault();var a=$(this.el).parents("li.theme");if(a.has("li.story:last .score-90 .data").length){a.find("li.story:last .score-90 .data").click()}else{a.find(".theme-data .name .data").click()}}else{var b=$(this.el).parents("li.theme").next();if(b.length){b.find(".theme-data .name .data").click()}}}else{if(13==c.keyCode){this.createNew(c)}}},orderChanged:function(){var a={};this.$("li.story").each(function(b,c){var d=_.last($(c).attr("id").split("-"));if(!isNaN(parseInt(d))){a[d]=b+1}});console.log("Order changed and saving - "+JSON.stringify(a));this.collection.saveOrder(a)}}),Show:App.Views.BaseView.extend({tagName:"li",className:"story",deleteDialogTemplate:"stories/delete-dialog",events:{"click .delete-story>a":"remove"},initialize:function(){App.Views.BaseView.prototype.initialize.call(this);_.bindAll(this,"navigateEvent","moveToThemeDialog","moveToTheme","changeColor")},render:function(){$(this.el).html(JST["stories/show"]({model:this.model}));var a=new App.Views.AcceptanceCriteria.Index({collection:this.model.AcceptanceCriteria()});this.$(".acceptance-criteria").html(a.render().el);if(this.model.IsEditable()){this.makeFieldsEditable();var b=this;var c=[".user-story .data",".unique-id .data",".comments .data",".score-50 .data",".score-90 .data"];_.each(c,function(d){b.$(d+", "+d+" textarea, "+d+" input").live("keydown",b.navigateEvent)});this.$(".move-story a").mousedown(function(d){App.Views.Stories.Index.stopMoveEvent=false}).click(function(d){d.preventDefault();if(!App.Views.Stories.Index.stopMoveEvent){b.moveToThemeDialog()}});this.$(".color-picker-icon a").simpleColorPicker({onChangeColor:function(d){b.changeColor(d)},colorsPerLine:4,colors:["#ffffff","#dddddd","#bbbbbb","#999999","#ff0000","#ff9900","#ffff00","#00ff00","#00ffff","#6666ff","#9900ff","#ff00ff","#f4cccc","#d9ead3","#cfe2f3","#ead1dc","#ffe599","#b6d7a8","#b4a7d6","#d5a6bd","#e06666","#f6b26b","#ffd966","#93c47d"]})}if(this.model.get("color")){this.changeColor(this.model.get("color"),{silent:true})}return(this)},makeFieldsEditable:function(){var c=this;var h=function(j,i){return c.contentUpdated(j,i,this)};var b=function(j,i){return c.beforeChange(j,i,this)};var a=_.extend(_.clone(this.defaultEditableOptions),{data:b});var e=function(j,i){return(c.model.Theme().get("code")+h.call(this,j,i))};var f=function(j,i){return b.call(this,j.substring(3),i)};var d=_.extend(_.clone(a),{data:f});this.$(">div.unique-id .data").editable(e,d);this.$(">div.score-50 .data, >div.score-90 .data").editable(h,a);this.$(">div.comments .data").editable(h,_.extend(_.clone(a),{type:"textarea",saveonenterkeypress:true,autoResize:true}));var g=function(){var i=[];c.model.Theme().collection.each(function(j){i=i.concat(j.Stories().pluck("as_a"))});return _.uniq(_.compact(i)).sort()};_.each(["as-a","i-want-to","so-i-can"],function(i){_.defer(function(){var k=c.$(">div.user-story ."+i+" .heading").outerWidth()+10;var j=_.extend(_.clone(a),{type:(i=="as-a"?"text":"textarea"),saveonenterkeypress:true,lesswidth:k,autoResize:true,autoComplete:g});c.$(">div.user-story ."+i+" .data").editable(h,j)})})},navigateEvent:function(a){var h=$(a.target).is("input");if(_.include([9,13,27],a.keyCode)&&(!a.ctrlKey||h)){$(a.target).blur();try{a.preventDefault()}catch(g){}var i=["unique-id .data","as-a .data","i-want-to .data","so-i-can .data","acceptance-criteria ul.acceptance-criteria li:first-child>*","comments .data","score-50 .data","score-90 .data"];var f=$(a.target);if(!f.hasClass("data")){f=f.parents(".data")}f=f.parent().attr("class");var c=_.detect(i,function(e){return(_.first(e.split(" "))==f)});if(c){if(!a.shiftKey){if(c!=_.last(i)){this.$("."+i[_.indexOf(i,c)+1]).click()}else{var j=$(this.el).next();if(j.find("a.new-story").length){j.find("a.new-story").focus()}else{j.find("."+_.first(i)).click()}}}else{if(c!=_.first(i)){var d=i[_.indexOf(i,c)-1];if(d.indexOf("acceptance-criteria")==0){var b=this.$(".acceptance-criteria ul.acceptance-criteria li.criterion:last>*");if(b.length){b.click()}else{this.$(".acceptance-criteria ul.acceptance-criteria li:last a").click()}}else{this.$("."+d).click()}}else{if($(this.el).prev().length){$(this.el).prev().find(".score-90 .data").click()}else{$(this.el).parents("li.theme").find(".theme-data >.name .data").click()}}}}}},changeEvent:function(a,b){if((a.substring(0,7)=="change:")&&(a!="change:acceptance_criteria")){var d=a.substring(7);var c=this.model.get(d);if(d=="unique_id"){if(this.$(">div."+d.replace(/_/gi,"-")+">div.data input").length==0){c=this.model.Theme().get("code")+c;this.$(">div."+d.replace(/_/gi,"-")+">div.data").text(c)}else{this.$(">div."+d.replace(/_/gi,"-")+">div.data input").val(c)}}else{if(_.isString(c)){var c=multiLineHtmlEncode(c);if(c==""){c=this.defaultEditableOptions.placeholder}this.$("div."+d.replace(/_/gi,"-")+">div.data").html(c)}}if(a=="change:id"){$(this.el).attr("id","story-"+b.get("id"))}App.Controllers.Statistics.updateStatistics(this.model.get("score_statistics"))}},deleteAction:function(dialog_obj,view){var model_collection=view.model.collection;$(dialog_obj).find(">p").html("Deleting story...<br /><br />Please wait.");$(dialog_obj).parent().find(".ui-dialog-buttonset button:nth-child(2) span").text("Close");$(dialog_obj).parent().find(".ui-dialog-buttonset button:nth-child(1)").remove();view.model.destroy({error:function(model,response){var errorMessage="Unable to delete story...";try{errorMessage=eval("responseText = "+response.responseText).message}catch(e){console.log(e)}new App.Views.Error({message:errorMessage});$(dialog_obj).dialog("close")},success:function(model,response){model_collection.remove(view.model);$(view.el).remove();$(dialog_obj).dialog("close");App.Controllers.Statistics.updateStatistics(response.score_statistics)}})},moveToThemeDialog:function(){console.log("Requested to move");var a=this;$("#dialog-move-story").remove();$("body").append(JST["stories/move-dialog"]({story:this.model,themes:this.model.Theme().Backlog().Themes()}));$("#dialog-move-story").dialog({resizable:false,height:170,modal:true,buttons:{Move:function(){a.moveToTheme(this)},Cancel:function(){$(this).dialog("close")}}})},moveToTheme:function(b){var a=$(b).find("select#theme-target option:selected").attr("id");if(a!=this.model.Theme().get("id")){console.log("Moving to theme-"+a);$(this.el).insertBefore($("li.theme#theme-"+a+" ul.stories>li:last"));this.model.MoveToTheme(a,{success:function(d,c){new App.Views.Notice({message:"The story was moved successfully."})},error:function(){new App.Views.Error({message:"The story move failed.  Please refresh your browser."})}})}$(b).dialog("close")},changeColor:function(b,c){var a=(b.match(/^#/)?b.substring(1):b);var d="#"+a;if(a.toLowerCase()=="ffffff"){a=d=""}$(this.el).css("background-color",d);if(!c||!c.silent){this.model.set({color:a});this.model.save()}}})};App.Views.Themes={Index:Backbone.View.extend({tagName:"div",className:"themes",childId:function(a){return"theme-"+a.get("id")},events:{"click ul.themes .actions a.new-theme":"createNew","keydown ul.themes .actions a.new-theme":"themeKeyPress"},initialize:function(){this.collection=this.options.collection;_.bindAll(this,"orderChanged","displayOrderIndexes")},render:function(){var d=this;$(this.el).html(JST["themes/index"]({collection:this.collection.models}));this.collection.each(function(f){var e=new App.Views.Themes.Show({model:f,id:d.childId(f)});d.$(">ul").append(e.render().el)});this.$("ul.themes").append(JST["themes/new"]());if(this.collection.backlog.IsEditable()){var a=this.orderChanged;var c;var b;this.$("ul.themes").sortable({start:function(e,f){},stop:function(e,f){a()},placeholder:"target-order-highlight",axis:"y",handle:".move-theme"}).find(".move-theme").disableSelection();this.$("ul.themes .actions .reorder-themes").click(function(e){if($("ul.themes li.theme").length<2){new App.Views.Warning({message:"You need more than one theme to reorder"})}else{d.$("ul.stories,.theme-stats,ul.themes .delete-theme,ul.themes .theme-data .code,ul.themes>li.actions").slideUp(250,function(){d.$(".move-theme").css("display","block");d.$(".stop-ordering").css("display","block")})}});this.$(">.stop-ordering").click(function(e){d.$(".move-theme").css("display","none");d.$(".stop-ordering").css("display","none");d.$("ul.stories,.theme-stats,ul.themes .delete-theme,ul.themes .theme-data .code,ul.themes>li.actions").slideDown(250)})}else{this.$("ul.themes>li.actions").remove()}return(this)},createNew:function(b){b.preventDefault();var a=new Theme();this.collection.add(a);this.$("ul.themes li:last").before(new App.Views.Themes.Show({model:a}).render().el);var c=this;c.$("ul.themes li.theme:last").css("display","none").slideDown("fast",function(){$(c.el).find("ul.themes li.theme:last>.theme-data .name .data").click()})},themeKeyPress:function(b){if(9==b.keyCode){if(b.shiftKey){b.preventDefault();if(this.$("li.theme").length>0){var a=$("li.theme:last");if(a.has("li.actions a.new-story").length){a.find("li.actions a.new-story").focus()}else{a.find(".theme-data .name .data").click()}}else{$("#backlog-data-area h2.name .data").click()}}}else{if(13==b.keyCode){this.createNew(b)}}},orderChanged:function(){var a={};this.$("li.theme").each(function(b,c){var d=_.last($(c).attr("id").split("-"));if(!isNaN(parseInt(d))){a[d]=b+1}});console.log("Order changed and saving - "+JSON.stringify(a));this.collection.saveOrder(a)}}),Show:App.Views.BaseView.extend({tagName:"li",className:"theme",deleteDialogTemplate:"themes/delete-dialog",events:{"click .delete-theme>a":"remove","click .re-number-stories a":"reNumberStories"},initialize:function(){App.Views.BaseView.prototype.initialize.call(this);_.bindAll(this,"navigateEvent","reNumberStoriesAction")},render:function(){$(this.el).html(JST["themes/show"]({model:this.model}));var a=new App.Views.Stories.Index({collection:this.model.Stories()});this.$(">.stories").prepend(a.render().el);this.updateStatistics();if(this.model.IsEditable()){this.makeFieldsEditable();var b=this;_.each([".name",".code"],function(c){b.$(".theme-data "+c+">.data, .theme-data "+c+">.data input").live("keydown",b.navigateEvent)});this.$("ul.stories li.actions a.new-story").live("keydown",this.navigateEvent)}else{this.$("ul.stories>li.actions").remove();this.$(".re-number-stories a").remove();this.$(".delete-theme>a").remove()}return(this)},makeFieldsEditable:function(){var c=this;var d=function(h,g){var f=c.contentUpdated(h,g,this);var e=$(this).parent().attr("class").replace(/\-/g,"_");if(e=="code"){c.model.Stories().each(function(j,i){j.trigger("change:unique_id")})}return(f)};var b=function(f,e){return c.beforeChange(f,e,this)};var a=_.extend(_.clone(this.defaultEditableOptions),{data:b});this.$(".theme-data .name div.data").editable(d,a);this.$(".theme-data .code div.data").editable(d,_.extend(a,{lesswidth:-10}))},navigateEvent:function(d){if(_.include([9,13,27],d.keyCode)){$(d.target).blur();try{d.preventDefault()}catch(g){}if(!$(d.target).hasClass("new-story")){if(!d.shiftKey){var a=$(this.el).find("li.story:first-child");if(a.length){a.find(".unique-id .data").click()}else{$(this.el).next().find("a.new-theme").focus();$(this.el).find("ul.stories li a.new-story").focus()}}else{var f=$(d.target).parents(".data").parent().attr("class");if(f=="name"){var c=$(this.el).prev();if(c.length){if(c.find("ul.stories li.actions a.new-story")){c.find("ul.stories li.actions a.new-story").focus()}else{c.find(".theme-data >.name .data").click()}}else{$("#backlog-data-area h2.name .data").click()}}else{this.$(".theme-data >.name .data").click()}}}else{if(!d.shiftKey){var b=$(d.target).parents("li.theme").next();if(b.hasClass("theme")){b.find(">.name .data").click()}else{b.find("a.new-theme").focus()}}else{var h=$(this.el).find("ul.stories li.story:last .score-90 .data");if(h.length){h.click()}else{$(this.el).find(">.name .data").click()}}}}},changeEvent:function(a,b){if(a.substring(0,7)=="change:"){var c=a.substring(7);this.$(">.theme-data>."+c.replace(/_/gi,"-")+">div.data").text(this.model.get(c));this.updateStatistics();App.Controllers.Statistics.updateStatistics(this.model.get("score_statistics"));if(!this.$("ul.stories li.actions .new-story").length){if(!this.model.isNew()){this.$(">.stories ul.stories").append(JST["stories/new"]()).find(".actions a").focus()}}}if(a=="change:id"){$(this.el).attr("id","theme-"+b.get("id"))}},deleteAction:function(dialog_obj,view){var model_collection=view.model.collection;$(dialog_obj).find(">p").html("Deleting theme...<br /><br />Please wait.");$(dialog_obj).parent().find(".ui-dialog-buttonset button:nth-child(2) span").text("Close");$(dialog_obj).parent().find(".ui-dialog-buttonset button:nth-child(1)").remove();view.model.destroy({error:function(model,response){var errorMessage="Unable to delete story...";try{errorMessage=eval("responseText = "+response.responseText).message}catch(e){console.log(e)}new App.Views.Error({message:errorMessage});$(dialog_obj).dialog("close")},success:function(model,response){model_collection.remove(view.model);$(view.el).remove();$(dialog_obj).dialog("close");App.Controllers.Statistics.updateStatistics(response.score_statistics)}})},updateStatistics:function(){this.$(".theme-stats div").html(JST["themes/stats"]({model:this.model}))},reNumberStories:function(b){var a=this;b.preventDefault();$("#dialog-re-number").remove();$("body").append(JST["themes/re-number-dialog"]({}));$("#dialog-re-number").dialog({resizable:false,height:170,modal:true,buttons:{"Re-number":function(){a.reNumberStoriesAction(this)},Cancel:function(){$(this).dialog("close")}}})},reNumberStoriesAction:function(b){var a=this;$(b).find(">p").html('Re-numbering stories...<br />Please wait.<br /><br /><span class="progress-icon"></span>');$(b).parent().find(".ui-dialog-buttonset button:nth-child(2) span").text("Close");$(b).parent().find(".ui-dialog-buttonset button:nth-child(1)").remove();a.model.ReNumberStories({success:function(){$(b).dialog("close")},error:function(){new App.Views.Error({message:"Server error trying to renumber stories"});$(b).dialog("close")}})}})};(function(){window.JST=window.JST||{};window.JST["acceptance_criteria/index"]=_.template('<ul class="acceptance-criteria"></ul>');window.JST["acceptance_criteria/new"]=_.template('<li class="actions">  <a href="#new-acceptance-criterion" class="new-acceptance-criterion ui-icon ui-icon-plusthick">+</a></li>');window.JST["acceptance_criteria/show"]=_.template('<div class="index" title="Drag to reorder">&nbsp;</div><div class="data"><%= multiLineHtmlEncode(model.get(\'criterion\')) %></div>');window.JST["backlogs/compare-snapshot-dialog"]=_.template('<div id="dialog-compare-snapshot" title="Compare snapshots">  <form>    <p>      <span class="ui-icon ui-icon-transferthick-e-w" style="float:left; margin:0 7px 30px 0;" />      Please choose which snapshots you wish to compare, and a new window will be opened showing you the comparison.    </p>    <div class="error-message"></div>    <div class="elements">      <p>        <label for="base-snapshot">Which snapshot is your base (often the older version)?</label>      </p>      <p>        <select id="base-snapshot">          <%= snapshot_options %>        </select>      </p>      <br />      <p>        <label for="target-snapshot">Which snapshot are you comparing against (often the newer version)?</label>      </p>      <p>        <select id="target-snapshot">          <%= snapshot_options %>        </select>      </p>    </div>  </form></div>');window.JST["backlogs/create-snapshot-dialog"]=_.template('<div id="dialog-create-snapshot" title="Create new snapshot">  <form>    <p>      <span class="ui-icon ui-icon-plusthick" style="float:left; margin:0 7px 30px 0;" />      When you create a snapshot of this backlog, a new read-only copy of this snapshot as it is is created.    </p>    <div class="progress-area">      <p>        <label for="snapshot-name">Please name your snapshot:</label>      </p>      <p>        <input id="snapshot-name" type="text" value="">      </p>    </div>  </form></div>');window.JST["backlogs/print-dialog"]=_.template('<div id="dialog-print" title="Print story cards">  <form>    <p>      <span class="ui-icon ui-icon-print" style="float:left; margin:0 7px 30px 0;" />      Printing story cards requires the use of a printer that is capable of duplexing (double-sided printing).  Alternatively, and less favourably, you can glue each page pair together.    </p>    <p>      What would you like to print?    </p>    <p>      <select id="print-scope">        <option id="">All themes</option>        <optgroup label="Only the following theme">        <% backlog.Themes().each(function(theme) { %>          <option id="<%= theme.get(\'id\') %>"><%= htmlEncode(theme.get(\'name\')) %></option>        <% }); %>        </optgroup>      </select>      <br />    </p>    <p>      Please select your paper size    </p>    <p>      <select id="page-size">        <option id="A4"<%= ($.cookie("page-size-default") == \'A4\') ? \' selected\' : \'\' %>>A4</option>        <option id="LETTER"<%= ($.cookie("page-size-default") == \'LETTER\') ? \' selected\' : \'\' %>>Letter</option>      </select>      <br />    </p>    <p>      Which printer setting do you use for double-sided printing?    </p>    <p>      <select id="fold-side">        <option id="long"<%= ($.cookie("fold-side-default") == \'long\') ? \' selected\' : \'\' %>>Long side binding</option>        <option id="short"<%= ($.cookie("fold-side-default") == \'short\') ? \' selected\' : \'\' %>>Short side binding</option>      </select>      <br />    </p>    <p class="progress-placeholder">    </p>  </form></div>');window.JST["backlogs/stats"]=_.template("<%= addCommas((model.get('points') || 0).toFixed(1)) %> points / <%= model.get('cost_formatted')%> / <strong><%= addCommas((model.get('days') || 0).toFixed(1)) %> days</strong>");window.JST["layouts/confirm-dialog"]=_.template('<div id="dialog-confirm" class="dialog" title="<%= title %>"}  <p>    <span class="ui-icon ui-icon-alert" style="float:left; margin:0 7px 20px 0;"></span>    <%= confirmationMessage %>  </p></div>');window.JST["snapshots/snapshot-header"]=_.template('<td class="logo-space" colspan="<%=columns%>">  <a href="/" target="_blank" class="main-title">    <span class="easy">easy</span><span class="backlog">Backlog</span>  </a>  <span class="divider">|</span>  <b>Comparing Snapshots</b><td class="actions" colspan="<%=columns%>">  <a href="#help" id="help">Help?    <div id="help-rollover">      <div class="key"><span class="deleted"></span> Deleted from left</div>      <div class="key"><span class="new"></span> Added to right</div>      <div class="key"><span class="changed"></span> Value changed</div>      <div class="key"><span class="changed"></span> Value decreased</div>      <div class="key"><span class="changed"></span> Value increased</div>    </div>  </a>  <span class="divider">|</span>  <a href="<%= document.location.href %>.xls">Export</a>  <span class="divider">|</span>  <a href="#print" id="print">Print</a>  <span class="divider">|</span>  <a href="#close-window" id="close-window">Close</a></td>');window.JST["stories/delete-dialog"]=_.template('<div id="dialog-delete" title="Delete story?">  <p>    <span class="ui-icon ui-icon-alert" style="float:left; margin:0 7px 20px 0;" />    This story will be permanently deleted and cannot be recovered. Are you sure?  </p></div>');window.JST["stories/index"]=_.template('<ul class="stories"></ul>');window.JST["stories/move-dialog"]=_.template("<div id=\"dialog-move-story\" title=\"Move story\">  <p>    <span class=\"ui-icon ui-icon-arrow-4\" style=\"float:left; margin:0 7px 20px 0;\" />    Move story '<%=story.Theme().get('code') + story.get('unique_id')%>' to which theme?  </p>  <p>    <form>    <select id=\"theme-target\">      <% themes.each(function(theme) { %>        <option id=\"<%=theme.get('id')%>\"<%=(theme == story.Theme() ? ' selected=\"\"' : '') %>><%=theme.get('name')%></option>      <% }); %>    </select>    </form>  </p></div>");window.JST["stories/new"]=_.template('<li class="actions">  <a href="#new-story" class="new-story">Add story</a></li>');window.JST["stories/show"]=_.template('<div class="unique-id">  <div class="data"><%= model.Theme().get(\'code\')%><%= model.get(\'unique_id\')%></div>  <div class="story-actions">    <div class="color-picker-icon">      <a class="vtip" title="Assign a color"></a>    </div>    <div class="delete-story">      <a href="#delete-story" class="ui-icon ui-icon-trash vtip" title="Delete this story"></a>    </div>    <div class="move-story">      <a href="#move-story" class="vtip ui-icon ui-icon-arrow-4" title="Drag move to re-order this story, or click to move to another theme"></a>    </div>  </div></div><div class="user-story">  <div class="as-a"><div class="heading">As </div><div class="data"><%= htmlEncode(model.get(\'as_a\')) %></div></div>  <div class="i-want-to"><div class="heading">I want to </div><div class="data"><%= multiLineHtmlEncode(model.get(\'i_want_to\')) %></div></div>  <div class="so-i-can"><div class="heading">So I can </div><div class="data"><%= multiLineHtmlEncode(model.get(\'so_i_can\')) %></div></div></div><div class="acceptance-criteria"></div><div class="comments">  <div class="data"><%= multiLineHtmlEncode(model.get(\'comments\')) %></div></div><div class="score-50">  <div class="data"><%= htmlEncode(model.get(\'score_50\')) %></div></div><div class="score-90">  <div class="data"><%= htmlEncode(model.get(\'score_90\')) %></div></div><div class="cost-formatted">  <div class="data"><%= model.get(\'cost_formatted\') %></div></div><div class="days-formatted">  <div class="data"><%= model.get(\'days_formatted\') %></div></div>');window.JST["themes/delete-dialog"]=_.template('<div id="dialog-delete" title="Delete theme?">  <p>    <span class="ui-icon ui-icon-alert" style="float:left; margin:0 7px 20px 0;" />    This theme and all its stories will be permanently deleted and cannot be recovered. Are you sure?  </p></div>');window.JST["themes/index"]=_.template('<ul class="themes"></ul><div class="stop-ordering">  <a href="#stop-ordering">Stop ordering</a></div>');window.JST["themes/new"]=_.template('<li class="actions">  <a href="#new-theme" class="new-theme">Add theme</a>  <a href="#reorder-themes" class="reorder-themes">Reorder themes</a></li>');window.JST["themes/re-number-dialog"]=_.template('<div id="dialog-re-number" title="Re-number stories in this theme?">  <p>    <span class="ui-icon ui-icon-alert" style="float:left; margin:0 7px 20px 0;" />    Are you sure you want to re-number all the stories in this theme?  You cannot undo this?  </p></div>');window.JST["themes/show"]=_.template('<div class="theme-data">  <div class="name">    <div class="data"><%= htmlEncode(model.get(\'name\')) %></div>  </div>  <div class="theme-actions">    <div class="delete-theme"><a href="#delete-theme" class="ui-icon ui-icon-trash vtip" title="Delete this theme"></a></div>    <div class="re-number-stories"><a href="#re-number-stories" class="ui-icon ui-icon-shuffle vtip" title="Re-number the stories in this theme"></a></div>  </div>  <div class="code">    <div class="heading">Code:</div>    <div class="data"><%= htmlEncode(model.get(\'code\')) %></div>  </div></div><div class="stories">  <div class="theme-stats">    <div>&nbsp;</div>  </div></div><div class="move-theme">  <div class="icon ui-icon ui-icon-arrow-4"></div>  <div class="instructions">Drag this to reorder this theme</div></div>');window.JST["themes/stats"]=_.template("<div class=\"container\">  <% if (model.get('name') && model.get('name').length) { %>    <div class=\"title\">      Total for theme '<%= htmlEncode(model.get('name')) %>'    </div>  <% } %>  <div class=\"metrics\">    <%= addCommas((model.get('points') || 0).toFixed(1)) %> points / <%= model.get('cost_formatted')%> / <strong><%= addCommas((model.get('days') || 0).toFixed(1)) %> days</strong>  </div></div>")})();